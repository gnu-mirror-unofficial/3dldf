<html lang="en">
<head>
<title>3DLDF User and Reference Manual</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="3DLDF User and Reference Manual">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="top" href="#Top">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This is the 3DLDF User and Reference Manual, edition 1.1.5.1 for
3DLDF 1.1.5.1.
This manual was last updated on
16 January 2004.

3DLDF is a GNU package for three-dimensional drawing with MetaPost
output.
The author is Laurence D. Finston.

Copyright (C) 2003, 2004 , 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.2 or any later version published by the Free Software
     Foundation; with no Invariant Sections, no Front-Cover Texts, and
     no Back-Cover Texts.  A copy of the license is included in the
     section entitled "GNU Free Documentation License".
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<h1 class="settitle">3DLDF User and Reference Manual</h1>
   <div class="shortcontents">
<h2>Short Contents</h2>
<ul>
<li><a href="#toc_Introduction">1 Introduction</a></li>
<li><a href="#toc_Points">2 Points</a></li>
<li><a href="#toc_Transforming-Points">3 Transforming Points</a></li>
<li><a href="#toc_Transforms">4 Transforms</a></li>
<li><a href="#toc_Drawing-and-Labeling-Points">5 Drawing and Labeling Points</a></li>
<li><a href="#toc_Paths">6 Paths</a></li>
<li><a href="#toc_Plane-Figures">7 Plane Figures</a></li>
<li><a href="#toc_Solid-Figures">8 Solid Figures</a></li>
<li><a href="#toc_Pictures">9 Pictures</a></li>
<li><a href="#toc_Intersections">10 Intersections</a></li>
<li><a href="#toc_Installing-and-Running-3DLDF">11 Installing and Running 3DLDF</a></li>
<li><a href="#toc_Typedefs-and-Utility-Structures">12 Typedefs and Utility Structures</a></li>
<li><a href="#toc_Global-Constants-and-Variables">13 Global Constants and Variables</a></li>
<li><a href="#toc_Dynamic-Allocation-of-Shapes">14 Dynamic Allocation of Shapes</a></li>
<li><a href="#toc_System-Information">15 System Information</a></li>
<li><a href="#toc_Color-Reference">16 Color Reference</a></li>
<li><a href="#toc_Input-and-Output">17 Input and Output</a></li>
<li><a href="#toc_Shape-Reference">18 Shape Reference</a></li>
<li><a href="#toc_Transform-Reference">19 Transform Reference</a></li>
<li><a href="#toc_Label-Reference">20 Label Reference</a></li>
<li><a href="#toc_Picture-Reference">21 Picture Reference</a></li>
<li><a href="#toc_Point-Reference">22 Point Reference</a></li>
<li><a href="#toc_Focus-Reference">23 Focus Reference</a></li>
<li><a href="#toc_Line-Reference">24 Line Reference</a></li>
<li><a href="#toc_Plane-Reference">25 Plane Reference</a></li>
<li><a href="#toc_Path-Reference">26 Path Reference</a></li>
<li><a href="#toc_Polygon-Reference">27 Polygon Reference</a></li>
<li><a href="#toc_Regular-Polygon-Reference">28 Regular Polygon Reference</a></li>
<li><a href="#toc_Rectangle-Reference">29 Rectangle Reference</a></li>
<li><a href="#toc_Regular-Closed-Plane-Curve-Reference">30 Regular Closed Plane Curve Reference</a></li>
<li><a href="#toc_Ellipse-Reference">31 Ellipse Reference</a></li>
<li><a href="#toc_Circle-Reference">32 Circle Reference</a></li>
<li><a href="#toc_Pattern-Reference">33 Pattern Reference</a></li>
<li><a href="#toc_Solid-Reference">34 Solid Reference</a></li>
<li><a href="#toc_Faced-Solid-Reference">35 Faced Solid Reference</a></li>
<li><a href="#toc_Cuboid-Reference">36 Cuboid Reference</a></li>
<li><a href="#toc_Polyhedron-Reference">37 Polyhedron Reference</a></li>
<li><a href="#toc_Utility-Functions">38 Utility Functions</a></li>
<li><a href="#toc_Adding-a-File">39 Adding a File</a></li>
<li><a href="#toc_Future-Plans">40 Future Plans</a></li>
<li><a href="#toc_Changes">41 Changes</a></li>
<li><a href="#toc_Bibliography">Bibliography</a></li>
<li><a href="#toc_GNU-Free-Documentation-License">Appendix A GNU Free Documentation License</a></li>
<li><a href="#toc_Data-Type-and-Variable-Index">Data Type and Variable Index</a></li>
<li><a href="#toc_Function-Index">Function Index</a></li>
<li><a href="#toc_Concept-Index">Concept Index</a></li>
</ul>
</div>



   <div class="contents">
<h2>Table of Contents</h2>
<ul>
<li><a name="toc_Introduction" href="#Introduction">1 Introduction</a>
<ul>
<li><a href="#Sources-of-Information">1.1 Sources of Information</a>
<li><a href="#About-This-Manual">1.2 About This Manual</a>
<ul>
<li><a href="#Manual-Conventions">1.2.1 Conventions</a>
<li><a href="#Illustrations">1.2.2 Illustrations</a>
</li></ul>
<li><a href="#CWEB-Documentation">1.3 CWEB Documentation</a>
<li><a href="#Metafont-and-MetaPost">1.4 Metafont and MetaPost</a>
<li><a href="#Caveats">1.5 Caveats</a>
<ul>
<li><a href="#Accuracy">1.5.1 Accuracy</a>
<li><a href="#No-Input-Routine">1.5.2 No Input Routine</a>
</li></ul>
<li><a href="#Ports">1.6 Ports</a>
<li><a href="#Contributing-to-3DLDF">1.7 Contributing to 3DLDF</a>
</li></ul>
<li><a name="toc_Points" href="#Points">2 Points</a>
<ul>
<li><a href="#Declaring-and-Initializing-Points">2.1 Declaring and Initializing Points</a>
<li><a href="#Setting-and-Assigning-to-Points">2.2 Setting and Assigning to Points</a>
</li></ul>
<li><a name="toc_Transforming-Points" href="#Transforming-Points">3 Transforming Points</a>
<ul>
<li><a href="#Shifting-Points">3.1 Shifting</a>
<li><a href="#Scaling-Points">3.2 Scaling</a>
<li><a href="#Shearing-Points">3.3 Shearing</a>
<li><a href="#Rotating-Points">3.4 Rotating</a>
</li></ul>
<li><a name="toc_Transforms" href="#Transforms">4 Transforms</a>
<ul>
<li><a href="#Applying-Transforms-to-Points-Intro">4.1 Applying Transforms to Points</a>
<li><a href="#Inverting-Transforms">4.2 Inverting Transforms</a>
</li></ul>
<li><a name="toc_Drawing-and-Labeling-Points" href="#Drawing-and-Labeling-Points">5 Drawing and Labeling Points</a>
<ul>
<li><a href="#Drawing-Points-Intro">5.1 Drawing Points</a>
<li><a href="#Labeling-Points-Intro">5.2 Labeling Points</a>
</li></ul>
<li><a name="toc_Paths" href="#Paths">6 Paths</a>
<ul>
<li><a href="#Declaring-and-Initializing-Paths">6.1 Declaring and Initializing Paths</a>
<li><a href="#Drawing-and-Filling-Paths-Intro">6.2 Drawing and Filling Paths</a>
</li></ul>
<li><a name="toc_Plane-Figures" href="#Plane-Figures">7 Plane Figures</a>
<ul>
<li><a href="#Regular-Polygons-Getstart">7.1 Regular Polygons</a>
<li><a href="#Rectangles-Getstart">7.2 Rectangles</a>
<li><a href="#Ellipses-Getstart">7.3 Ellipses</a>
<li><a href="#Circles-Getstart">7.4 Circles</a>
</li></ul>
<li><a name="toc_Solid-Figures" href="#Solid-Figures">8 Solid Figures</a>
<ul>
<li><a href="#Cuboid-Getstart">8.1 Cuboids</a>
<li><a href="#Polyhedron-Getstart">8.2 Polyhedron</a>
<ul>
<li><a href="#Tetrahedron-Getstart">8.2.1 Tetrahedron</a>
<li><a href="#Dodecahedron-Getstart">8.2.2 Dodecahedron</a>
<li><a href="#Icosahedron-Getstart">8.2.3 Icosahedron</a>
</li></ul>
</li></ul>
<li><a name="toc_Pictures" href="#Pictures">9 Pictures</a>
<ul>
<li><a href="#Projections">9.1 Projections</a>
<ul>
<li><a href="#Parallel-Projections">9.1.1 Parallel Projections</a>
<li><a href="#The-Perspective-Projection">9.1.2 The Perspective Projection</a>
</li></ul>
<li><a href="#Focuses-Getstart">9.2 Focuses</a>
<li><a href="#Surface-Hiding">9.3 Surface Hiding</a>
</li></ul>
<li><a name="toc_Intersections" href="#Intersections">10 Intersections</a>
<li><a name="toc_Installing-and-Running-3DLDF" href="#Installing-and-Running-3DLDF">11 Installing and Running 3DLDF</a>
<ul>
<li><a href="#Installing-3DLDF">11.1 Installing 3DLDF</a>
<ul>
<li><a href="#Template-Functions">11.1.1 Template Functions</a>
</li></ul>
<li><a href="#Running-3DLDF">11.2 Running 3DLDF</a>
<ul>
<li><a href="#Converting-EPS-Files">11.2.1 Converting EPS Files</a>
<ul>
<li><a href="#Converting-EPS-Files-ELISP">11.2.1.1 Emacs-Lisp Functions</a>
</li></ul>
<li><a href="#Command-Line-Arguments">11.2.2 Command Line Arguments</a>
</li></ul>
</li></ul>
<li><a name="toc_Typedefs-and-Utility-Structures" href="#Typedefs-and-Utility-Structures">12 Typedefs and Utility Structures</a>
<li><a name="toc_Global-Constants-and-Variables" href="#Global-Constants-and-Variables">13 Global Constants and Variables</a>
<li><a name="toc_Dynamic-Allocation-of-Shapes" href="#Dynamic-Allocation-of-Shapes">14 Dynamic Allocation of Shapes</a>
<li><a name="toc_System-Information" href="#System-Information">15 System Information</a>
<ul>
<li><a href="#Endianness">15.1 Endianness</a>
<li><a href="#Register-Width">15.2 Register Width</a>
<li><a href="#Get-Second-Largest-Real">15.3 Get Second Largest Real</a>
</li></ul>
<li><a name="toc_Color-Reference" href="#Color-Reference">16 Color Reference</a>
<ul>
<li><a href="#Color-Data-Members">16.1 Data Members</a>
<li><a href="#Color-Constructors-and-Setting-Functions">16.2 Constructors and Setting Functions</a>
<li><a href="#Color-Operators">16.3 Operators</a>
<li><a href="#Modifying-Colors">16.4 Modifying</a>
<li><a href="#Showing-Colors">16.5 Showing</a>
<li><a href="#Querying-Colors">16.6 Querying</a>
<li><a href="#Defining-and-Initializing-Colors">16.7 Defining and Initializing Colors</a>
<li><a href="#Namespace-Colors">16.8 Namespace Colors.</a>
</li></ul>
<li><a name="toc_Input-and-Output" href="#Input-and-Output">17 Input and Output</a>
<ul>
<li><a href="#I_002fO-Global-Variables">17.1 Global Variables</a>
<li><a href="#I_002fO-Functions">17.2 I/O Functions</a>
</li></ul>
<li><a name="toc_Shape-Reference" href="#Shape-Reference">18 Shape Reference</a>
<ul>
<li><a href="#Shape-Data-Members">18.1 Data Members</a>
<li><a href="#Shape-Operators">18.2 Operators</a>
<li><a href="#Copying-Shapes">18.3 Copying</a>
<li><a href="#Modifying-Shapes">18.4 Modifying</a>
<li><a href="#Affine-Transformations-for-Shapes">18.5 Affine Transformations</a>
<li><a href="#Applying-Transformations-to-Shapes">18.6 Applying Transformations</a>
<li><a href="#Clearing-Shapes">18.7 Clearing</a>
<li><a href="#Querying-Shapes">18.8 Querying</a>
<li><a href="#Showing-Shapes">18.9 Showing</a>
<li><a href="#Outputting-Shapes">18.10 Outputting</a>
</li></ul>
<li><a name="toc_Transform-Reference" href="#Transform-Reference">19 Transform Reference</a>
<ul>
<li><a href="#Transform-Data-Members">19.1 Data Members</a>
<li><a href="#Transform-Global-Variables-and-Constants">19.2 Global Variables and Constants</a>
<li><a href="#Transform-Constructors">19.3 Constructors</a>
<li><a href="#Transform-Operators">19.4 Operators</a>
<li><a href="#Matrix-Inversion">19.5 Matrix Inversion</a>
<li><a href="#Setting-Values-Transforms">19.6 Setting Values</a>
<li><a href="#Querying-Transforms">19.7 Querying</a>
<li><a href="#Returning-Information-for-Transforms">19.8 Returning Information</a>
<li><a href="#Showing-Transforms">19.9 Showing</a>
<li><a href="#Affine-Transformations-for-Transforms">19.10 Affine Transformations</a>
<li><a href="#Alignment-with-an-Axis-for-Transforms">19.11 Alignment with an Axis</a>
<li><a href="#Resetting-Transforms">19.12 Resetting</a>
<li><a href="#Cleaning-Transforms">19.13 Cleaning</a>
</li></ul>
<li><a name="toc_Label-Reference" href="#Label-Reference">20 Label Reference</a>
<ul>
<li><a href="#Label-Data-Members">20.1 Data Members</a>
<li><a href="#Copying-Labels">20.2 Copying</a>
<li><a href="#Outputting-Labels">20.3 Outputting</a>
</li></ul>
<li><a name="toc_Picture-Reference" href="#Picture-Reference">21 Picture Reference</a>
<ul>
<li><a href="#Picture-Data-Members">21.1 Data Members</a>
<li><a href="#Picture-Global-Variables">21.2 Global Variables</a>
<li><a href="#Picture-Constructors">21.3 Constructors</a>
<li><a href="#Picture-Operators">21.4 Operators</a>
<li><a href="#Affine-Transformations-for-Pictures">21.5 Affine Transformations</a>
<li><a href="#Modifying-Pictures">21.6 Modifying</a>
<li><a href="#Showing-Pictures">21.7 Showing</a>
<li><a href="#Outputting-Pictures">21.8 Outputting</a>
<ul>
<li><a href="#Picture-Output-Namespaces">21.8.1 Namespaces</a>
<ul>
<li><a href="#Namespace-Projections">21.8.1.1 Namespace Projections</a>
<li><a href="#Namespace-Sorting">21.8.1.2 Namespace Sorting</a>
</li></ul>
<li><a href="#Picture-Output-Functions">21.8.2 Output Functions</a>
</li></ul>
</li></ul>
<li><a name="toc_Point-Reference" href="#Point-Reference">22 Point Reference</a>
<ul>
<li><a href="#Point-Data-Members">22.1 Data Members</a>
<li><a href="#Point-Typedefs-and-Utility-Structures">22.2 Typedefs and Utility Structures</a>
<li><a href="#Point-Global-Constants-and-Variables">22.3 Global Constants and Variables</a>
<li><a href="#Point-Constructors-and-Setting-Functions">22.4 Constructors and Setting Functions</a>
<li><a href="#Point-Destructor">22.5 Destructor</a>
<li><a href="#Point-Operators">22.6 Operators</a>
<li><a href="#Copying-Points">22.7 Copying</a>
<li><a href="#Querying-Points">22.8 Querying</a>
<li><a href="#Returning-Coordinates">22.9 Returning Coordinates</a>
<li><a href="#Returning-Information-for-Points">22.10 Returning Information</a>
<li><a href="#Modifying-Points">22.11 Modifying</a>
<li><a href="#Affine-Transformations-for-Points">22.12 Affine Transformations</a>
<li><a href="#Applying-Transformations-to-Points">22.13 Applying Transformations</a>
<li><a href="#Projecting-Points">22.14 Projecting</a>
<li><a href="#Vector-Operations">22.15 Vector Operations</a>
<li><a href="#Points-and-Lines">22.16 Points and Lines</a>
<li><a href="#Point-Intersections">22.17 Intersections</a>
<li><a href="#Point-Drawing-Functions">22.18 Drawing</a>
<li><a href="#Labelling-Points">22.19 Labelling</a>
<li><a href="#Showing-Points">22.20 Showing</a>
<li><a href="#Outputting-Points">22.21 Outputting</a>
</li></ul>
<li><a name="toc_Focus-Reference" href="#Focus-Reference">23 Focus Reference</a>
<ul>
<li><a href="#Focus-Data-Members">23.1 Data Members</a>
<li><a href="#Focus-Global-Variables">23.2 Global Variables</a>
<li><a href="#Focus-Constructors-and-Setting-Functions">23.3 Constructors and Setting Functions</a>
<li><a href="#Focus-Operators">23.4 Operators</a>
<li><a href="#Modifying-Focuses">23.5 Modifying</a>
<li><a href="#Querying-Focuses">23.6 Querying</a>
<li><a href="#Showing-Focuses">23.7 Showing</a>
</li></ul>
<li><a name="toc_Line-Reference" href="#Line-Reference">24 Line Reference</a>
<ul>
<li><a href="#Line-Data-Members">24.1 Data Members</a>
<li><a href="#Line-Global-Constants">24.2 Global Constants</a>
<li><a href="#Line-Constructors">24.3 Constructors</a>
<li><a href="#Line-Operators">24.4 Operators</a>
<li><a href="#Get-Path">24.5 Get Path</a>
<li><a href="#Showing">24.6 Showing</a>
</li></ul>
<li><a name="toc_Plane-Reference" href="#Plane-Reference">25 Plane Reference</a>
<ul>
<li><a href="#Planes-Data-Members">25.1 Data Members</a>
<li><a href="#Planes-Global-Constants">25.2 Global Constants</a>
<li><a href="#Planes-Constructors">25.3 Constructors</a>
<li><a href="#Planes-Operators">25.4 Operators</a>
<li><a href="#Planes-Returning-Information">25.5 Returning Information</a>
<li><a href="#Plane-Intersections">25.6 Intersections</a>
<li><a href="#Planes-Showing">25.7 Showing</a>
</li></ul>
<li><a name="toc_Path-Reference" href="#Path-Reference">26 Path Reference</a>
<ul>
<li><a href="#Path-Data-Members">26.1 Data Members</a>
<li><a href="#Path-Constructors-and-Setting-Functions">26.2 Constructors and Setting Functions</a>
<li><a href="#Path-Destructor">26.3 Destructor</a>
<li><a href="#Path-Operators">26.4 Operators</a>
<li><a href="#Appending-to-Paths">26.5 Appending</a>
<li><a href="#Copying-Paths">26.6 Copying</a>
<li><a href="#Clearing-Paths">26.7 Clearing</a>
<li><a href="#Modifying-Paths">26.8 Modifying</a>
<li><a href="#Affine-Transformations-for-Paths">26.9 Affine Transformations</a>
<li><a href="#Aligning-Paths-with-an-Axis">26.10 Aligning with an Axis</a>
<li><a href="#Applying-Transformations-to-Paths">26.11 Applying Transformations</a>
<li><a href="#Drawing-and-Filling-Paths">26.12 Drawing and Filling</a>
<li><a href="#Labelling-Paths">26.13 Labelling</a>
<li><a href="#Showing-Paths">26.14 Showing</a>
<li><a href="#Querying-Paths">26.15 Querying</a>
<li><a href="#Outputting-Paths">26.16 Outputting</a>
<li><a href="#Path-Intersections">26.17 Intersections</a>
</li></ul>
<li><a name="toc_Polygon-Reference" href="#Polygon-Reference">27 Polygon Reference</a>
<ul>
<li><a href="#Polygon-Data-Members">27.1 Data Members</a>
<li><a href="#Polygon-Operators">27.2 Operators</a>
<li><a href="#Querying-Polygons">27.3 Querying</a>
<li><a href="#Affine-Transformations-for-Polygons">27.4 Affine Transformations</a>
<li><a href="#Polygon-Intersections">27.5 Intersections</a>
</li></ul>
<li><a name="toc_Regular-Polygon-Reference" href="#Regular-Polygon-Reference">28 Regular Polygon Reference</a>
<ul>
<li><a href="#Regular-Polygon-Data-Members">28.1 Data Members</a>
<li><a href="#Regular-Polygon-Constructors-and-Setting-Functions">28.2 Constructors and Setting Functions</a>
<li><a href="#Regular-Polygon-Operators">28.3 Operators</a>
<li><a href="#Querying-Regular-Polygons">28.4 Querying</a>
<li><a href="#Circles-for-Regular-Polygons">28.5 Circles</a>
</li></ul>
<li><a name="toc_Rectangle-Reference" href="#Rectangle-Reference">29 Rectangle Reference</a>
<ul>
<li><a href="#Rectangle-Data-Members">29.1 Data Members</a>
<li><a href="#Rectangle-Constructors-and-Setting-Functions">29.2 Constructors and Setting Functions</a>
<li><a href="#Rectangle-Operators">29.3 Operators</a>
<li><a href="#Returning-Points-for-Rectangles">29.4 Returning Points</a>
<li><a href="#Querying-Rectangles">29.5 Querying</a>
<li><a href="#Ellipses-for-Rectangles">29.6 Ellipses</a>
</li></ul>
<li><a name="toc_Regular-Closed-Plane-Curve-Reference" href="#Regular-Closed-Plane-Curve-Reference">30 Regular Closed Plane Curve Reference</a>
<ul>
<li><a href="#Regular-Closed-Plane-Curve-Data-Members">30.1 Data Members</a>
<li><a href="#Querying-Regular-Closed-Plane-Curves">30.2 Querying</a>
<li><a href="#Regular-Closed-Plane-Curve-Intersections">30.3 Intersections</a>
<li><a href="#Regular-Closed-Plane-Curve-Segments">30.4 Segments</a>
</li></ul>
<li><a name="toc_Ellipse-Reference" href="#Ellipse-Reference">31 Ellipse Reference</a>
<ul>
<li><a href="#Ellipse-Data-Members">31.1 Data Members</a>
<li><a href="#Ellipse-Constructors-and-Setting-Functions">31.2 Constructors and Setting Functions</a>
<li><a href="#Performing-Transformations-on-Ellipses">31.3 Performing Transformations</a>
<li><a href="#Ellipse-Operators">31.4 Operators</a>
<li><a href="#Labeling-Ellipses">31.5 Labeling</a>
<li><a href="#Affine-Transformations-for-Ellipses">31.6 Affine Transformations</a>
<li><a href="#Querying-Ellipses">31.7 Querying</a>
<li><a href="#Returning-Elements-and-Information-for-Ellipses">31.8 Returning Elements and Information</a>
<li><a href="#Ellipse-Intersections">31.9 Intersections</a>
<li><a href="#Solving-Ellipses">31.10 Solving</a>
<li><a href="#Rectangles-for-Ellipses">31.11 Rectangles</a>
</li></ul>
<li><a name="toc_Circle-Reference" href="#Circle-Reference">32 Circle Reference</a>
<ul>
<li><a href="#Circle-Data-Members">32.1 Data Members</a>
<li><a href="#Circle-Constructors-and-Setting-Functions">32.2 Constructors and Setting Functions</a>
<li><a href="#Circle-Operators">32.3 Operators</a>
<li><a href="#Querying-Circles">32.4 Querying</a>
<li><a href="#Circle-Intersections">32.5 Intersections</a>
</li></ul>
<li><a name="toc_Pattern-Reference" href="#Pattern-Reference">33 Pattern Reference</a>
<ul>
<li><a href="#Plane-Tesselations">33.1 Plane Tesselations</a>
<li><a href="#Roulettes-and-Involutes">33.2 Roulettes and Involutes</a>
<ul>
<li><a href="#Epicycloids">33.2.1 Epicycloids</a>
</li></ul>
</li></ul>
<li><a name="toc_Solid-Reference" href="#Solid-Reference">34 Solid Reference</a>
<ul>
<li><a href="#Solid-Data-Members">34.1 Data Members</a>
<li><a href="#Solid-Constructors-and-Setting-Functions">34.2 Constructors and Setting Functions</a>
<li><a href="#Solid-Destructor">34.3 Destructor</a>
<li><a href="#Solid-Operators">34.4 Operators</a>
<li><a href="#Copying-Solids">34.5 Copying</a>
<li><a href="#Setting-Solid-Members">34.6 Setting Members</a>
<li><a href="#Querying-Solids">34.7 Querying</a>
<li><a href="#Returning-Elements-and-Information-Solids">34.8 Returning Elements and Information</a>
<ul>
<li><a href="#Getting-Shape-Centers-Solids">Getting Shape Centers</a>
<li><a href="#Getting-Shapes-Solids">Getting Shapes</a>
</li></ul>
<li><a href="#Showing-Solids">34.9 Showing</a>
<li><a href="#Affine-Transformations-for-Solids">34.10 Affine Transformations</a>
<li><a href="#Applying-Transformations-to-Solids">34.11 Applying Transformations</a>
<li><a href="#Outputting-Solids">34.12 Outputting</a>
<li><a href="#Drawing-and-Filling-Solids">34.13 Drawing and Filling</a>
<li><a href="#Clearing-Solids">34.14 Clearing</a>
</li></ul>
<li><a name="toc_Faced-Solid-Reference" href="#Faced-Solid-Reference">35 Faced Solid Reference</a>
<ul>
<li><a href="#Solid_005fFaced-Data-Members">35.1 Data Members</a>
</li></ul>
<li><a name="toc_Cuboid-Reference" href="#Cuboid-Reference">36 Cuboid Reference</a>
<ul>
<li><a href="#Cuboid-Data-Members">36.1 Data Members</a>
<li><a href="#Cuboid-Constructors-and-Setting-Functions">36.2 Constructors and Setting Functions</a>
<li><a href="#Cuboid-Operators">36.3 Operators</a>
</li></ul>
<li><a name="toc_Polyhedron-Reference" href="#Polyhedron-Reference">37 Polyhedron Reference</a>
<ul>
<li><a href="#Polyhedron-Data-Members">37.1 Data Members</a>
<li><a href="#Regular-Platonic-Polyhedra">37.2 Regular Platonic Polyhedra</a>
<ul>
<li><a href="#Tetrahedron">37.2.1 Tetrahedron</a>
<ul>
<li><a href="#Tetrahedron-Data-Members">37.2.1.1 Data Members</a>
<li><a href="#Tetrahedron-Constructors-and-Setting-Functions">37.2.1.2 Constructors and Setting Functions</a>
<li><a href="#Tetrahedron-Net">37.2.1.3 Net</a>
</li></ul>
<li><a href="#Dodecahedron">37.2.2 Dodecahedron</a>
<ul>
<li><a href="#Dodecahedron-Data-Members">37.2.2.1 Data Members</a>
<li><a href="#Dodecahedron-Constructors-and-Setting-Functions">37.2.2.2 Constructors and Setting Functions</a>
<li><a href="#Dodecahedron-Net">37.2.2.3 Net</a>
</li></ul>
<li><a href="#Icosahedron">37.2.3 Icosahedron</a>
<ul>
<li><a href="#Icosahedron-Data-Members">37.2.3.1 Data Members</a>
<li><a href="#Icosahedron-Constructors-and-Setting-Functions">37.2.3.2 Constructors and Setting Functions</a>
<li><a href="#Icosahedron-Net">37.2.3.3 Net</a>
</li></ul>
</li></ul>
<li><a href="#Semi_002dRegular-Archimedean-Polyhedra">37.3 Semi-Regular Archimedean Polyhedra</a>
<ul>
<li><a href="#Truncated-Octahedron">37.3.1 Truncated Octahedron</a>
<ul>
<li><a href="#Truncated-Octahedron-Data-Members">37.3.1.1 Data Members</a>
<li><a href="#Truncated-Octahedron-Constructors-and-Setting-Functions">37.3.1.2 Constructors and Setting Functions</a>
<li><a href="#Truncated-Octahedron-Net">37.3.1.3 Net</a>
</li></ul>
</li></ul>
</li></ul>
<li><a name="toc_Utility-Functions" href="#Utility-Functions">38 Utility Functions</a>
<ul>
<li><a href="#Perspective-Functions">38.1 Perspective Functions</a>
</li></ul>
<li><a name="toc_Adding-a-File" href="#Adding-a-File">39 Adding a File</a>
<li><a name="toc_Future-Plans" href="#Future-Plans">40 Future Plans</a>
<ul>
<li><a href="#Geometry">40.1 Geometry</a>
<li><a href="#Curves-and-Surfaces">40.2 Curves and Surfaces</a>
<li><a href="#Shadows">40.3 Shadows, Reflections, and Rendering</a>
<li><a href="#Multi_002dThreading">40.4 Multi-Threading</a>
</li></ul>
<li><a name="toc_Changes" href="#Changes">41 Changes</a>
<ul>
<li><a href="#Changes-in-3DLDF-1_002e1_002e5_002e1">41.1 3DLDF 1.1.5.1</a>
<li><a href="#Changes-in-3DLDF-1_002e1_002e5">41.2 3DLDF 1.1.5</a>
<li><a href="#Changes-in-3DLDF-1_002e1_002e4_002e2">41.3 3DLDF 1.1.4.2</a>
<li><a href="#Changes-in-3DLDF-1_002e1_002e4_002e1">41.4 3DLDF 1.1.4.1</a>
<li><a href="#Changes-in-3DLDF-1_002e1_002e4">41.5 3DLDF 1.1.4</a>
<li><a href="#Initial-version">41.6 3DLDF 1.1.1</a>
</li></ul>
<li><a name="toc_Bibliography" href="#Bibliography">Bibliography</a>
<li><a name="toc_GNU-Free-Documentation-License" href="#GNU-Free-Documentation-License">Appendix A GNU Free Documentation License</a>
<li><a name="toc_Data-Type-and-Variable-Index" href="#Data-Type-and-Variable-Index">Data Type and Variable Index</a>
<li><a name="toc_Function-Index" href="#Function-Index">Function Index</a>
<li><a name="toc_Concept-Index" href="#Concept-Index">Concept Index</a>
</li></ul>
</div>

<!-- node-name,  next,  previous,  up -->
<div class="node">
<a name="Top"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Introduction">Introduction</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#dir">(dir)</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#dir">(dir)</a>

</div>

   <p>This is the 3DLDF User and Reference Manual, edition 1.1.5.1 for
3DLDF 1.1.5.1.<br>  This manual was last updated on
16 January 2004.<br>
3DLDF is a GNU package for three-dimensional drawing with MetaPost
output. 
The author is Laurence D. Finston.

   <p>Copyright &copy; 2003, 2004 , 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation

   <blockquote>
Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.2
or any later version published by the Free Software Foundation;
with no Invariant Sections, no Front-Cover Texts, and no Back-Cover
Texts.  A copy of the license is included in the section entitled
&ldquo;GNU Free Documentation License&rdquo;. 
</blockquote>

   <p>Please note that the figures cannot be shown in the Info output
format.

<ul class="menu">
<li><a accesskey="1" href="#Introduction">Introduction</a>
<li><a accesskey="2" href="#Contributing-to-3DLDF">Contributing to 3DLDF</a>
<li><a accesskey="3" href="#Using-3DLDF">Using 3DLDF</a>
<li><a accesskey="4" href="#Points">Points</a>
<li><a accesskey="5" href="#Transforming-Points">Transforming Points</a>
<li><a accesskey="6" href="#Transforms">Transforms</a>
<li><a accesskey="7" href="#Drawing-and-Labeling-Points">Drawing and Labeling Points</a>
<li><a accesskey="8" href="#Paths">Paths</a>
<li><a accesskey="9" href="#Plane-Figures">Plane Figures</a>
<li><a href="#Solid-Figures">Solid Figures</a>
<li><a href="#Pictures">Pictures</a>
<li><a href="#Intersections">Intersections</a>
<li><a href="#Installing-and-Running-3DLDF">Installing and Running 3DLDF</a>
<li><a href="#Typedefs-and-Utility-Structures">Typedefs and Utility Structures</a>
<li><a href="#Global-Constants-and-Variables">Global Constants and Variables</a>
<li><a href="#Dynamic-Allocation-of-Shapes">Dynamic Allocation of Shapes</a>
<li><a href="#System-Information">System Information</a>
<li><a href="#Color-Reference">Color Reference</a>
<li><a href="#Input-and-Output">Input and Output</a>
<li><a href="#Shape-Reference">Shape Reference</a>
<li><a href="#Transform-Reference">Transform Reference</a>
<li><a href="#Label-Reference">Label Reference</a>
<li><a href="#Picture-Reference">Picture Reference</a>
<li><a href="#Point-Reference">Point Reference</a>
<li><a href="#Focus-Reference">Focus Reference</a>
<li><a href="#Line-Reference">Line Reference</a>
<li><a href="#Plane-Reference">Plane Reference</a>
<li><a href="#Path-Reference">Path Reference</a>
<li><a href="#Polygon-Reference">Polygon Reference</a>
<li><a href="#Regular-Polygon-Reference">Regular Polygon Reference</a>
<li><a href="#Rectangle-Reference">Rectangle Reference</a>
<li><a href="#Regular-Closed-Plane-Curve-Reference">Regular Closed Plane Curve Reference</a>
<li><a href="#Ellipse-Reference">Ellipse Reference</a>
<li><a href="#Circle-Reference">Circle Reference</a>
<li><a href="#Pattern-Reference">Pattern Reference</a>
<li><a href="#Solid-Reference">Solid Reference</a>
<li><a href="#Faced-Solid-Reference">Faced Solid Reference</a>
<li><a href="#Cuboid-Reference">Cuboid Reference</a>
<li><a href="#Polyhedron-Reference">Polyhedron Reference</a>
<li><a href="#Utility-Functions">Utility Functions</a>
<li><a href="#Adding-a-File">Adding a File</a>
<li><a href="#Future-Plans">Future Plans</a>
<li><a href="#Changes">Changes</a>
<li><a href="#Bibliography">Bibliography</a>
<li><a href="#GNU-Free-Documentation-License">GNU Free Documentation License</a>
<li><a href="#Data-Type-and-Variable-Index">Data Type and Variable Index</a>
<li><a href="#Function-Index">Function Index</a>
<li><a href="#Concept-Index">Concept Index</a>

</li></ul>
<p>Introduction

</p>
<ul class="menu">
<li><a href="#Sources-of-Information">Sources of Information</a>
<li><a href="#About-This-Manual">About This Manual</a>
<li><a href="#CWEB-Documentation">CWEB Documentation</a>
<li><a href="#Metafont-and-MetaPost">Metafont and MetaPost</a>
<li><a href="#Caveats">Caveats</a>
<li><a href="#Ports">Ports</a>

</li></ul>
<p>About This Manual

</p>
<ul class="menu">
<li><a href="#Manual-Conventions">Manual Conventions</a>
<li><a href="#Illustrations">Illustrations</a>

</li></ul>
<p>Caveats

</p>
<ul class="menu">
<li><a href="#Accuracy">Accuracy</a>
<li><a href="#No-Input-Routine">No Input Routine</a>

</li></ul>
<p>Points

</p>
<ul class="menu">
<li><a href="#Declaring-and-Initializing-Points">Declaring and Initializing Points</a>
<li><a href="#Setting-and-Assigning-to-Points">Setting and Assigning to Points</a>
<li><a href="#Shifting-Points">Shifting Points</a>
<li><a href="#Scaling-Points">Scaling Points</a>
<li><a href="#Shearing-Points">Shearing Points</a>
<li><a href="#Rotating-Points">Rotating Points</a>

</li></ul>
<p>Transforms

</p>
<ul class="menu">
<li><a href="#Applying-Transforms-to-Points-Intro">Applying Transforms to Points Intro</a>
<li><a href="#Inverting-Transforms">Inverting Transforms</a>

</li></ul>
<p>Drawing and Labeling Points

</p>
<ul class="menu">
<li><a href="#Drawing-Points-Intro">Drawing Points Intro</a>
<li><a href="#Labeling-Points-Intro">Labeling Points Intro</a>

</li></ul>
<p>Paths

</p>
<ul class="menu">
<li><a href="#Declaring-and-Initializing-Paths">Declaring and Initializing Paths</a>
<li><a href="#Drawing-and-Filling-Paths-Intro">Drawing and Filling Paths Intro</a>

</li></ul>
<p>Plane Figures

</p>
<ul class="menu">
<li><a href="#Regular-Polygons-Getstart">Regular Polygons Getstart</a>
<li><a href="#Rectangles-Getstart">Rectangles Getstart</a>
<li><a href="#Ellipses-Getstart">Ellipses Getstart</a>
<li><a href="#Circles-Getstart">Circles Getstart</a>

</li></ul>
<p>Solid Figures

</p>
<ul class="menu">
<li><a href="#Cuboid-Getstart">Cuboid Getstart</a>
<li><a href="#Polyhedron-Getstart">Polyhedron Getstart</a>

</li></ul>
<p>Polyhedron

</p>
<ul class="menu">
<li><a href="#Tetrahedron-Getstart">Tetrahedron Getstart</a>
<li><a href="#Dodecahedron-Getstart">Dodecahedron Getstart</a>
<li><a href="#Icosahedron-Getstart">Icosahedron Getstart</a>

</li></ul>
<p>Pictures

</p>
<ul class="menu">
<li><a href="#Projections">Projections</a>
<li><a href="#Focuses-Getstart">Focuses Getstart</a>
<li><a href="#Surface-Hiding">Surface Hiding</a>

</li></ul>
<p>Projections

</p>
<ul class="menu">
<li><a href="#Parallel-Projections">Parallel Projections</a>
<li><a href="#The-Perspective-Projection">The Perspective Projection</a>

</li></ul>
<p>Installing and Running 3DLDF

</p>
<ul class="menu">
<li><a href="#Installing-3DLDF">Installing 3DLDF</a>
<li><a href="#Running-3DLDF">Running 3DLDF</a>

</li></ul>
<p>Installing 3DLDF

</p>
<ul class="menu">
<li><a href="#Template-Functions">Template Functions</a>

</li></ul>
<p>Running 3DLDF

</p>
<ul class="menu">
<li><a href="#Converting-EPS-Files">Converting EPS Files</a>
<li><a href="#Command-Line-Arguments">Command Line Arguments</a>

</li></ul>
<p>Converting EPS Files

</p>
<ul class="menu">
<li><a href="#Converting-EPS-Files-ELISP">Converting EPS Files ELISP</a>

</li></ul>
<p>System Information

</p>
<ul class="menu">
<li><a href="#Endianness">Endianness</a>
<li><a href="#Register-Width">Register Width</a>
<li><a href="#Get-Second-Largest-Real">Get Second Largest Real</a>

</li></ul>
<p>Color Reference

</p>
<ul class="menu">
<li><a href="#Color-Data-Members">Color Data Members</a>
<li><a href="#Color-Constructors-and-Setting-Functions">Color Constructors and Setting Functions</a>
<li><a href="#Color-Operators">Color Operators</a>
<li><a href="#Modifying-Colors">Modifying Colors</a>
<li><a href="#Showing-Colors">Showing Colors</a>
<li><a href="#Querying-Colors">Querying Colors</a>
<li><a href="#Defining-and-Initializing-Colors">Defining and Initializing Colors</a>
<li><a href="#Namespace-Colors">Namespace Colors</a>

</li></ul>
<p>Input and Output

</p>
<ul class="menu">
<li><a href="#I_002fO-Global-Variables">I/O Global Variables</a>
<li><a href="#I_002fO-Functions">I/O Functions</a>

</li></ul>
<p>Shape Reference

</p>
<ul class="menu">
<li><a href="#Shape-Data-Members">Shape Data Members</a>
<li><a href="#Shape-Operators">Shape Operators</a>
<li><a href="#Copying-Shapes">Copying Shapes</a>
<li><a href="#Modifying-Shapes">Modifying Shapes</a>
<li><a href="#Affine-Transformations-for-Shapes">Affine Transformations for Shapes</a>
<li><a href="#Applying-Transformations-to-Shapes">Applying Transformations to Shapes</a>
<li><a href="#Clearing-Shapes">Clearing Shapes</a>
<li><a href="#Querying-Shapes">Querying Shapes</a>
<li><a href="#Showing-Shapes">Showing Shapes</a>
<li><a href="#Outputting-Shapes">Outputting Shapes</a>

</li></ul>
<p>Transform Reference

</p>
<ul class="menu">
<li><a href="#Transform-Data-Members">Transform Data Members</a>
<li><a href="#Transform-Global-Variables-and-Constants">Transform Global Variables and Constants</a>
<li><a href="#Transform-Constructors">Transform Constructors </a>
<li><a href="#Transform-Operators">Transform Operators</a>
<li><a href="#Matrix-Inversion">Matrix Inversion</a>
<li><a href="#Setting-Values-Transforms">Setting Values Transforms</a>
<li><a href="#Querying-Transforms">Querying Transforms</a>
<li><a href="#Returning-Information-for-Transforms">Returning Information for Transforms</a>
<li><a href="#Showing-Transforms">Showing Transforms</a>
<li><a href="#Affine-Transformations-for-Transforms">Affine Transformations for Transforms</a>
<li><a href="#Alignment-with-an-Axis-for-Transforms">Alignment with an Axis for Transforms</a>
<li><a href="#Resetting-Transforms">Resetting Transforms</a>
<li><a href="#Cleaning-Transforms">Cleaning Transforms</a>

</li></ul>
<p>Label Reference

</p>
<ul class="menu">
<li><a href="#Label-Data-Members">Label Data Members</a>
<li><a href="#Copying-Labels">Copying Labels</a>
<li><a href="#Outputting-Labels">Outputting Labels</a>

</li></ul>
<p>Picture Reference

</p>
<ul class="menu">
<li><a href="#Picture-Data-Members">Picture Data Members</a>
<li><a href="#Picture-Global-Variables">Picture Global Variables</a>
<li><a href="#Picture-Constructors">Picture Constructors</a>
<li><a href="#Picture-Operators">Picture Operators</a>
<li><a href="#Affine-Transformations-for-Pictures">Affine Transformations for Pictures</a>
<li><a href="#Modifying-Pictures">Modifying Pictures</a>
<li><a href="#Showing-Pictures">Showing Pictures</a>
<li><a href="#Outputting-Pictures">Outputting Pictures</a>

</li></ul>
<p>Outputting

</p>
<ul class="menu">
<li><a href="#Picture-Output-Namespaces">Picture Output Namespaces</a>
<li><a href="#Picture-Output-Functions">Picture Output Functions</a>

</li></ul>
<p>Namespaces

</p>
<ul class="menu">
<li><a href="#Namespace-Projections">Namespace Projections</a>
<li><a href="#Namespace-Sorting">Namespace Sorting</a>

</li></ul>
<p>Point Reference

</p>
<ul class="menu">
<li><a href="#Point-Data-Members">Point Data Members</a>
<li><a href="#Point-Typedefs-and-Utility-Structures">Point Typedefs and Utility Structures</a>
<li><a href="#Point-Global-Constants-and-Variables">Point Global Constants and Variables</a>
<li><a href="#Point-Constructors-and-Setting-Functions">Point Constructors and Setting Functions</a>
<li><a href="#Point-Destructor">Point Destructor</a>
<li><a href="#Point-Operators">Point Operators</a>
<li><a href="#Copying-Points">Copying Points</a>
<li><a href="#Querying-Points">Querying Points</a>
<li><a href="#Returning-Coordinates">Returning Coordinates</a>
<li><a href="#Returning-Information-for-Points">Returning Information for Points</a>
<li><a href="#Modifying-Points">Modifying Points</a>
<li><a href="#Affine-Transformations-for-Points">Affine Transformations for Points</a>
<li><a href="#Applying-Transformations-to-Points">Applying Transformations to Points</a>
<li><a href="#Projecting-Points">Projecting Points</a>
<li><a href="#Vector-Operations">Vector Operations</a>
<li><a href="#Points-and-Lines">Points and Lines</a>
<li><a href="#Point-Intersections">Point Intersections</a>
<li><a href="#Point-Drawing-Functions">Point Drawing Functions</a>
<li><a href="#Labelling-Points">Labelling Points</a>
<li><a href="#Showing-Points">Showing Points</a>
<li><a href="#Outputting-Points">Outputting Points</a>

</li></ul>
<p>Focus Reference

</p>
<ul class="menu">
<li><a href="#Focus-Data-Members">Focus Data Members</a>
<li><a href="#Focus-Global-Variables">Focus Global Variables</a>
<li><a href="#Focus-Constructors-and-Setting-Functions">Focus Constructors and Setting Functions</a>
<li><a href="#Focus-Operators">Focus Operators</a>
<li><a href="#Modifying-Focuses">Modifying Focuses</a>
<li><a href="#Querying-Focuses">Querying Focuses</a>
<li><a href="#Showing-Focuses">Showing Focuses</a>

</li></ul>
<p>Line Reference

</p>
<ul class="menu">
<li><a href="#Line-Data-Members">Line Data Members</a>
<li><a href="#Line-Global-Constants">Line Global Constants</a>
<li><a href="#Line-Constructors">Line Constructors</a>
<li><a href="#Line-Operators">Line Operators</a>
<li><a href="#Get-Path">Get Path</a>
<li><a href="#Showing">Showing</a>

</li></ul>
<p>Plane Reference

</p>
<ul class="menu">
<li><a href="#Planes-Data-Members">Planes Data Members</a>
<li><a href="#Planes-Global-Constants">Planes Global Constants</a>
<li><a href="#Planes-Constructors">Planes Constructors</a>
<li><a href="#Planes-Operators">Planes Operators</a>
<li><a href="#Planes-Returning-Information">Planes Returning Information</a>
<li><a href="#Plane-Intersections">Plane Intersections</a>
<li><a href="#Planes-Showing">Planes Showing</a>

</li></ul>
<p>Path Reference

</p>
<ul class="menu">
<li><a href="#Path-Data-Members">Path Data Members</a>
<li><a href="#Path-Constructors-and-Setting-Functions">Path Constructors and Setting Functions</a>
<li><a href="#Path-Destructor">Path Destructor</a>
<li><a href="#Path-Operators">Path Operators</a>
<li><a href="#Appending-to-Paths">Appending to Paths </a>
<li><a href="#Copying-Paths">Copying Paths</a>
<li><a href="#Clearing-Paths">Clearing Paths </a>
<li><a href="#Modifying-Paths">Modifying Paths </a>
<li><a href="#Affine-Transformations-for-Paths">Affine Transformations for Paths</a>
<li><a href="#Aligning-Paths-with-an-Axis">Aligning Paths with an Axis</a>
<li><a href="#Applying-Transformations-to-Paths">Applying Transformations to Paths</a>
<li><a href="#Drawing-and-Filling-Paths">Drawing and Filling Paths</a>
<li><a href="#Labelling-Paths">Labelling Paths</a>
<li><a href="#Showing-Paths">Showing Paths</a>
<li><a href="#Querying-Paths">Querying Paths</a>
<li><a href="#Outputting-Paths">Outputting Paths</a>
<li><a href="#Path-Intersections">Path Intersections</a>

</li></ul>
<p>Polygon Reference

</p>
<ul class="menu">
<li><a href="#Polygon-Data-Members">Polygon Data Members</a>
<li><a href="#Polygon-Operators">Polygon Operators</a>
<li><a href="#Querying-Polygons">Querying Polygons</a>
<li><a href="#Affine-Transformations-for-Polygons">Affine Transformations for Polygons</a>
<li><a href="#Polygon-Intersections">Polygon Intersections</a>

</li></ul>
<p>Regular Polygon Reference

</p>
<ul class="menu">
<li><a href="#Regular-Polygon-Data-Members">Regular Polygon Data Members</a>
<li><a href="#Regular-Polygon-Constructors-and-Setting-Functions">Regular Polygon Constructors and Setting Functions</a>
<li><a href="#Regular-Polygon-Operators">Regular Polygon Operators</a>
<li><a href="#Querying-Regular-Polygons">Querying Regular Polygons</a>
<li><a href="#Circles-for-Regular-Polygons">Circles for Regular Polygons</a>

</li></ul>
<p>Rectangle Reference

</p>
<ul class="menu">
<li><a href="#Rectangle-Data-Members">Rectangle Data Members</a>
<li><a href="#Rectangle-Constructors-and-Setting-Functions">Rectangle Constructors and Setting Functions</a>
<li><a href="#Rectangle-Operators">Rectangle Operators</a>
<li><a href="#Returning-Points-for-Rectangles">Returning Points for Rectangles</a>
<li><a href="#Querying-Rectangles">Querying Rectangles</a>
<li><a href="#Ellipses-for-Rectangles">Ellipses for Rectangles</a>

</li></ul>
<p>Regular Closed Plane Curve Reference

</p>
<ul class="menu">
<li><a href="#Regular-Closed-Plane-Curve-Data-Members">Regular Closed Plane Curve Data Members</a>
<li><a href="#Querying-Regular-Closed-Plane-Curves">Querying Regular Closed Plane Curves</a>
<li><a href="#Regular-Closed-Plane-Curve-Intersections">Regular Closed Plane Curve Intersections</a>
<li><a href="#Regular-Closed-Plane-Curve-Segments">Regular Closed Plane Curve Segments</a>

</li></ul>
<p>Ellipse Reference

</p>
<ul class="menu">
<li><a href="#Ellipse-Data-Members">Ellipse Data Members</a>
<li><a href="#Ellipse-Constructors-and-Setting-Functions">Ellipse Constructors and Setting Functions</a>
<li><a href="#Performing-Transformations-on-Ellipses">Performing Transformations on Ellipses</a>
<li><a href="#Ellipse-Operators">Ellipse Operators</a>
<li><a href="#Labeling-Ellipses">Labeling Ellipses</a>
<li><a href="#Affine-Transformations-for-Ellipses">Affine Transformations for Ellipses</a>
<li><a href="#Querying-Ellipses">Querying Ellipses</a>
<li><a href="#Returning-Elements-and-Information-for-Ellipses">Returning Elements and Information for Ellipses</a>
<li><a href="#Ellipse-Intersections">Ellipse Intersections</a>
<li><a href="#Solving-Ellipses">Solving Ellipses</a>
<li><a href="#Rectangles-for-Ellipses">Rectangles for Ellipses</a>

</li></ul>
<p>Circle Reference

</p>
<ul class="menu">
<li><a href="#Circle-Data-Members">Circle Data Members</a>
<li><a href="#Circle-Constructors-and-Setting-Functions">Circle Constructors and Setting Functions</a>
<li><a href="#Circle-Operators">Circle Operators</a>
<li><a href="#Querying-Circles">Querying Circles</a>
<li><a href="#Circle-Intersections">Circle Intersections</a>

</li></ul>
<p>Pattern Reference

</p>
<ul class="menu">
<li><a href="#Plane-Tesselations">Plane Tesselations</a>
<li><a href="#Roulettes-and-Involutes">Roulettes and Involutes</a>

</li></ul>
<p>Roulettes and Involutes

</p>
<ul class="menu">
<li><a href="#Epicycloids">Epicycloids</a>

</li></ul>
<p>Solid Reference

</p>
<ul class="menu">
<li><a href="#Solid-Data-Members">Solid Data Members</a>
<li><a href="#Solid-Constructors-and-Setting-Functions">Solid Constructors and Setting Functions</a>
<li><a href="#Solid-Destructor">Solid Destructor</a>
<li><a href="#Solid-Operators">Solid Operators</a>
<li><a href="#Copying-Solids">Copying Solids</a>
<li><a href="#Setting-Solid-Members">Setting Solid Members</a>
<li><a href="#Querying-Solids">Querying Solids</a>
<li><a href="#Returning-Elements-and-Information-Solids">Returning Elements and Information Solids</a>
<li><a href="#Showing-Solids">Showing Solids</a>
<li><a href="#Affine-Transformations-for-Solids">Affine Transformations for Solids</a>
<li><a href="#Applying-Transformations-to-Solids">Applying Transformations to Solids</a>
<li><a href="#Outputting-Solids">Outputting Solids</a>
<li><a href="#Drawing-and-Filling-Solids">Drawing and Filling Solids</a>
<li><a href="#Clearing-Solids">Clearing Solids</a>

</li></ul>
<p>Returning Elements and Information

</p>
<ul class="menu">
<li><a href="#Getting-Shape-Centers-Solids">Getting Shape Centers Solids</a>
<li><a href="#Getting-Shapes-Solids">Getting Shapes Solids</a>

</li></ul>
<p>Faced Solid Reference

</p>
<ul class="menu">
<li><a href="#Solid_005fFaced-Data-Members">Solid_Faced Data Members</a>

</li></ul>
<p>Cuboid Reference

</p>
<ul class="menu">
<li><a href="#Cuboid-Data-Members">Cuboid Data Members</a>
<li><a href="#Cuboid-Constructors-and-Setting-Functions">Cuboid Constructors and Setting Functions</a>
<li><a href="#Cuboid-Operators">Cuboid Operators</a>

</li></ul>
<p>Polyhedron Reference

</p>
<ul class="menu">
<li><a href="#Polyhedron-Data-Members">Polyhedron Data Members</a>
<li><a href="#Regular-Platonic-Polyhedra">Regular Platonic Polyhedra</a>
<li><a href="#Semi_002dRegular-Archimedean-Polyhedra">Semi-Regular Archimedean Polyhedra</a>

</li></ul>
<p>Regular Platonic Polyhedra

</p>
<ul class="menu">
<li><a href="#Tetrahedron">Tetrahedron</a>
<li><a href="#Dodecahedron">Dodecahedron</a>
<li><a href="#Icosahedron">Icosahedron</a>

</li></ul>
<p>Tetrahedron

</p>
<ul class="menu">
<li><a href="#Tetrahedron-Data-Members">Tetrahedron Data Members</a>
<li><a href="#Tetrahedron-Constructors-and-Setting-Functions">Tetrahedron Constructors and Setting Functions</a>
<li><a href="#Tetrahedron-Net">Tetrahedron Net</a>

</li></ul>
<p>Dodecahedron

</p>
<ul class="menu">
<li><a href="#Dodecahedron-Data-Members">Dodecahedron Data Members</a>
<li><a href="#Dodecahedron-Constructors-and-Setting-Functions">Dodecahedron Constructors and Setting Functions</a>
<li><a href="#Dodecahedron-Net">Dodecahedron Net</a>

</li></ul>
<p>Icosahedron

</p>
<ul class="menu">
<li><a href="#Icosahedron-Data-Members">Icosahedron Data Members</a>
<li><a href="#Icosahedron-Constructors-and-Setting-Functions">Icosahedron Constructors and Setting Functions</a>
<li><a href="#Icosahedron-Net">Icosahedron Net</a>

</li></ul>
<p>Semi-Regular Archimedean Polyhedra

</p>
<ul class="menu">
<li><a href="#Truncated-Octahedron">Truncated Octahedron</a>

</li></ul>
<p>Truncated Octahedron

</p>
<ul class="menu">
<li><a href="#Truncated-Octahedron-Data-Members">Truncated Octahedron Data Members</a>
<li><a href="#Truncated-Octahedron-Constructors-and-Setting-Functions">Truncated Octahedron Constructors and Setting Functions</a>
<li><a href="#Truncated-Octahedron-Net">Truncated Octahedron Net</a>

</li></ul>
<p>Utility Functions

</p>
<ul class="menu">
<li><a href="#Perspective-Functions">Perspective Functions</a>

</li></ul>
<p>Future Plans

</p>
<ul class="menu">
<li><a href="#Geometry">Geometry</a>
<li><a href="#Curves-and-Surfaces">Curves and Surfaces</a>
<li><a href="#Shadows">Shadows</a>
<li><a href="#Multi_002dThreading">Multi-Threading</a>

</li></ul>
<p>Changes

</p>
<ul class="menu">
<li><a href="#Changes-in-3DLDF-1_002e1_002e5_002e1">Changes in 3DLDF 1.1.5.1</a>
<li><a href="#Changes-in-3DLDF-1_002e1_002e5">Changes in 3DLDF 1.1.5</a>
<li><a href="#Changes-in-3DLDF-1_002e1_002e4_002e2">Changes in 3DLDF 1.1.4.2</a>
<li><a href="#Changes-in-3DLDF-1_002e1_002e4_002e1">Changes in 3DLDF 1.1.4.1</a>
<li><a href="#Changes-in-3DLDF-1_002e1_002e4">Changes in 3DLDF 1.1.4</a>
<li><a href="#Initial-version">Initial version</a>

   </ul>

<!-- UBAR is only used in code written to examples.web.  There's no need -->
<!-- for versions for it for Info or HTML.  LDF 2003.12.07. -->
<!-- Kludge!  This won't work for 1 degree in the Info version! -->
<!-- LDF 2003.11.25. -->
<!-- %% \OCB and \CCB are used in \BGRP and \EGRP (begin group and end group) -->
<!-- %% for writing curly braces to the file of 3DLDF example code. -->
<!-- Calling this `@TIMES' caused problems.  Maybe the name wasn't the -->
<!-- reason, though.  But I don't feel like experimenting to find out. -->
<!-- LDF 2003.12.08. -->
<!-- ``By'' for matrices. -->
<!-- intro.texi -->
<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
<!-- node-name,  next,  previous,  up -->
<div class="node">
<a name="Introduction"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Contributing-to-3DLDF">Contributing to 3DLDF</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Top">Top</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">1 Introduction</h2>

<p>3DLDF is a free software package for three-dimensional drawing written by
Laurence D. Finston, who is also the author of this manual. 
It is written in C++
 using CWEB and it outputs MetaPost code.

   <p>3DLDF is a GNU package. 
It is part of the GNU Project of the
Free Software Foundation
and is published under the GNU General Public License. 
See the website <a href="http://www.gnu.org">http://www.gnu.org</a> for more
information. 
3DLDF is available for downloading from
<a href="http://ftp.gnu.org/gnu/3dldf">http://ftp.gnu.org/gnu/3dldf</a>. 
The official 3DLDF website is
<a href="http://www.gnu.org/software/3dldf">http://www.gnu.org/software/3dldf</a>. 
More information about 3DLDF can be found at the author's website:
<a href="http://wwwuser.gwdg.de/~lfinsto1">http://wwwuser.gwdg.de/~lfinsto1</a>.

   <p>Please send bug reports to:

<pre class="display">     <a href="mailto:bug-3DLDF@gnu.org">bug-3DLDF@gnu.org</a> and
</pre>
   <!-- Not currently listing DANTE as a site for downloading. -->
<!-- LDF 2003.11.20. -->
<!-- @uref{http://www.dante.de/software/ctan/, the Dante www-server} -->
   <p>Two other mailing lists may be of interest to users of 3DLDF:
<a href="mailto:help-3DLDF@gnu.org">help-3DLDF@gnu.org</a> is for people to ask other
users for help and <a href="mailto:info-3DLDF@gnu.org">info-3DLDF@gnu.org</a> is for sending
announcements to users.  To subscribe, send an email to the
appropriate mailing list or lists with the word "subscribe" as the
subject. 
The author's website is <a href="http://wwwuser.gwdg.de/~lfinsto1">http://wwwuser.gwdg.de/~lfinsto1</a>.

   <p>My primary purpose in writing 3DLDF was to make it possible to use
MetaPost for three-dimensional drawing.  I've always enjoyed using MetaPost,
and thought it was a shame that I could only use it for making
two-dimensional drawings.  3DLDF is a front-end that operates on
three-dimensional data, performs the necessary calculations for the
projection onto two dimensions, and writes its output in the form of
MetaPost code.

   <p>While 3DLDF's data types and operations are modelled on those of
Metafont and MetaPost, and while the only form of output 3DLDF currently
produces is MetaPost code, it is nonetheless not in principle tied to
MetaPost.  It could be modified to produce PostScript code directly, or
output in other formats.  It would also be possible to modify 3DLDF so
that it could be used for creating graphics interactively on a terminal,
by means of an appropriate interface to the computer's graphics
hardware.

   <p>The name  &ldquo;3DLDF&rdquo; (&ldquo;3D&rdquo;  plus the  author's initials)  was
chosen because,  while not  pretty, it's  unlikely to conflict
with any of the other programs called &ldquo;3D&rdquo;-something.

<ul class="menu">
<li><a accesskey="1" href="#Sources-of-Information">Sources of Information</a>
<li><a accesskey="2" href="#About-This-Manual">About This Manual</a>
<li><a accesskey="3" href="#CWEB-Documentation">CWEB Documentation</a>
<li><a accesskey="4" href="#Metafont-and-MetaPost">Metafont and MetaPost</a>
<li><a accesskey="5" href="#Caveats">Caveats</a>
<li><a accesskey="6" href="#Ports">Ports</a>
</ul>

<div class="node">
<a name="Sources-of-Information"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#About-This-Manual">About This Manual</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Introduction">Introduction</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Introduction">Introduction</a>

</div>

<h3 class="section">1.1 Sources of Information</h3>

<p>This handbook, and the use of 3DLDF itself, presuppose at least some
familiarity on the part of the reader with Metafont, MetaPost,
CWEB, and C++
.  If you are not familiar with any or all of them, I
recommend the following sources of information:

   <pre class="sp">

</pre>

Knuth, Donald Ervin. 
<i>The METAFONTbook</i>. 
Computers and Typesetting; C. 
Addison Wesley Publishing Company, Inc. 
Reading, Massachusetts 1986.
   <pre class="sp">

</pre>

<p class="noindent">Hobby, John D. 
<i>A User's Manual for MetaPost</i>. 
AT &amp; T Bell Laboratories. 
Murray Hill, NJ. No date.
   <pre class="sp">

</pre>

<p class="noindent">Knuth, Donald E. and Silvio Levy. 
<i>The </i><b>CWEB</b><i> System of Structured Documentation</i>. 
Version&nbsp;3.64&mdash;February&nbsp;2002.<!-- /@w -->
   <pre class="sp">

</pre>

<p class="noindent">Stroustrup, Bjarne. 
<i>The C++
 Programming Language</i>. 
Special Edition. 
Reading, Massachusetts 2000. 
Addison-Wesley. 
ISBN&nbsp;0-201-70073-5.<!-- /@w -->
   <pre class="sp">

</pre>

   <p><a name="index-CTAN-_0028Comprehensive-_0040TeX_007b_007d-Archive-Network_0029-1"></a><a name="index-Comprehensive-_0040TeX_007b_007d-Archive-Network-_0028CTAN_0029-2"></a>The manuals for MetaPost and CWEB are available from the Comprehensive
TeX Archive Network (CTAN).  See one of the following web sites for
more information:

     <dl>
<dt>Germany<dd><a href="http://dante.ctan.org">http://dante.ctan.org</a>, <a href="http://ftp.dante.de">http://ftp.dante.de</a><br>
<a href="http://www.dante.de">http://www.dante.de</a>.

     <br><dt>United Kingdom<dd><a href="http://www.cam.ctan.org">http://www.cam.ctan.org</a><br>
<a href="http://ftp.tex.ac.uk">http://ftp.tex.ac.uk</a>.

     <br><dt>USA<dd><a href="http://www.tug.ctan.org">http://www.tug.ctan.org</a><br>
<a href="http://www.ctan.tug.org">http://www.ctan.tug.org</a>. 
</dl>

<div class="node">
<a name="About-This-Manual"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#CWEB-Documentation">CWEB Documentation</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Sources-of-Information">Sources of Information</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Introduction">Introduction</a>

</div>

<h3 class="section">1.2 About This Manual</h3>

<p>This manual has been created using
Texinfo, a documentation system which is part of the GNU Project, whose
main sponsor is the Free Software Foundation. 
Texinfo can be used to generate online and printed documentation from
the same input files.

   <p>For more information about Texinfo, see:

   <pre class="sp">

</pre>

Stallmann, Richard M. and Robert J. Chassell. 
<i>Texinfo.  The GNU Documentation Format</i>. 
The Free Software Foundation. Boston 1999.
   <pre class="sp">

</pre>

   <p>For more information about the GNU Project and the Free Software
Foundation, see the following web site: <a href="http://www.gnu.org">http://www.gnu.org</a>.

   <p>The edition of this manual is
1.1.5.1 and it documents version 1.1.5.1 of 3DLDF. 
The edition number of the manual and the version number of the program
are the same (as of 16 January 2004),
but may diverge at a later date.

   <p>Note that &ldquo;I&rdquo;, &ldquo;me&rdquo;, etc., in this manual refers to
Laurence D. Finston, so far the sole author of
both 3DLDF and this manual.  &ldquo;Currently&rdquo; and similar formulations
refer to version 1.1.5.1 of 3DLDF as of
16 January 2004.

   <p>This manual is intended for both beginning and advanced users of 3DLDF. 
So, if there's something you don't understand, it's probably best to
skip it and come back to it later. 
Some of the more difficult points, or ones that presuppose familiarity
with features not yet described, are in the footnotes. 
<!-- Others are in -->
<!-- paragraphs marked by a ``dangerous bend'' sign, familiar from -->
<!-- @cite{The @TeX{}book} and  @cite{The Metafont{}book}, which I've -->
<!-- borrowed from Prof.@: Knuth: -->
<!-- @tex -->
<!-- \vrule height 14pt depth 8pt width 0pt\raise5pt\hbox{\dbend} -->
<!-- @end tex -->

   <p>I firmly believe that an adequate program with good documentation is
more useful than a great program with poor or no documentation.  The
ideal case, of course, is a great program with great documentation.  I'm
sorry to say, that this manual is not yet as good as I'd like it to be. 
I apologize for the number of typos and other errors.  I hope they don't
detract too much from its usefulness.  I would have liked to have
proofread and corrected it again before publication, but for reasons
external to 3DLDF, it is necessary for me to publish now.  I plan to set
up an errata list on
<a href="http://www.gnu.org/software/3dldf">the official 3DLDF website</a>,
and/or
<a href="http://wwwuser.gwdg.de/~lfinsto1">my own website</a>.

   <p>Unless I've left anything out by mistake, this manual documents all of
the data types, constants and variables, namespaces, and functions
defined in 3DLDF.  However, some of the descriptions are terser than I
would like, and I'd like to have more examples and illustrations. There
is also more to be said on a number of topics touched on in this
manual, and some topics I haven't touched on at all.  In general, while
I've tried to give complete information on the &ldquo;what and how&rdquo;, the
&ldquo;why and wherefore&rdquo; has sometimes gotten short shrift. 
I hope to correct these defects in future editions.

<ul class="menu">
<li><a accesskey="1" href="#Manual-Conventions">Manual Conventions</a>
<li><a accesskey="2" href="#Illustrations">Illustrations</a>
</ul>

<div class="node">
<a name="Manual-Conventions"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Illustrations">Illustrations</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#About-This-Manual">About This Manual</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#About-This-Manual">About This Manual</a>

</div>

<h4 class="subsection">1.2.1 Conventions</h4>

<p>Data types are formatted like this:  <code>int</code>,
<code>Point</code>, <code>Path</code>.  Plurals are formatted in the same way:
<code>ints</code>, <code>Points</code>, <code>Paths</code>.  It is poor
typographical practice to typeset a single word using more than one
font, e.g., <code>int</code>s, <code>Point</code>s, <code>Path</code>s.  This applies to
data types whose plurals do not end in &ldquo;s&rdquo; as well, e.g.,
the plural of the C++
 <code>class Polyhedron</code> is <code>Polyhedra</code>.

   <p>When C++
 functions are discussed in this manual, I always include a
pair
of parentheses to make it clear that the item in question is a function
and not a variable, but I generally do not
include the arguments.  For example, if I mention the
function
<code>foo()</code>, this doesn't imply that <code>foo()</code> takes no
arguments.  If it were appropriate, I would include the argument type:

<pre class="example">     foo(int)
</pre>
   <p class="noindent">or the argument type and a placeholder name:

<pre class="example">     foo(int arg)
</pre>
   <p class="noindent">or I would write

<pre class="example">     foo(void)
</pre>
   <p><a name="index-member-function-3"></a><a name="index-function_002c-member-4"></a>to indicate that <code>foo()</code> takes no arguments.  Also, I
generally don't indicate the return type, unless it is relevant.  If it
is a member function
of a class, I may indicate this,
e.g.,, <code>bar_class::foo()</code>, or not,
depending on whether this information is relevant.  This convention
differs from that used in the <a href="#Function-Index">Function Index</a>, which is generated
automatically by Texinfo.  There, only the name of the function appears,
without parentheses, parameters, or return values.  The class type
of member functions may appear in the Function Index, (e.g.,
<code>bar_class::foo</code>), but only in index entries that have been entered
explicitly by the author;  such entries are not generated by Texinfo
automatically.

   <p>Examples are formatted as follows:

<pre class="example">     Point p0(1, 2, 3);
     Point p1(5, 6, 7.9);
     Path pa(p0, p1);
     p0.show("p0:");
     -| p0: (1, 2, 3)
</pre>
   <p>The beautiful mathematical typesetting produced by TeX
unfortunately does not appear in the Info and HTML versions of this
manual.  In these, the following symbols are used to replace the proper
mathematical symbols.

     <dl>
<dt>^<dd>Precedes a superscript.  For example, read &lsquo;<samp><span class="samp">a^2</span></samp>&rsquo; as
&ldquo;a squared&rdquo;.

     <br><dt>_<dd>Precedes a subscript.  For example, read &lsquo;<samp><span class="samp">x_1</span></samp>&rsquo; as
&ldquo;x sub one&rdquo;.

     <br><dt>*<dd>Multiplication.  For example, read &lsquo;<samp><span class="samp">x * y</span></samp>&rsquo; as
&ldquo;x times y&rdquo;.

     <br><dt>sqrt()<dd>The square root function.  For example, read &lsquo;<samp><span class="samp">sqrt(x)</span></samp>&rsquo; as
&ldquo;the square root of x&rdquo;. 
</dl>

   <p>In addition, examples
can contain the following symbols:

     <dl>
<dt>-|<dd>Indicates output to the terminal when 3DLDF is
run.

     <br><dt>&rArr;<dd>Indicates a result of some sort.  It may precede a illustration
generated by the code in the example.

     <br><dt>error--&gt;<dd>Indicates that the following text is an error message. 
</dl>

   <p>This manual does not use all of the symbols provided by Texinfo.  If you
find a symbol you don't understand in this manual (which shouldn't
happen), see page 103 of the Texinfo manual.

   <p><a name="index-symbols-5"></a>
   <pre class="sp">

</pre>
Symbols:
     <dl>
<dt>N
<dd>The set of the natural numbers
{0, 1, 2, 3, 4, <small class="dots">...</small>}

     <br><dt>I
<dd>The set of the integers
{<small class="dots">...</small>, -3, -2, -1, 0, 1, 2, 3, 4, <small class="dots">...</small>}

     <br><dt>R
<dd>The set of the real numbers. 
</dl>

<div class="node">
<a name="Illustrations"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Manual-Conventions">Manual Conventions</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#About-This-Manual">About This Manual</a>

</div>

<h4 class="subsection">1.2.2 Illustrations</h4>

<p>The illustrations in this manual have been created using 3DLDF.  The
code that generates them is in the Texinfo files themselves, that
contain the text of the manual.  Texinfo is based on TeX, so it's
possible to make use of the latter's facility for writing ASCII text to
files using TeX's <code>\write</code> command.

   <p>The file <samp><span class="file">3DLDF-1.1.5.1/CWEB/exampman.web</span></samp> contains the
C++
 code, and the file <samp><span class="file">3DLDF-1.1.5.1/CWEB/examples.mp</span></samp>
contains the MetaPost code for generating the illustrations. 
3DLDF was built using GCC 2.95 when the illustrations were generated. 
For some reason, GCC 3.3 has difficulty with them.  It works to generate
them in batches of about 50 with GCC 3.3.

   <p><a name="index-PNG-_0028Portable-Network-Graphics_0029-6"></a><a name="index-Portable-Network-Graphics-_0028PNG_0029-7"></a><a name="index-PS-_0028PostScript_0029-8"></a><a name="index-PostScript-_0028PS_0029-9"></a><a name="index-EPS-_0028Encapsulated-PostScript_0029-10"></a><a name="index-Encapsulated-PostScript-_0028EPS_0029-11"></a>MetaPost outputs Encapsulated PostScript files.  These can be included
in TeX files, as explained below.  However, in order to display the
illustrations in the HTML version of this manual, I had to convert them
to <a href="http://www.libpng.org/pub/png/index.html">PNG (&ldquo;Portable Network Graphics&rdquo;) format</a>. 
See <a href="#Converting-EPS-Files">Converting EPS Files</a>, for instructions on how to do this.

   <p>Please note that the illustrations cannot be shown in the Info output
format!

   <p>If you have problems including the illustrations in the printed version,
for example, if your
installation doesn't have <samp><span class="command">dvips</span></samp>, look for the following lines
in <samp><span class="file">3DLDF.texi</span></samp>:

<pre class="example">     \doepsftrue    %% One of these two lines should be commented-out.
     %\doepsffalse
</pre>
   <p class="noindent">Now, remove the &lsquo;<samp><span class="samp">%</span></samp>&rsquo; from in front of &lsquo;<samp><span class="samp">\doepsffalse</span></samp>&rsquo; and put
one in front of &lsquo;<samp><span class="samp">\doepsftrue</span></samp>&rsquo;.  This will prevent the illustrations
from being included.  This should only be done as a last resort,
however, because it will make it difficult if
not impossible to understand this manual.

   <p>The C++
 code in an example is not always the complete code used to
create the illustration that follows it, since the latter may be
cluttered with commands that would detract from the clarity of the
example.  The actual code used always follows the example in the Texinfo
source file, so the latter may be referred to, if the reader wishes
to see exactly what code was used to generate the illustration.

   <p>You may want to skip the following paragraphs in this section, if you're
reading this manual for the
first time.  Don't worry if you don't understand it, it's meaning should
become clear after reading the manual and some experience with
using 3DLDF.

   <p>The file <samp><span class="file">3DLDF.texi</span></samp> in the directory
<samp><span class="file">3DLDF-1.1.5.1/DOC/TEXINFO</span></samp>, the driver file for this manual, contains
the following TeX code:

<pre class="example">     \newif\ifmakeexamples
     \makeexamplestrue     %% One of these two lines should be commented-out.
     %\makeexamplesfalse
</pre>
   <p class="noindent">When <samp><span class="command">texi2dvi</span></samp> is run on <samp><span class="file">3DLDF.texi</span></samp>,
<code>\makeexamplestrue</code> is not commented-out, and
<code>\makeexamplesfalse</code> is,
the C++
 code for the illustrations is written to the file
<samp><span class="file">examples.web</span></samp>. 
If the EPS files don't already exist (in the directory
<samp><span class="file">3DLDF-1.1.5.1/DOC/TEXINFO/EPS</span></samp>),
the TeX macro <code>\PEX</code>,
which includes them in the Texinfo files, will signal an error each time
it can't find one.  Just type &lsquo;<samp><span class="samp">s</span></samp>&rsquo; at the command line to tell
TeX to keep going. 
If you want to be sure that these are indeed the only errors, you can
type &lsquo;<samp><span class="samp">&lt;RETURN&gt;</span></samp>&rsquo; after each one instead.

   <p><samp><span class="command">texi2dvi 3DLDF.texi</span></samp> also generates the file
<samp><span class="file">extext.tex</span></samp>, which contains TeX code for including the
illustrations by themselves.

   <p><samp><span class="file">examples.web</span></samp> must now be moved to <samp><span class="file">3DLDF-1.1.5.1/CWEB/</span></samp> and
ctangled, <samp><span class="file">examples.c</span></samp> must compiled,
and 3DLDF must be relinked.  <samp><span class="command">ctangle examples</span></samp> also generates
the header file <samp><span class="file">example.h</span></samp>, which is included
in <samp><span class="file">main.web</span></samp>.  Therefore, if the contents of <samp><span class="file">examples.h</span></samp> have
changed since the last time <samp><span class="file">main.web</span></samp> was ctangled,
<samp><span class="file">main.web</span></samp> will have to be ctangled, and <samp><span class="file">main.c</span></samp> recompiled,
before <samp><span class="file">3dldf</span></samp> is relinked.<a rel="footnote" href="#fn-1" name="fnd-1"><sup>1</sup></a>

   <p>Running <samp><span class="command">3dldf</span></samp> and MetaPost now
generates the EPS (Encapsulated PostScript) files
<samp><span class="file">3DLDFmp.1</span></samp> through (currently) <samp><span class="file">3DLDFmp.199</span></samp>
for the illustrations.  They must be moved to
<samp><span class="file">3DLDF-1.1.5.1/DOC/TEXINFO/EPS</span></samp>. 
Now, when <samp><span class="command">texi2dvi 3DLDF.texi</span></samp> is run again, the
<samp><span class="command">dvips</span></samp> command
&lsquo;<samp><span class="samp">\epsffile</span></samp>&rsquo; includes the EPS files for the illustrations in the
manual.  <samp><span class="file">3DLDF.texi</span></samp> includes the line &lsquo;<samp><span class="samp">\input epsf</span></samp>&rsquo;, so
that &lsquo;<samp><span class="samp">\epsffile</span></samp>&rsquo; works. 
Of course, <samp><span class="command">dvips</span></samp> (or some other program that does the
job) must be used to convert <samp><span class="file">3DLDF.dvi</span></samp> to  a PostScript file. 
To see exactly how this is done, take a look at the
<samp><span class="file">.texi</span></samp> source files of this manual.<a rel="footnote" href="#fn-2" name="fnd-2"><sup>2</sup></a>

   <p>In the <samp><span class="file">3DLDF.texi</span></samp> belonging to the 3DLDF distribution,
<code>\makeexamplestrue</code> will be commented-out, and
<code>makeexamplesfalse</code> won't be, because the EPS files for the
illustrations are included in the distribution.

   <p>The version of <samp><span class="file">examples.web</span></samp> in <samp><span class="file">3DLDF-1.1.5.1/CWEB</span></samp> merely
includes the files <samp><span class="file">subex1.web</span></samp> and <samp><span class="file">subex2.web</span></samp>. 
If you rename <samp><span class="file">3DLDF-1.1.5.1/CWEB/exampman.web</span></samp> to <samp><span class="file">examples.web</span></samp>,
you can generate the illustrations.

<div class="node">
<a name="CWEB-Documentation"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Metafont-and-MetaPost">Metafont and MetaPost</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#About-This-Manual">About This Manual</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Introduction">Introduction</a>

</div>

<h3 class="section">1.3 CWEB Documentation</h3>

<p>As mentioned above, 3DLDF has been programmed using CWEB, which is a
&ldquo;literate programming&rdquo; tool developed by
Donald E. Knuth and Silvio Levy.  See <a href="#Sources-of-Information">Sources of Information</a>, for a
reference to the CWEB manual. 
Knuth's <cite>TeX&mdash;The Program</cite> and
<cite>Metafont&mdash;The Program</cite> both include a section
&ldquo;How to read a WEB&rdquo; (pp. x&ndash;xv, in both volumes).

   <p>CWEB files combine source code
and documentation.  Running <samp><span class="command">ctangle</span></samp> on a CWEB file,
for example, <samp><span class="file">main.web</span></samp>, produces the file <samp><span class="file">main.c</span></samp> containing
C or C++
 code.  Running <samp><span class="command">cweave main.web</span></samp> creates a
TeX file with pretty-printed source code and nicely formatted
documentation.  I find that using CWEB makes it more natural to
document my code as I write it, and makes the source files easier to
read when editing them.  It does have certain consequences
with regard to compilation, but these are taken care of by <samp><span class="command">make</span></samp>. 
See <a href="#Adding-a-File">Adding a File</a>, and <a href="#Changes">Changes</a>, for more
information.

   <p>The CWEB files in the directory <samp><span class="file">3DLDF-1.1.5.1/CWEB/</span></samp> contain the
source code for 3DLDF.  The file <samp><span class="file">3DLDFprg.web</span></samp> in this directory
is only ever used for cweaving;  it is never ctangled and contains no
C++
 code for compilation.  It does, however, include all of the other
CWEB files, so that <samp><span class="command">cweave 3DLDFprg.web</span></samp> generates the TeX file
containing the complete documentation of the source code of 3DLDF.

   <p>The files <samp><span class="file">3DLDF-1.1.5.1/CWEB/3DLDFprg.tex</span></samp>,
<samp><span class="file">3DLDF-1.1.5.1/CWEB/3DLDFprg.dvi</span></samp>, and
<samp><span class="file">3DLDF-1.1.5.1/CWEB/3DLDFprg.ps</span></samp> are
included in the distribution of 3DLDF as a
convenience.  However, users may generate them themselves, should there
be some reason for doing so, by entering <samp><span class="command">make ps</span></samp>
from the command line of a shell from the working
directory <samp><span class="file">3DLDF-1.1.5.1/</span></samp> or <samp><span class="file">3DLDF-1.1.5.1/CWEB</span></samp>. 
Alternatively, the user may generate them
by hand from the working directory <samp><span class="file">3DLDF-1.1.5.1/CWEB/</span></samp> in the
following way:

     <ol type=1 start=1>
<li><samp><span class="command">cweave 3DLDFprg.web</span></samp>
generates <samp><span class="file">3DLDFprg.tex</span></samp>.

     <li><samp><span class="command">tex 3DLDFprg</span></samp> or <samp><span class="command">tex 3DLDFprg.tex</span></samp> generates
<samp><span class="file">3DLDFprg.dvi</span></samp>.

     <li><samp><span class="command">dvips -o 3DLDFprg.ps 3DLDFprg</span></samp> (possibly with additional options)
generates <samp><span class="file">3DLDFprg.ps</span></samp>.

     <li><samp><span class="command">lpr -P&lt;</span><em>print queue</em><span class="command">&gt; 3DLDFprg.ps</span></samp>
sends <samp><span class="file">3DLDFprg.ps</span></samp> to a printer, on a UNIX or UNIX-like system.
        </ol>

   <p>The individual commands may differ, depending on the system you're
using.

<div class="node">
<a name="Metafont-and-MetaPost"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Caveats">Caveats</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#CWEB-Documentation">CWEB Documentation</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Introduction">Introduction</a>

</div>

<h3 class="section">1.4 Metafont and MetaPost</h3>

<p><a name="index-Metafont-12"></a>Metafont is  a system created by Donald E. Knuth for generating fonts,
in particular for use with TeX, his well-known
typsetting system.<a rel="footnote" href="#fn-3" name="fnd-3"><sup>3</sup></a>
Expressed in a
somewhat simplified way,  Metafont is a system for programming
curves, which  are then  digitized and  output in  the form of
run-time encoded bitmaps. (See Knuth's <cite>The Metafontbook</cite> for more
information).

   <p><a name="index-MetaPost-13"></a><a name="index-EPS-_0028Encapsulated-PostScript_0029-14"></a><a name="index-Encapsulated-PostScript-_0028EPS_0029-15"></a>John D. Hobby  modified  Metafont's  source  code  to  create
MetaPost, which  functions in  much the same way, but outputs
encapsulated PostScript (EPS) files instead of bitmaps.  MetaPost is
very  useful   for  creating  graphics  and  is  a  convenient
interface to  PostScript.   It is also easy both to imbed
TeX code  in MetaPost  programs, for instance, for typesetting
labels, and  to include  MetaPost  graphics  in  ordinary  TeX
files, e.g., by using <samp><span class="command">dvips</span></samp>.<a rel="footnote" href="#fn-4" name="fnd-4"><sup>4</sup></a>
Apart from simply printing the PostScript file output by
<samp><span class="command">dvips</span></samp>, there are many programs that can process ordinary
or encapsulated PostScript files and convert them to other formats. 
Just two of the many possibilities are ImageMagick and GIMP, both of
which can be used to create animations from MetaPost graphics. 
<!-- !! GET REFERENCES TO IMAGEMAGICK AND GIMP!!  Maybe someday I'll do -->
<!-- this.  At the moment, I don't feel like looking for any more references. -->

   <p>However, MetaPost  inherited  a  significant  limitation  from
Metafont:  it's not possible to use it for making
three-dimensional graphics, except in a very limited way. 
One insuperable problem is the severe limitation on the magnitude
of user-defined numerical variables in Metafont and
MetaPost.<a rel="footnote" href="#fn-5" name="fnd-5"><sup>5</sup></a>
This
made  sense for Metafont's and MetaPost's original
purposes,  but   they  make   it  impossible  to  perform  the
calculations needed for 3D graphics.

   <p>Another problem is the data types defined in Metafont:  Points
are  represented   as  pairs   of  real   values  and   affine
transformations as sets of 6 real values.  This corresponds to
the representation of points and affine transformations in the
plane as  a two-element  vector on  the one  hand  and  a  six
element matrix  on the  other.  While  it  is
possible to  work around  the  limitation  imposed  by  having
points be  represented by  only two  values, it is
impracticable in   the   case   of   the
transformations.

   <p>For these reasons, I decided to write a program that would behave more
or less like Metafont, but with suitable extensions, and the ability to
handle three dimensional data;  namely 3DLDF.  It stores the data and
performs the transformations and other necessary calculations and is not
subject to the limitations of MetaPost and its data types.  Upon output,
it performs a perspective transformation, converting the 3D image into a
2D one.  The latter can now be expressed as an ordinary MetaPost
program, so 3DLDF writes its output as MetaPost code to a file.

   <p>In the following, it may be a little unclear why I sometimes refer to
Metafont and sometimes to MetaPost.  The reason is that Metafont
inherited much of its functionality from Metafont.  Certain operations
in Metafont have no meaning in MetaPost and so have been removed, while
MetaPost's function of interfacing with PostScript has caused other
operations to be added.  For example, in MetaPost, <code>color</code> is a
data type, but not in Metafont.  Unless otherwise stated, when I refer to
Metafont, it can be assumed that what I say applies to MetaPost as well. 
However, when I refer to MetaPost, it will generally be in connection
with features specific to MetaPost.

<div class="node">
<a name="Caveats"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Ports">Ports</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Metafont-and-MetaPost">Metafont and MetaPost</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Introduction">Introduction</a>

</div>

<h3 class="section">1.5 Caveats</h3>

<ul class="menu">
<li><a accesskey="1" href="#Accuracy">Accuracy</a>
<li><a accesskey="2" href="#No-Input-Routine">No Input Routine</a>
</ul>

<div class="node">
<a name="Accuracy"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#No-Input-Routine">No Input Routine</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Caveats">Caveats</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Caveats">Caveats</a>

</div>

<h4 class="subsection">1.5.1 Accuracy</h4>

<p>When 3DLDF is run, it uses the three-dimensional data contained in the
user code to create a two-dimensional projection. 
Currently, this can be a perspective projection, or a parallel
projection onto one of the major planes.  MetaPost code representing
this projection is then written to the output file. 
3DLDF does no <dfn>scan conversion</dfn>,<a rel="footnote" href="#fn-6" name="fnd-6"><sup>6</sup></a>
so all of the curves in the projection are
generated by means of the algorithms MetaPost inherited from Metafont. 
These algorithms, however, are designed to find the
&ldquo;most pleasing curve&rdquo;<a rel="footnote" href="#fn-7" name="fnd-7"><sup>7</sup></a>
given one or more two-dimensional points and connectors;  they do not
account for the the fact that the two-dimensional points are projections
of three-dimensional ones.  This can lead to unsatisfactory results,
especially where extreme foreshortening occurs.  In particular,
&lsquo;<samp><span class="samp">curl</span></samp>&rsquo;, <code>dir</code>, &lsquo;<samp><span class="samp">tension</span></samp>&rsquo;, and control points should be
used cautiously, or avoided altogether, when specifying connectors.

   <p>3DLDF operates on
the assumption  that, given  an  adequate  number  of  points,
MetaPost will produce an adequate approximation to the desired
curve <em>in perspective</em>, since the greater the number of
points given for a curve, the less &ldquo;choice&rdquo; MetaPost has for
the path  through them.   My  experience with 3DLDF bears this
out.   Generally, the curves look quite good.  Where problems arise,
it usually helps to increase the number of points in a curve.

   <p>A more serious problem is the imprecision resulting from the operation
of rotation.  Rotations use the trigonometric functions, which return
approximate values.  This has the result that points that should have
identical coordinate values, sometimes do not. 
This has consequences for the functions that compare points. 
The more rotations
are applied to points, the greater the divergence between their actual
coordinate values, and the values they should have.  So far, I haven't
found a solution for this problem.  On the other hand, it hasn't
yet affected the usability of 3DLDF.

<div class="node">
<a name="No-Input-Routine"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Accuracy">Accuracy</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Caveats">Caveats</a>

</div>

<h4 class="subsection">1.5.2 No Input Routine</h4>

<p>3DLDF does not yet include a routine for reading input
files.   This means  that user  code must  be written  in C++
,
compiled, and  linked with  the rest of the program.  I admit,
this is  not ideal, and writing an input routine for user code
is one of the next things I plan to add to 3DLDF.

   <p>I plan to use Flex and Bison to write the input routine.<a rel="footnote" href="#fn-8" name="fnd-8"><sup>8</sup></a>
The syntax of the input code should be as close
as possible  to that  of MetaPost, while taking account of the
differences between  MetaPost and 3DLDF.

   <p>For the present, however, the  use of 3DLDF is limited to
those who  feel comfortable  using  C++
 and compiling  and
relinking programs.  Please don't be put off by this!  It's not so
difficult, and <samp><span class="command">make</span></samp> does most of the work of recompiling and
running 3DLDF.  See <a href="#Installing-and-Running-3DLDF">Installing and Running 3DLDF</a>, for more
information.

<div class="node">
<a name="Ports"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Caveats">Caveats</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Introduction">Introduction</a>

</div>

<h3 class="section">1.6 Ports</h3>

<p>I originally developed 3DLDF on a DECalpha Personal Workstation with two
processors running under the operating system Tru64 Unix 5.1, using the
DEC C++
 compiler. 
I then ported it to a PC Pentium 4 running under Linux 2.4, using
the GNU C++
 compiler
GCC 2.95.3, and a PC Pentium II XEON under Linux 2.4, using GCC 3.3. 
I am currently only maintaining the last version.  I do not believe that
it's worthwhile to maintain a version for GCC 2.95.  While I would like
3DLDF to run on as many platforms as possible, I would
rather spend my time developing it than porting it. 
This is something where I would be grateful for help from other
programmers.

   <p>Although I am no longer supporting ports to other systems,
I have left some conditionally compiled code for
managing platform dependencies in the CWEB sources of 3DLDF.  This may
make it easier for other people who want to port 3DLDF to other
platforms.

   <p>Currently, the files <samp><span class="file">io.web</span></samp>, <samp><span class="file">loader.web</span></samp>, <samp><span class="file">main.web</span></samp>,
<samp><span class="file">points.web</span></samp>,
and  <samp><span class="file">pspglb.web</span></samp> contain conditionally compiled code, depending on
which compiler, or in the case of GCC, which version of the compiler, is
used.  The DEC C++
 compiler defines the preprocessor macro
&lsquo;<samp><span class="samp">__DECCXX</span></samp>&rsquo; and GCC defines &lsquo;<samp><span class="samp">__GNUC__</span></samp>&rsquo;.  In order to
distinguish between GCC 2.95.3 and GCC 3.3, I've added the macros
&lsquo;<samp><span class="samp">LDF_GCC_2_95</span></samp>&rsquo; and  &lsquo;<samp><span class="samp">LDF_GCC_3_3</span></samp>&rsquo; in <samp><span class="file">loader.web</span></samp>, which
should be defined or undefined, depending on which compiler you're
using.  In the distribution,  &lsquo;<samp><span class="samp">LDF_GCC_3_3</span></samp>&rsquo; is defined and
&lsquo;<samp><span class="samp">LDF_GCC_2_95</span></samp>&rsquo; is undefined, so if you want to try using GCC 2.95, you'll
have to change this (it's not guaranteed to work).

   <p>3DLDF 1.1.5.1 now uses Autoconf and Automake, and the
<samp><span class="file">configure</span></samp> script generates a <samp><span class="file">config.h</span></samp> file, which is now
included in <samp><span class="file">loader.web</span></samp>.  Some of
the preprocessor macros defined in <samp><span class="file">config.h</span></samp> are used to
conditionally include library header files, but so far, there is no error
handling code for the case that a file can't be included.  I hope to improve the
way 3DLDF works together with Autoconf and Automake in the near future.

   <p>3DLDF 1.1.5 is the first release that contains template functions. 
Template instantiation differs from compiler to compiler, so using
template functions will tend to make 3DLDF less portable. 
See <a href="#Template-Functions">Template Functions</a>, for more information. 
I am no longer able to build 3DLDF on the DECalpha Personal Workstation. 
I'm fairly sure that it would be possible to port it, but
I don't plan to do this, since Tru64 Unix 5.1 and the DEC C++

   <p>compiler are non-free software.

<!-- Local Variables: -->
<!-- mode:Texinfo -->
<!-- eval:(outline-minor-mode) -->
<!-- End: -->
<!-- contrib.texi -->
<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
<div class="node">
<a name="Contributing-to-3DLDF"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Using-3DLDF">Using 3DLDF</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Introduction">Introduction</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h3 class="section">1.7 Contributing to 3DLDF</h3>

<p>So far, I've been the sole author and user of 3DLDF. 
I would be very interested in having other programmers contribute to
it.  I would be particularly interested in help in making 3DLDF conform
as  closely as possible to the GNU Coding Standards.  I would be
grateful if someone would write proper Automake and Autoconf files,
since I haven't yet learned how to do so (I'm working on it).

   <p>See <a href="#Introduction">Introduction</a>, for information on how to contact the author.

<!-- @c Got rid of getstart.texi, because it confuses Emacs and makeinfo -->
<!-- @c to have files nested too deeply. -->
<div class="node">
<a name="Using-3DLDF"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Points">Points</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Contributing-to-3DLDF">Contributing to 3DLDF</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapheading">Using 3DLDF</h2>

<p>Since 3DLDF does not yet have an input routine, user code must be
written in C++
 (in <samp><span class="file">main.web</span></samp>, or some other file) and compiled. 
Then, 3DLDF must be relinked, together with the new file of object
code resulting from the compilation. 
For now, the important point is that the text of
the examples in this manual represent C++
 code. 
See <a href="#Installing-and-Running-3DLDF">Installing and Running 3DLDF</a>, for more information.

<!-- chapter Points -->
<!-- gspoint.texi -->
<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
<div class="node">
<a name="Points"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Transforming-Points">Transforming Points</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Using-3DLDF">Using 3DLDF</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">2 Points</h2>

<ul class="menu">
<li><a accesskey="1" href="#Declaring-and-Initializing-Points">Declaring and Initializing Points</a>
<li><a accesskey="2" href="#Setting-and-Assigning-to-Points">Setting and Assigning to Points</a>
</ul>

<div class="node">
<a name="Declaring-and-Initializing-Points"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Setting-and-Assigning-to-Points">Setting and Assigning to Points</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Points">Points</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Points">Points</a>

</div>

<h3 class="section">2.1 Declaring and Initializing Points</h3>

<p><a name="index-Point-16"></a>The most basic drawable object in 3DLDF is <code>class Point</code>.  It is
analogous to <code>pair</code> in Metafont.  For example, in Metafont one
can define a <code>pair</code> using the &ldquo;z&rdquo; syntax as
follows:

<pre class="example">     z0 = (1cm, 1cm);
</pre>
   <p class="noindent">There are other ways of defining <code>pairs</code> in Metafont (and
MetaPost), but this is the usual way.

   <p>In 3DLDF, a Point is declared and initialized as follows:

<pre class="example">     Point pt0(1, 2, 3);
</pre>
   <p>This simple example demonstrates several differences between Metafont
and 3DLDF.  First of all, there is no analog in 3DLDF to Metafont's
&ldquo;z&rdquo; syntax. 
If I want to have <code>Points</code> called &ldquo;<code>pt0</code>&rdquo;, &ldquo;<code>pt1</code>&rdquo;,
&ldquo;<code>pt2</code>&rdquo;, etc., then I must declare each of them to be a
<code>Point</code>:

<pre class="example">     Point pt0(10, 15, 2);
     Point pt1(13, 41, 5.5);
     Point pt2(62.9, 7.02, 8);
</pre>
   <p>Alternatively, I could declare an array of <code>Points</code>:

<pre class="example">     Point pt[3];
</pre>
   <p class="noindent">Now I can refer to <code>pt[0]</code>, <code>pt[1]</code>, and <code>pt[2]</code>.

<p class="noindent"><a name="index-Point_003a_003ameasurement_005funits-17"></a><a name="index-measurement_005funits-_0028Point_0029-18"></a><a name="index-measurement-units-19"></a><a name="index-units-of-measurement-20"></a><a name="index-input-routine-21"></a>In the Metafont example, the x and y-coordinates of the <code>pair z0</code>
are specified using the unit of measurement, in this case, centimeters. 
This is currently not possible in 3DLDF.  The current unit of
measurement is stored in the static variable <code>Point::measurement_units</code>,
which is a <code>string</code>.  Its default value is <code>"cm"</code> for
&ldquo;centimeters&rdquo;. 
At present, it is best to stick with one unit of measurement for a
drawing. 
After I've defined an input routine, 3DLDF should handle
units of measurement in the same way that Metafont does.

   <p><a name="index-Point_003a_003aworld_005fcoordinates-22"></a><a name="index-Point_003a_003auser_005fcoordinates-23"></a><a name="index-Point_003a_003aview_005fcoordinates-24"></a><a name="index-Point_003a_003aprojective_005fcoordinates-25"></a><a name="index-world_005fcoordinates-_0028Point_0029-26"></a><a name="index-user_005fcoordinates-_0028Point_0029-27"></a><a name="index-view_005fcoordinates-_0028Point_0029-28"></a><a name="index-projective_005fcoordinates-_0028Point_0029-29"></a>Another difference is that the <code>Points</code> <code>pt0</code>, <code>pt1</code>, and
<code>pt2</code> have three coordinates, x, y, and z, whereas <code>z0</code> has
only two, x and y.  Actually, the difference goes deeper than this.  In
Metafont, a <code>pair</code> has two parts, <code>xpart</code> and <code>ypart</code>,
which can be examined by the user.  In 3DLDF, a <code>Point</code> contains
the following sets of coordinates:

<pre class="example">     world_coordinates
     user_coordinates
     view_coordinates
     projective_coordinates
</pre>
   <p class="noindent">These are sets of 3-dimensional <dfn>homogeneous</dfn> coordinates, which
means that they contain four coordinates: x, y, z, and w.  Homogeneous
coordinates are used in the affine and perspective transformations
(see <a href="#Transforms">Transforms</a>).

   <p>Currently, only <code>world_coordinates</code> and
<code>projective_coordinates</code> are used in 3DLDF. 
The <code>world_coordinates</code> refer to the position of a <code>Point</code> in
3DLDF's basic, unchanging coordinate system. 
The <code>projective_coordinates</code> are the coordinates of the
two-dimensional projection of the <code>Point</code> onto a plane. 
This projection is what is ultimately printed out or displayed on the
computer screen.  Please note, that when the coordinates of a
<code>Point</code> are referred to in this manual, the
<code>world_coordinates</code> are meant, unless otherwise stated.

   <p><code>Points</code> can be declared and their values can be set in different
ways.

<pre class="example">     Point pt0;
     Point pt1(1);
     Point pt2(2.3, 52);
     Point pt3(4.5, 7, 13.205);
</pre>
   <p><code>pt0</code> is declared without any arguments, i.e., using the default
constructor, so the values of its x, y, and
z-coordinates are all 0.

   <p><code>pt1</code> is declared and initialized with one argument for the x-coordinate,
so its y and z-coordinates are initialized with the values of
<code>CURR_Y</code> and <code>CURR_Z</code> respectively. 
The latter are static constant data members
of class <code>Point</code>, whose values are 0 by default.  They can be reset
by the user, who should
make sure that they have sensible values.

   <p><code>pt2</code> is declared and initialized with two arguments for its x and
y-coordinates, so its z-coordinate is initialized to the value of
<code>CURR_Z</code>.  Finally, <code>pt3</code> has an argument for each of its
coordinates.

   <p>Please note that <code>pt0</code> is constructed using a the default
constructor, whereas the other <code>Points</code> are constructed using a
constructor with one required argument (for the x-coordinate), and two
optional arguments (for the y and z-coordinates).  The default
constructor always sets all the coordinates to 0, irrespective of the
values of <code>CURR_Y</code> and <code>CURR_Z</code>.

<div class="node">
<a name="Setting-and-Assigning-to-Points"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Declaring-and-Initializing-Points">Declaring and Initializing Points</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Points">Points</a>

</div>

<h3 class="section">2.2 Setting and Assigning to Points</h3>

<p><a name="index-Point_003a_003aoperator_003d-30"></a><a name="index-operator_003d-_0028for-Points_0029-31"></a><a name="index-Point_003a_003aset-32"></a><a name="index-set-_0028for-Points_0029-33"></a>It is possible to change the value of the coordinates of <code>Points</code>
by using the <dfn>assignment operator</dfn> <code>=</code>
(<code>Point::operator=()</code>) or the function <code>Point::set()</code>
(with appropriate arguments):

<pre class="example">     Point pt0(2, 3.3, 7);
     Point pt1;
     pt1 = pt0;
     pt0.set(34, 99, 107.5);
     pt0.show("pt0:");
     -| pt0: (34, 99, 107.5)
     pt1.show("pt1:");
     -| pt1: (2, 3.3, 7)
</pre>
   <p>In this example, <code>pt0</code> is initialized with the coordinates <code>(2, 3.3, 7)</code>,
and <code>pt1</code> with the coordinates <code>(0, 0, 0)</code>. 
<code>pt1 = pt0</code> causes <code>pt1</code> to have the same coordinates as
<code>pt0</code>, then the coordinates of <code>pt0</code> are changed to <code>(34,
99, 107.5)</code>. This doesn't affect <code>pt1</code>, whose coordinates remain
<code>(2, 3.3, 7)</code>.

   <p>Another way of declaring and initializing <code>Points</code> is by using the
<dfn>copy constructor</dfn>:

<pre class="example">     Point pt0(1, 3.5, 19);
     Point pt1(pt0);
     Point pt2 = pt0;
     Point pt3;
     pt3 = pt0;
</pre>
   <p>In this example, <code>pt1</code> and <code>pt2</code> are both declared and
initialized using the copy constructor;  <code>Point pt2 = pt0</code> does not
invoke the assignment operator.  <code>pt3</code>, on the other hand, is
declared using the default constructor, and not initialized.  In the
following line, <code>pt3 = pt0</code> does invoke the assignment operator,
thus resetting the coordinate values of <code>pt3</code> to those of
<code>pt0</code>.

<!-- chapter Transforming Points -->
<!-- gstranpt.texi -->
<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
<div class="node">
<a name="Transforming-Points"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Transforms">Transforms</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Points">Points</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">3 Transforming Points</h2>

<p><code>Points</code> don't always have to remain in the same place.  There are
various ways of moving or <em>transforming</em> them:
     <ul>
<li>Shifting.  This is often called &ldquo;translating&rdquo;, but the operation in Metafont
that performs translation is called <code>shift</code>, so I call it &ldquo;shifting&rdquo;.

     <li>Scaling.

     <li>Shearing.

     <li>Rotating about an axis.

   </ul>

   <p><code>class Point</code> has several member functions
for applying these <dfn>affine transformations</dfn><a rel="footnote" href="#fn-9" name="fnd-9"><sup>9</sup></a>
to a <code>Point</code>. 
Most of the arguments to these functions are of
type <code>real</code>.  As you may know, there is no such data type in C++
. 
I have defined <code>real</code> using <code>typedef</code> to be either
<code>float</code> or <code>double</code>, depending on the value of a preprocessor
switch for conditional compilation.<a rel="footnote" href="#fn-10" name="fnd-10"><sup>10</sup></a>
3DLDF uses many <code>real</code> values and I wanted to be able to
change the precision used by making one change (in the file
<samp><span class="file">pspglb.web</span></samp>) rather than having to examine all the places in the
program where <code>float</code> or <code>double</code> are used.  Unfortunately,
setting <code>real</code> to <code>double</code> currently doesn't work.

<ul class="menu">
<li><a accesskey="1" href="#Shifting-Points">Shifting Points</a>
<li><a accesskey="2" href="#Scaling-Points">Scaling Points</a>
<li><a accesskey="3" href="#Shearing-Points">Shearing Points</a>
<li><a accesskey="4" href="#Rotating-Points">Rotating Points</a>
</ul>

<div class="node">
<a name="Shifting-Points"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Scaling-Points">Scaling Points</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Transforming-Points">Transforming Points</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Transforming-Points">Transforming Points</a>

</div>

<h3 class="section">3.1 Shifting</h3>

<p>The function
<code>shift()</code>
adds its arguments to the corresponding
<code>world_coordinates</code> of a <code>Point</code>.  In the following example,
the function <code>show()</code> is used to print the <code>world_coordinates</code>
of <code>p0</code> to standard output.

<pre class="example">     Point p0(0, 0, 0);
     p0.shift(1, 2, 3);
     p0.show("p0:");
     -| p0: (1, 2, 3)
     p0.shift(10);
     p0.show("p0:");
     -| p0: (11, 2, 3)
     p0.shift(0, 20);
     p0.show("p0:");
     -| p0: (11, 22, 3)
     p0.shift(0, 0, 30);
     p0.show("p0:");
     -| p0: (11, 22, 33)
</pre>
   <p class="noindent"><code>shift</code> takes three <code>real</code> arguments, whereby the second and
third are optional.  To shift a <code>Point</code> in the direction of
the positive or negative y-axis, and/or the positive or negative z-axis
only, then a 0 argument for the
x direction, and possibly one for the y direction
must be used as placeholders, as in the example above.

   <p><code>shift()</code> can be invoked with a <code>Point</code> argument
instead of <code>real</code> arguments.  In this case, the x, y, and
z-coordinates of the argument are used for shifting the <code>Point</code>:

<pre class="example">     Point a(10, 10, 10);
     Point b(1, 2, 3);
     a.shift(b);
     a.show("a:")
     -| a: (11, 12, 13)
</pre>
   <p>Another way of shifting <code>Points</code> is to use the binary <code>+=</code>
operator (<code>Point::operator+=()</code>)  with a <code>Point</code>
argument.

<pre class="example">     Point a0(1, 1, 1);
     Point a1(2, 2, 2);
     a0 += a1;
     a0.show("a0:");
     -| a0: (3, 3, 3)
</pre>
   <div class="node">
<a name="Scaling-Points"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Shearing-Points">Shearing Points</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Shifting-Points">Shifting Points</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Transforming-Points">Transforming Points</a>

</div>

<h3 class="section">3.2 Scaling</h3>

<p>The function <code>scale()</code> takes three <code>real</code> arguments. 
The x, y, and z-coordinates of the <code>Point</code> are
multiplied by the first, second, and third arguments respectively.  Only
the first argument is required;  the default for the others is 1.

   <p>If one wants to perform scaling in either the y-dimension only, or the y
and z-dimensions only, a dummy argument of 1 must be passed for
scaling in the x-dimension.  Similarly, if one wants to perform scaling
in the z-dimension only, dummy arguments of 1 must be passed for scaling
in the x and y-dimensions.

<pre class="example">     Point p0(1, 2, 3);
     p0.scale(2, 3, 4);
     p0.show("p0:");
     -| p0: (2, 6, 12)
     p0.scale(2);
     p0.show("p0:");
     -| p0: (4, 6, 12)
     p0.scale(1, 3);
     p0.show("p0:");
     -| p0: (4, 18, 12)
     p0.scale(1, 1, 3);
     p0.show("p0:");
     -| p0: (4, 18, 36)
</pre>
   <div class="node">
<a name="Shearing-Points"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Rotating-Points">Rotating Points</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Scaling-Points">Scaling Points</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Transforming-Points">Transforming Points</a>

</div>

<h3 class="section">3.3 Shearing</h3>

<p>Shearing is more complicated than shifting or scaling.  The function
<code>shear()</code> takes six <code>real</code> arguments. 
If p is a <code>Point</code>, then <code>p.shear(a, b, c, d, e, f)</code> sets
x_p to x_p + ay_p + bz_p, y_p to
y_p + cx_p + dz_p, and
z_p to z_p + ex_p + fy_p. 
In this way, each coordinate of a <code>Point</code> is modified based on the
values of the other two coordinates, whereby the influence of the
other coordinates on the new value is weighted according to the
arguments.

<pre class="example">     Point p(1, 1, 1);
     p.shear(1);
     p.show("p:");
     -| p: (2, 1, 1)
     p.set(1, 1, 1);
     p.shear(1, 1);
     p.show("p:");
     -| p: (3, 1, 1)
     p.set(1, 1, 1);
     p.shear(1, 1, 2, 2, 3, 3);
     p.show("p:");
     -| p: (3, 5, 7)
</pre>
   <!-- I've copied the following example from -->
<!-- the node ``Affine Transformations for Points''. -->
   <p>[next figure]
 demonstrates the effect of shearing the points of a rectangle
in the x-y plane.

<pre class="example">     Point P0;
     Point P1(3);
     Point P2(3, 3);
     Point P3(0, 3);
     Rectangle r(p0, p1, p2, p3);
     r.draw();
     Rectangle q(r);
     q.shear(1.5);
     q.draw(black, "evenly");
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF1.png"
alt="[Figure 1. Not displayed.]" 
/>
<br>
<br>
Fig. 1. 
<br>
</p>

<div class="node">
<a name="Rotating-Points"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Shearing-Points">Shearing Points</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Transforming-Points">Transforming Points</a>

</div>

<h3 class="section">3.4 Rotating</h3>

<!-- !! TO DO:  Make illustration. -->
<p>The function <code>rotate()</code> rotates a <code>Point</code> about one or more of
the main axes. 
It takes three <code>real</code> arguments, specifying the
angles of rotation in degrees about the x, y, and z-axes respectively. 
Only the first argument is required, the other two are 0 by default.  If
rotation about the y-axis, or the y and z-axes only are required, then 0
must be used as a placeholder for the first and possibly the second
argument.

<pre class="example">     Point p(0, 1);
     p.rotate(90);
     p.show("p:");
     -| p: (0, 0, -1)
     p.rotate(0, 90);
     p.show("p:");
     -| p: (1, 0, 0)
     p.rotate(0, 0, 90);
     p.show("p:");
     -| p: (0, 1, 0)
</pre>
   <p>The rotations are performed successively about the
x, y, and z-axes.  However, rotation is not a commutative
operation, so if rotation about the main axes in a different
order is required, then <code>rotate()</code> must be invoked more than once:

<pre class="example">     Point A(2, 3, 4);
     Point B(A);
     A.rotate(30, 60, 90);
     A.show("A:");
     -| A: (-4.59808, -0.700962, 2.7141)
     B.rotate(0, 0, 90);
     B.rotate(0, 60);
     B.rotate(30);
     B.show("B:");
     -| B: (-4.9641, 1.43301, -1.51795)
</pre>
   <p>Rotation need not be about the main axes;  it can also be performed
about a line defined by two <code>Points</code>.  The function <code>rotate()</code>
with two <code>Point</code> arguments and a <code>real</code> argument for the
angle of rotation (in degrees) about the axis.  The <code>real</code> argument
is optional, with
180 degrees

   <p>as the default.

<!-- !! TO DO:  Simplify this example.  How did I get the original values -->
<!-- for @code{p0} and @code{p1}? -->
<!-- Make illustration larger, put values in illustration. -->
<pre class="example">     Point p0 (-1.06066, 0, 1.06066);
     Point p1 (1.06066, 0, -1.06066);
     p1 *= p0.rotate(0, 30, 30);
     p0.show("p0:");
     -| p0: (-1.25477, -0.724444, 0.388228)
     p1.show("p1:");
     -| p1: (1.25477, 0.724444, -0.388228)
     p0.draw(p1);
     Point p2(1.06066, 0, 1.06066);
     p2.show("p2:");
     -| p2: (1.06066, 0, 1.06066)
     Point p3(p2);
     p3.rotate(p1, p0, 45);
     p3.show("p3:");
     -| p3 (1.09721, 1.15036, 1.17879)
     Point p4(p2);
     p4.rotate(p1, p0, 90);
     p4.show("p4:");
     -| p4: (0.882625, 2.05122, 0.485242)
     Point p5(p2);
     p5.rotate(p1, p0, 135);
     p5.show("p5:");
     -| p5: (0.542606, 2.17488, -0.613716)
     Point p6(p2);
     p6.rotate(p1, p0);
     p6.show("p6:");
     -| p6: (0.276332, 1.44889, -1.47433)
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF2.png"
alt="[Figure 2. Not displayed.]" 
/>
<br>
<br>
Fig. 2. 
<br>
</p>

   <p><a name="index-bugs-34"></a>I have sometimes gotten erroneous results using <code>rotate()</code> for
rotation about two <code>Points</code>.  It's usually worked to reverse the
order of the <code>Point</code> arguments, or to change sign of the angle
argument.  I think I've fixed the problem, though.

<!-- chapter Transforms -->
<!-- gstransf.texi -->
<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
<div class="node">
<a name="Transforms"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Drawing-and-Labeling-Points">Drawing and Labeling Points</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Transforming-Points">Transforming Points</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">4 Transforms</h2>

<p><a name="index-Transform-35"></a>When <code>Points</code> are transformed using <code>shift()</code>, <code>shear()</code>,
or one of the other transformation functions, the
<code>world_coordinates</code> are not modified directly.  Instead,
another data member of <code>class Point</code> is used to store the
information about the transformation, namely <code>transform</code> of
type <code>class Transform</code>.  A <code>Transform</code> object has a single
data element of type <code>Matrix</code> and a number of member functions.  A
<code>Matrix</code> is
simply a
4 X 4
array<a rel="footnote" href="#fn-11" name="fnd-11"><sup>11</sup></a>
of <code>reals</code>
defined using <code>typedef real Matrix[4][4]</code>. 
Such a matrix suffices for performing all
of the transformations (affine and perspective) possible in
three-dimensional space.<a rel="footnote" href="#fn-12" name="fnd-12"><sup>12</sup></a>
Any combination of transformations can be represented by a single
transformation matrix.  This means that consecutive transformations
of a <code>Point</code> can be &ldquo;saved up&rdquo; and applied to its coordinates
all at once when needed, rather than updating them for each
transformation.

   <p><a name="index-homogeneous-coordinates-36"></a><code>Transforms</code> work by performing matrix multiplication of
<code>Matrix</code> with the homogeneous <code>world_coordinates</code> of
<code>Points</code>. 
If a set of homogeneous coordinates
\alpha = (x, y, z, w)
and
<pre class="display">     <code>Matrix M</code> =
     a e i m
     b f j n
     c g k o
     d h l p
</pre>
   <p>then the set of homogeneous coordinates \beta resulting from
multiplying \alpha and M is calculated as follows:
<pre class="display">     \beta = \alpha\times M = ((xa + yb + zc + wd),  (xe + yf + zg + wh),
     (xi + yj + zk + wl), (xm + yn + zo + wp))
</pre>
   <p>Please note that each coordinate of \beta can be influenced by all of the
coordinates of \alpha.

   <p>Operations on
matrices are very important in computer graphics applications and are
described in many books about computer graphics and geometry.  For
3DLDF, I've mostly used Huw Jones'
<cite>Computer Graphics through Key Mathematics</cite>
and David Salomon's <cite>Computer Graphics and Geometric Modeling</cite>.

   <p><a name="index-Transform-37"></a>It is often useful to declare and use <code>Transform</code> objects in 3DLDF,
just as it is for <code>transforms</code> in Metafont.  Transformations can be
stored in <code>Transforms</code> and then be used to transform <code>Points</code>
by means of <code>Point::operator*=(const Transform&amp;)</code>.

<pre class="example">     <span class="roman">1.</span> Transform t;
     <span class="roman">2.</span> t.shift(0, 1);
     <span class="roman">3.</span> Point p(1, 0, 0);
     <span class="roman">4.</span> p *= t;
     <span class="roman">5.</span> p.show("p:");
     -| p: (1, 1, 0)
</pre>
   <p><a name="index-identity-matrix-38"></a><a name="index-matrix_002c-identity-39"></a><a name="index-matrix-operations-40"></a><a name="index-operations_002c-matrix-41"></a>When a <code>Transform</code> is declared (line 1), it is
initialized to an <dfn>identity matrix</dfn>.  All identity matrices are
square, all of the elements of the main diagonal (upper left to lower
right) are 1, and all of the other elements are 0. 
So a
4 X 4
identity matrix, as used in 3DLDF, looks like this:
<pre class="display">     1 0 0 0
     0 1 0 0
     0 0 1 0
     0 0 0 1
</pre>
   <p>If a matrix A is multiplied with an identity matrix I, the result is
identical to A, i.e.,
A * I = A. 
This is the salient property of an identity matrix.

   <p>The same affine transformations are applied in the same way to
<code>Transforms</code> as they are to <code>Points</code>, i.e., the functions
<code>scale()</code>, <code>shift()</code>,
<code>shear()</code>, and <code>rotate()</code>
correspond to the <code>Point</code>
versions of these functions, and they take the same arguments:

<pre class="example">     Point p;
     Transform t;
     p.shift(3, 4, 5);
     t.shift(3, 4, 5);
     &rArr; p.transform == t
     p.show_transform("p:");
     -| p:
        Transform:
              0   0.707   0.707       0
         -0.866   0.354  -0.354       0
           -0.5  -0.612   0.612       0
              0       0       0       1
     t.show("t:");
     -| t:
              0   0.707   0.707       0
         -0.866   0.354  -0.354       0
           -0.5  -0.612   0.612       0
              0       0       0       1
     
</pre>
   <ul class="menu">
<li><a accesskey="1" href="#Applying-Transforms-to-Points-Intro">Applying Transforms to Points Intro</a>
<li><a accesskey="2" href="#Inverting-Transforms">Inverting Transforms</a>
</ul>

<div class="node">
<a name="Applying-Transforms-to-Points-Intro"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Inverting-Transforms">Inverting Transforms</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Transforms">Transforms</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Transforms">Transforms</a>

</div>

<h3 class="section">4.1 Applying Transforms to Points</h3>

<p>A <code>Transform</code> t is applied to a
<code>Point</code> P using the binary <code>*=</code> operation
(<code>Point::operator*=(const Transform&amp;)</code>)
which performs matrix multiplication of <code>P.transform</code> by <code>t</code>. 
See <a href="#Point-Operators">Point Reference; Operators</a>.

<pre class="example">     Point P(0, 1);
     Transform t;
     t.rotate(90);
     t.show("t:");
     -| t:
        1       0       0       0
        0       0      -1       0
        0       1       0       0
        0       0       0       1
     P *= t;
     P.show_transform("P:");
     -| P:
     Transform:
        1       0       0       0
        0       0      -1       0
        0       1       0       0
        0       0       0       1
     P.show("P:");
     -| P: (0, 0, -1)
</pre>
   <p>In the example above, there is no real need to use a <code>Transform</code>,
since <code>P.rotate(90)</code> could  have been called directly. 
As constructions become more complex, the power of <code>Transforms</code>
becomes clear:

<!-- !! TO DO: Maybe make @code{Points} the same to begin with. -->
<!-- LDF 2003.08.15. -->
<pre class="example">     <span class="roman">1.</span> Point p0(0, 0, 0);
     <span class="roman">2.</span> Point p1(10, 5, 10);
     <span class="roman">3.</span> Point p2(16, 14, 32);
     <span class="roman">4.</span> Point p3(25, 50, 99);
     <span class="roman">5.</span> Point p4(12, 6, 88);
     <span class="roman">6.</span> Transform a;
     <span class="roman">7.</span> a.shift(2, 3, 4);
     <span class="roman">8.</span> a.scale(1, 3, 1);
     <span class="roman">9.</span> p2 *= p3 *= a;
     <span class="roman">10.</span> a.rotate(p0, p1, 75);
     <span class="roman">11.</span> p4 *= a;
     <span class="roman">12.</span> p2.show("p2:");
        -| p2: (18, 51, 36)
     <span class="roman">13.</span> p3.show("p3:");
        -| p3: (27, 159, 103)
     <span class="roman">14.</span> p4.show("p4:");
        -| p4: (24.4647, -46.2869, 81.5353)
</pre>
   <!-- !!  TO DO: If I change the example above, I may have to change this -->
<!-- paragraph.  LDF 2003.08.15. -->
   <p>In this example, a is shifted and scaled, and a is applied
to both in line 9.  This works, because
the binary operation
<code>operator*=(const Transform&amp; t)</code> returns <var>t</var>,
making it possible to chain invocations of <code>*=</code>. 
Following this, a is rotated
75 degrees

   <p>about the line through p_0 and p_1. 
Finally, all three transformations, which are stored in a, are
applied to p_4.

<div class="node">
<a name="Inverting-Transforms"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Applying-Transforms-to-Points-Intro">Applying Transforms to Points Intro</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Transforms">Transforms</a>

</div>

<h3 class="section">4.2 Inverting Transforms</h3>

<p><a name="index-matrix-inversion-42"></a><a name="index-inversion-43"></a><dfn>Inversion</dfn> is another operation that can be performed on
<code>Transforms</code>.  This makes it possible to reverse the effect of a
<code>Transform</code>, which may represent multiple transformations.

<pre class="example">     Point p;
     Transform t;
     t.shift(1, 2, 3);
     t.scale(2, 3, 4);
     t.rotate(45, 45, 30);
     t.show("t:");
     -| t:
        1.22   0.707    1.41       0
       0.238    2.59    -1.5       0
       -3.15    1.45       2       0
       -7.74    10.2    4.41       1
     p *= t;
     p.show("p:");
     -| p: (-7.74, 10.2, 4.41)
     Transform u;
     u = t.inverse();
     u.show("u:");
     -| u:
       0.306  0.0265  -0.197 2.85e-09
       0.177   0.287  0.0906 -1.12e-09
       0.354  -0.167   0.125       0
          -1      -2      -3       1
     p *= u;
     p.show("p:");
     -| p: (0, 0, 0)
     u *= t;
     u.show("u:");
     -| u:
           1       0       0       0
           0       1       0       0
           0       0       1       0
           0       0       0       1
</pre>
   <p>If <code>inverse()</code> is called with no argument, or with the argument
<code>false</code>, it returns a
<code>Transform</code> representing its inverse, and remains unchanged.  If it
is called with the argument <code>true</code>, it is set to its inverse.

   <p>Complete reversal of the transformations applied to a <code>Point</code>, as
in the previous example, probably won't make much sense.  However,
partial reversal is a valuable technique.  For example, it is used in
<code>rotate()</code> for rotation about a line defined by two <code>Points</code>. 
The following example merely demonstrates the basic principle;  an
example that does something useful would be too complicated.

<!-- !! TO DO:  Change this example so that it demonstrates rotation about -->
<!-- a line defined by two @code{Points}.  Change the paragraph above to -->
<!-- correspond.  LDF 2003.08.15. -->
<pre class="example">     Transform t;
     t.shift(3, 4, 5);
     t.rotate(45);
     t.scale(2, 2, 2);
     Point p;
     p *= t;
     p.show("p:");
     -| p: (6, 12.7279, 1.41421)
     t.inverse(true);
     p.rotate(90, 90);
     p *= t;
     p.show("p:");
     -| p: (3.36396, -5.62132, -2.37868)
</pre>
   <!-- chapter Drawing and Labeling Points -->
<!-- gsdlpt.texi -->
<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
<div class="node">
<a name="Drawing-and-Labeling-Points"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Paths">Paths</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Transforms">Transforms</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">5 Drawing and Labeling Points</h2>

<ul class="menu">
<li><a accesskey="1" href="#Drawing-Points-Intro">Drawing Points Intro</a>
<li><a accesskey="2" href="#Labeling-Points-Intro">Labeling Points Intro</a>
</ul>

<div class="node">
<a name="Drawing-Points-Intro"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Labeling-Points-Intro">Labeling Points Intro</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Drawing-and-Labeling-Points">Drawing and Labeling Points</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Drawing-and-Labeling-Points">Drawing and Labeling Points</a>

</div>

<h3 class="section">5.1 Drawing Points</h3>

<p><a name="index-drawing-and-filling-44"></a>It's all very well to declare <code>Points</code>, place them at particular
locations, print their locations to standard output, and transform them,
but none of these operations produce any MetaPost output. 
In order to do this, the first step is to use <dfn>drawing and
filling commands</dfn>.  The drawing and filling commands in 3DLDF are
modelled on those in Metafont.

   <p><a name="index-pens-45"></a>The following example demonstrates how to draw a dot specifying a
<code>Color</code> (see <a href="#Color-Reference">Color Reference</a>) and a
<dfn>pen</dfn><a rel="footnote" href="#fn-13" name="fnd-13"><sup>13</sup></a>.

<pre class="example">     Point P(0, 1);
     P.drawdot(Colors::black, "pencircle scaled 3mm");
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF3.png"
alt="[Figure 3. Not displayed.]" 
/>
<br>
<br>
Fig. 3. 
<br>
</p>

   <p>In <code>drawdot()</code>, a <code>Color</code> argument precedes the
<code>string</code> argument for the pen, so &ldquo;<code>Colors::black</code>&rdquo; must be
specified as a placeholder in the call to
<code>drawdot()</code>.<a rel="footnote" href="#fn-14" name="fnd-14"><sup>14</sup></a>

   <p>The following example &ldquo;undraws&rdquo; a dot at the same location using a
smaller pen. <code>undraw()</code> does not take a <code>Color</code> argument.

<pre class="example">     p.undrawdot("pencircle scaled 2mm");
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF4.png"
alt="[Figure 4. Not displayed.]" 
/>
<br>
<br>
Fig. 4. 
<br>
</p>

<p class="noindent">For complete descriptions of <code>drawdot()</code> and <code>undrawdot()</code>,
see <a href="#Point-Drawing-Functions">Point Reference; Drawing</a>.

   <p><a name="index-drawing-and-filling-46"></a><a name="index-lines_002c-drawing-47"></a><a name="index-connecting-_0040code_007bPoints_007d-48"></a><a name="index-g_t_0040code_007bPoints_007d_002c-connecting-49"></a>Drawing and undrawing dots is not very exciting.  In order to make a
proper drawing it is necessary to <em>connect</em> the <code>Points</code>.  The most
basic way of doing this is to use the <code>Point</code> member function
<code>draw()</code> with a <code>Point</code> argument:

<pre class="example">     Point p0;
     Point p1(2, 2);
     p0.draw(p1);
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF5.png"
alt="[Figure 5. Not displayed.]" 
/>
<br>
<br>
Fig. 5. 
<br>
</p>

<p class="noindent"><code>p0.draw(p1)</code> is equivalent in its effect to
<code>p1.draw(p0)</code>.

   <p>The function <code>Point::draw()</code> takes a required <code>Point&amp;</code>
argument (a <dfn>reference</dfn><a rel="footnote" href="#fn-15" name="fnd-15"><sup>15</sup></a>
to a <code>Point</code>) an optional <code>Color</code>
argument, and optional <code>string</code> arguments for
the dash pattern and the
pen.  The <code>string</code> arguments, if present, are passed unchanged to
the output file. 
The empty <code>string</code> following the
argument <code>p1</code> is a placeholder for the dash pattern argument, which
isn't used here.

<pre class="example">     p0.draw(p1, Colors::gray, "", "pensquare scaled .5cm rotated 45");
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF6.png"
alt="[Figure 6. Not displayed.]" 
/>
<br>
<br>
Fig. 6. 
<br>
</p>

   <p>The function <code>Point::undraw()</code> takes a required <code>Point&amp;</code>
argument and
optional <code>string</code> arguments for the dash pattern and the
pen.  Unlike <code>Point::draw()</code>, a <code>Color</code> argument would have no
meaning for <code>Point::undraw()</code>. 
The <code>string</code> arguments are passed unchanged to the output file.

   <p><code>undraw()</code> can be used to &ldquo;hollow out&rdquo; the region
drawn in [the previous figure]
.  Since a dash pattern is used, portions
of the middle of the region are not undrawn.

<pre class="example">     p0.undraw(p1, "evenly scaled 6", "pencircle scaled .2cm");
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF7.png"
alt="[Figure 7. Not displayed.]" 
/>
<br>
<br>
Fig. 7. 
<br>
</p>

   <p>For complete descriptions of <code>draw()</code> and <code>undraw()</code>,
see <a href="#Point-Drawing-Functions">Point Reference; Drawing</a>.

<div class="node">
<a name="Labeling-Points-Intro"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Drawing-Points-Intro">Drawing Points Intro</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Drawing-and-Labeling-Points">Drawing and Labeling Points</a>

</div>

<h3 class="section">5.2 Labeling Points</h3>

<p>The labels in the previous examples were made by using the functions
<code>Point::label()</code> and <code>Point::dotlabel()</code>, which make it
possible to include TeX text in a drawing.

   <p><code>label()</code> and <code>dotlabel()</code> take <code>string</code> arguments for
the text of the label and the position of the label with respect to the
<code>Point</code>.  The label text is formatted using TeX, so it can contain
math mode material between dollar signs.  Please note that double backslashes
must be used, where a single backslash would suffice in a file of
MetaPost code, for example, for TeX control sequences. 
Alternatively, a <code>short</code> argument can be used for the label.

   <p>The position argument is optional, with <code>"top"</code> as the default.  If
the empty <code>string</code> <code>""</code> is used, the label will centered about
the <code>Point</code> itself.  This will usually only make sense for
<code>label()</code>, because it would otherwise interfere with the dot. 
Valid arguments for the
position are the same as in MetaPost: <code>"top"</code>, <code>"bot"</code>
(bottom), <code>"lft"</code> (left), <code>"rt"</code> (right),
<code>"ulft"</code> (upper left), <code>"urt"</code> (upper right),
<code>"llft"</code> (lower left), and <code>"lrt"</code> (lower right).

<pre class="example">     Point p0;
     Point p1(1);
     Point p2(2);
     Point p3(p0);
     Point p4(p1);
     Point p5(p2);
     p3 *= p4 *= p5.shift(0, 1);
     p0.draw(p1);
     p1.draw(p2);
     p2.draw(p5);
     p5.draw(p4);
     p4.draw(p3);
     p3.draw(p0);
     p0.label($p_0$, "");
     p1.dotlabel(1);
     p2.dotlabel("p2", "bot");
     p3.dotlabel("This is $p_3$", "lft");
     p4.label(4);
     p5.label("$\\leftarrow p_5$", "rt");
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF8.png"
alt="[Figure 8. Not displayed.]" 
/>
<br>
<br>
Fig. 8. 
<br>
</p>

   <p>For complete descriptions of <code>Point::label()</code> and
<code>Point::dotlabel()</code>, see <a href="#Labelling-Points">Points; Labelling</a>.

<!-- chapter Paths -->
<!-- gspaths.texi -->
<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
<div class="node">
<a name="Paths"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Plane-Figures">Plane Figures</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Drawing-and-Labeling-Points">Drawing and Labeling Points</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">6 Paths</h2>

<p><a name="index-Path-50"></a><a name="index-paths-51"></a><a name="index-connectors-52"></a><code>Points</code> alone are not enough for making useful drawings.  The next
step is to combine them into <code>Paths</code>, which are similar to
Metafont's <b>paths</b>, except that they are three-dimensional. 
A <code>Path</code> consists of a number of <code>Points</code> and <code>strings</code>
representing the <dfn>connectors</dfn>.  The latter are not processed by
3DLDF, but are passed unchanged to the output file.  They must be valid
connectors for MetaPost, e.g.:

   <p><a name="index-curl-53"></a><a name="index-tension-54"></a><a name="index-controls-55"></a><a name="index-control-points-56"></a>
<pre class="example">     <tt>..</tt>
     <tt>...</tt>
     <tt>--</tt>
     <tt>---</tt>
     <tt>&amp;</tt>
     <tt>curl{2}..</tt>
     <tt>{dir 60}..</tt>
     <tt>{z1 - z2}..</tt>
     <tt>.. tension 1 and 1.5..</tt>
     <tt>..controls z1 and z2..</tt>
</pre>
   <p>Usually, it will only make sense to use <tt>..</tt> or <tt>&ndash;</tt>, and not
<tt>...</tt>, <tt>&mdash;</tt>, <tt>tension</tt>, <tt>curl</tt>, <tt>controls</tt>, or any of the
other possibilities, in <code>Paths</code>, unless
you are sure that they will only be viewed with no foreshortening due to
the perspective
projection.  This can be the case, when a <code>Path</code> lies in a plane
parallel to one of the major planes, and is projected using parallel
projection onto that plane.  Otherwise,
the result of using these connectors is likely to be unsatisfactory, because
MetaPost performs its calculations based purely on the two-dimensional
values of the points in the perspective projection. 
While the <code>Points</code> on the <code>Path</code> will be projected correctly,
the course of the <code>Path</code> between these <code>Points</code> is likely to
differ, depending on the values of the <code>Focus</code>
used (see <a href="#Focuses-Getstart">Focuses</a>), so that
different views of the same <code>Path</code> may well be mutually
inconsistent. 
This problem doesn't arise with &ldquo;<tt>&ndash;</tt>&rdquo;, since the perspective
projection does not &ldquo;unstraighten&rdquo; straight lines,
but it does with &ldquo;<tt>..</tt>&rdquo;, even without <tt>tension</tt>, <tt>curl</tt>,
or <tt>controls</tt>. 
The solution is to use enough <code>Points</code>, since a greater number of
<code>Points</code> on a <code>Path</code> tends to reduce the number
of possible courses through the <code>Points</code>.<a rel="footnote" href="#fn-16" name="fnd-16"><sup>16</sup></a>

<ul class="menu">
<li><a accesskey="1" href="#Declaring-and-Initializing-Paths">Declaring and Initializing Paths</a>
<li><a accesskey="2" href="#Drawing-and-Filling-Paths-Intro">Drawing and Filling Paths Intro</a>
</ul>

<div class="node">
<a name="Declaring-and-Initializing-Paths"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Drawing-and-Filling-Paths-Intro">Drawing and Filling Paths Intro</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Paths">Paths</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Paths">Paths</a>

</div>

<h3 class="section">6.1 Declaring and Initializing Paths</h3>

<p>There are various ways of declaring and initializing <code>Paths</code>.  The
simplest is to use the constructor taking two <code>Point</code> arguments:

<pre class="example">     Point A;
     Point B(2, 2);
     Path p(A, B);
     p.draw();
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF9.png"
alt="[Figure 9. Not displayed.]" 
/>
<br>
<br>
Fig. 9. 
<br>
</p>

   <p><code>Paths</code> created in this way are important, because they are
guaranteed to be linear, as long as no operations are performed on them
that cause them to become non-linear. 
Linear <code>Paths</code> can be used to find <dfn>intersections</dfn>. 
See <a href="#Path-Intersections">Path Intersections</a>.

   <p><code>Paths</code> can be declared and initialized using a single connector
and an arbitrary number of <code>Points</code>.  The first argument is a
<code>string</code> specifying the connector.  It is followed by a
<code>bool</code>, indicating whether the
<code>Path</code> is cyclical or not. Then, an arbitrary number of
pointers to <code>Point</code> follow.  The last argument must be 0.<a rel="footnote" href="#fn-17" name="fnd-17"><sup>17</sup></a>

<pre class="example">     Point p[3];
     p[0].shift(1);
     p[1].set(1, 2, 2);
     p[2].set(1, 0, 2);
     Path pa("--", true, &amp;p[0], &amp;p[1], &amp;p[2], 0);
     pa.draw();
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF10.png"
alt="[Figure 10. Not displayed.]" 
/>
<br>
<br>
Fig. 10. 
<br>
</p>

   <p>Another constructor must be used for <code>Paths</code> with
more than one connector and an arbitrary number of <code>Points</code>. 
The argument list starts with a pointer to <code>Point</code>, followed by
<code>string</code> for the first connector.  Then,
pointer to <code>Point</code> arguments alternate with <code>string</code> arguments
for the connectors. 
Again, the list of arguments ends in 0.  There is no
need for a <code>bool</code> to indicate whether the <code>Path</code> is cyclical
or not;  if it is, the last non-zero argument will be a connector,
otherwise, it will be a pointer to <code>Point</code>.

<pre class="example">     Point p[8];
     p[0].set(-2);
     p[1].set(2);
     p[2].set(0, 0, -2);
     p[3].set(0, 0, 2);
     p[4] = p[0].mediate(p[2]);
     p[5] = p[2].mediate(p[1]);
     p[6] = p[1].mediate(p[3]);
     p[7] = p[3].mediate(p[0]);
     p[4] *= p[5] *= p[6] *= p[7].shift(0, 1);
     Path pa(&amp;p[0], "..", &amp;p[4], "...", &amp;p[2],
             "..", &amp;p[5], "...", &amp;p[1], "..", &amp;p[6],
             "...", &amp;p[3], "..", &amp;p[7], "...", 0);
     pa.draw();
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF11.png"
alt="[Figure 11. Not displayed.]" 
/>
<br>
<br>
Fig. 11. 
<br>
</p>

   <p>As mentioned above (see <a href="#Accuracy">Accuracy</a>), specifying connectors is
problematic for three-dimensional <code>Paths</code>,
because MetaPost ultimately calculates the &ldquo;most pleasing curve&rdquo;
based on the two-dimensional points in the MetaPost code written by
3DLDF.<a rel="footnote" href="#fn-18" name="fnd-18"><sup>18</sup></a>
For this reason, it's advisable to avoid specifying &lsquo;<samp><span class="samp">curl</span></samp>&rsquo;,
&lsquo;<samp><span class="samp">dir</span></samp>&rsquo;, &lsquo;<samp><span class="samp">tension</span></samp>&rsquo; or control points in connectors. 
The more <code>Points</code> a (3DLDF) <code>Path</code> or other object contains,
the less freedom MetaPost has to determine the (MetaPost) <code>path</code>
through them. 
So a three-dimensional <code>Path</code> or
other object in 3DLDF should have enough <code>Points</code> to ensure
satisfactory results.  The <code>Path</code> in [the previous figure]
 does not
really have enough <code>Points</code>.  It may require some trial and error
to determine
what a sufficient number of <code>Points</code> is in a given case.

   <p><code>Paths</code> are very flexible, but not always convenient.  3DLDF
provides a number of classes representing common geometric
<code>Shapes</code>, which will be described in subsequent sections, and I
intend to add more in the course of time.

<div class="node">
<a name="Drawing-and-Filling-Paths-Intro"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Declaring-and-Initializing-Paths">Declaring and Initializing Paths</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Paths">Paths</a>

</div>

<h3 class="section">6.2 Drawing and Filling Paths</h3>

<p>The easiest way to draw a <code>Path</code> is with no arguments.

<pre class="example">     Point pt[5];
     pt[0].set(-1, -2);
     pt[1].set(0, -3);
     pt[2].set(1, 0);
     pt[3].set(2, 1);
     pt[4].set(-1, 2);
     Path pa("..", true, &amp;pt[0], &amp;pt[1], &amp;pt[2], &amp;pt[3], &amp;pt[4], 0);
     pa.draw();
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF12.png"
alt="[Figure 12. Not displayed.]" 
/>
<br>
<br>
Fig. 12. 
<br>
</p>

   <p>Since <code>pa</code> is closed, it can be filled as well as drawn.  The
following example uses <code>fill()</code> with a <code>Color</code> argument, in
order to avoid having a large splotch of black on the page. 
Common <code>Colors</code> are declared in the <code>namespace Colors</code>. 
See <a href="#Color-Reference">Color Reference</a>.

<pre class="example">     pa.fill(Colors::gray);
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF13.png"
alt="[Figure 13. Not displayed.]" 
/>
<br>
<br>
Fig. 13. 
<br>
</p>

   <p>Closed <code>Paths</code> can be filled and drawn, using the function
<code>filldraw()</code>.  This function draws the <code>Path</code> using the pen
specified, or MetaPost's <code>currentpen</code> by default.  A <code>Color</code>
for drawing the <code>Path</code> can also be specified, otherwise, the
default color (currently <code>Colors::black</code>) is used. 
In addition, the <code>Path</code> is filled using a second <code>Color</code>,
which can be specified, or the background_color
(<code>Colors::background_color</code>), by default. 
Filling a <code>Path</code> using the background color causes it to hide
objects that lie behind it. 
See <a href="#Surface-Hiding">Surface Hiding</a>, for a description of the surface hiding
algorithm, and examples.  Currently, this algorithm is quite primitive
and only works
for simple cases.

<pre class="example">     Point p0(-3, 0, 1);
     Point p1(3, 1, 1);
     p0.draw(p1);
     pa.filldraw();
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF14.png"
alt="[Figure 14. Not displayed.]" 
/>
<br>
<br>
Fig. 14. 
<br>
</p>

   <p>The following example uses arguments for the <code>Colors</code> used for
drawing and filling, and the pen.  The empty string argument before the
pen argument is a placeholder for the dash pattern argument.

<pre class="example">     pa.filldraw(black, gray, "",
        "pensquare xscaled 3mm yscaled 1mm rotated 60");
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF15.png"
alt="[Figure 15. Not displayed.]" 
/>
<br>
<br>
Fig. 15. 
<br>
</p>

   <p><code>Paths</code> can also be &ldquo;undrawn&rdquo;, &ldquo;unfilled&rdquo;, and &ldquo;unfilldrawn&rdquo;,
using the corresponding functions:

<pre class="example">     pa.fill(gray);
     p0.undraw(p1, "", "pencircle scaled 3mm");
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF16.png"
alt="[Figure 16. Not displayed.]" 
/>
<br>
<br>
Fig. 16. 
<br>
</p>

<pre class="example">     pa.fill(gray);
     Path q;
     q = pa;
     q.scale(.5, .5);
     q.unfill();
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF17.png"
alt="[Figure 17. Not displayed.]" 
/>
<br>
<br>
Fig. 17. 
<br>
</p>

   <p>The function <code>unfilldraw()</code> takes a <code>Color</code> argument for
drawing the <code>Path</code>, which is <code>*Colors::background_color</code> by
default.  This makes it possible to unfill the <code>Path</code> while drawing
the outline with a visible <code>Color</code>.  On the other hand, it also
makes it necessary to specify <code>*Colors::background_color</code> or
<code>Colors::white</code>, if the user wants to use the dash pattern and/or
pen arguments, without drawing the <code>Path</code>.

<pre class="example">     pa.fill(gray);
     q.unfilldraw(white, "", "pensquare xscaled 3mm yscaled 1mm");
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF18.png"
alt="[Figure 18. Not displayed.]" 
/>
<br>
<br>
Fig. 18. 
<br>
</p>

   <p>The following example demonstrates the use of <code>unfilldraw()</code> with
<code>black</code> as its <code>Color</code> argument.  Unfortunately, it also
demonstrates one of the limitations of the surface hiding algorith:  The
line from <code>p0</code> to <code>p1</code> is hidden by the
filled <code>Path pa</code>.  Since the portion of <code>pa</code> covered by
<code>Path q</code> has been unfilled,
the line from p_0 to p_1
should be visible as it passes through <code>q</code>.  However, from the
point of view of 3DLDF, there is no relationship between <code>pa</code> and
<code>q</code>;  nor does it &ldquo;know&rdquo; whether a <code>Path</code> has been filled or
unfilled.  If it's on a <code>Picture</code>, it will hide objects lying
behind it, unless the surface hiding algorithm fails for another
reason.  See <a href="#Surface-Hiding">Surface Hiding</a>, for more information.

<pre class="example">     p0.draw(p1);
     pa.fill(gray);
     q.unfilldraw(black, "", "pensquare xscaled 3mm yscaled 1mm");
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF19.png"
alt="[Figure 19. Not displayed.]" 
/>
<br>
<br>
Fig. 19. 
<br>
</p>

   <p>See <a href="#Drawing-and-Filling-Paths">Paths; Drawing and Filling</a>, for more
information, and complete descriptions of the functions.

<!-- chapter Plane Figures -->
<!-- gsplane.texi -->
<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
<div class="node">
<a name="Plane-Figures"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Solid-Figures">Solid Figures</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Paths">Paths</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">7 Plane Figures</h2>

<p><a name="index-Circle-57"></a><a name="index-Ellipse-58"></a><a name="index-Polygon-59"></a><a name="index-Rectangle-60"></a><a name="index-Reg_005fCl_005fPlane_005fCurve-61"></a><a name="index-Reg_005fPolygon-62"></a>3DLDF currently includes the following classes representing plane
geometric figures:  <code>Polygon</code>, <code>Reg_Cl_Plane_Curve</code>
(&ldquo;Regular Closed Plane Curve&rdquo;), <code>Reg_Polygon</code> (&ldquo;Regular
Polygon&rdquo;), <code>Rectangle</code>, <code>Ellipse</code> and
<code>Circle</code>.  <code>Polygon</code> and <code>Reg_Cl_Plane_Curve</code> are derived
from <code>Path</code>, <code>Reg_Polygon</code> and <code>Rectangle</code> are derived
from <code>Polygon</code>, and <code>Ellipse</code> and <code>Circle</code> are derived
from <code>Reg_Cl_Plane_Curve</code>.  <code>Polygon</code> and
<code>Reg_Cl_Plane_Curve</code> are meant to be used as base classes only, so
objects of these types should normally never be declared.

   <p>Since <code>Reg_Polygon</code>, <code>Rectangle</code>, <code>Ellipse</code>, and
<code>Circle</code> all ultimately derive from <code>Path</code>, they are really
just special kinds of <code>Path</code>. 
In particular, they inherit their drawing and filling functions from
<code>Path</code>, and their transformation functions take the same arguments
as the <code>Path</code> versions. 
They also have constructors
and setting functions that work in a similar way, with a few minor
differences, to account for their different natures. 
See <a href="#Polygon-Reference">Polygon Reference</a>, <a href="#Rectangle-Reference">Rectangle Reference</a>,
<a href="#Ellipse-Reference">Ellipse Reference</a>, and <a href="#Circle-Reference">Circle Reference</a>, for complete
information on these classes.

<ul class="menu">
<li><a accesskey="1" href="#Regular-Polygons-Getstart">Regular Polygons Getstart</a>
<li><a accesskey="2" href="#Rectangles-Getstart">Rectangles Getstart</a>
<li><a accesskey="3" href="#Ellipses-Getstart">Ellipses Getstart</a>
<li><a accesskey="4" href="#Circles-Getstart">Circles Getstart</a>
</ul>

<div class="node">
<a name="Regular-Polygons-Getstart"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Rectangles-Getstart">Rectangles Getstart</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Plane-Figures">Plane Figures</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Plane-Figures">Plane Figures</a>

</div>

<h3 class="section">7.1 Regular Polygons</h3>

<p>The following example creates a pentagon in the x-z plane, centered
about the origin, whose enclosing circle has a radius equal to 3cm.

<pre class="example">     default_focus.set(2, 3, -10, 2, 3, 10, 10);
     Reg_Polygon p(origin, 5, 3);
     p.draw();
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF20.png"
alt="[Figure 20. Not displayed.]" 
/>
<br>
<br>
Fig. 20. 
<br>
</p>

   <p>Three additional arguments cause the pentagon to be rotated about the x,
y, and z axes by the amount indicated.  In this example, it's rotated
90 degrees

   <p>about the x-axis, so that it comes to lie in the x-y plane:

<pre class="example">     Reg_Polygon p(origin, 5, 3, 90);
     p.draw();
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF21.png"
alt="[Figure 21. Not displayed.]" 
/>
<br>
<br>
Fig. 21. 
<br>
</p>

   <p>In this example, it's rotated
36 degrees

   <p>about the y-axis, so that it appears to point in the opposite
direction from the first example:
<pre class="example">     Reg_Polygon p(origin, 5, 3, 0, 36);
     p.draw();
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF22.png"
alt="[Figure 22. Not displayed.]" 
/>
<br>
<br>
Fig. 22. 
<br>
</p>

   <p>In this example, it's rotated
90 degrees

   <p>about the z-axis, so that it lies in the z-y plane:

<pre class="example">     Reg_Polygon p(origin, 5, 3, 0, 0, 90);
     p.draw();
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF23.png"
alt="[Figure 23. Not displayed.]" 
/>
<br>
<br>
Fig. 23. 
<br>
</p>

   <p>In this example, it's rotated
45 degrees

   <p>about the x, y, and z-axes in that order:

<pre class="example">     Reg_Polygon p(origin, 5, 3, 45, 45, 45);
     p.draw();
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF24.png"
alt="[Figure 24. Not displayed.]" 
/>
<br>
<br>
Fig. 24. 
<br>
</p>

   <p><code>Reg_Polygons</code> need not be centered about the <code>origin</code>.  If
another <code>Point</code> <var>pt</var> is used as the first argument, the <code>Reg_Polygon</code>
is first created with its center at the origin, then the specified
rotations, if any, are performed.  Finally, the <code>Reg_Polygon</code> is
shifted such that its center comes to lie on <var>pt</var>:

<pre class="example">     Point P(-2, 1, 1);
     Reg_Polygon hex(P, 6, 4, 60, 30, 30);
     hex.draw();
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF25.png"
alt="[Figure 25. Not displayed.]" 
/>
<br>
<br>
Fig. 25. 
<br>
</p>

   <p>In the following example, the <code>Reg_Polygon</code> <code>polygon</code> is first
declared using the default constructor, which creates an empty
<code>Reg_Polygon</code>.  Then, the <code>polygon</code> is repeatedly changed using
the setting function corresponding to the constructor used in the
previous examples.  [next figure]
 demonstrates that a given
<code>Reg_Polygon</code> need not always have the same number of sides.

<pre class="example">     Point p(0, -3);
     Reg_Polygon polygon;
     for (int i = 3; i &lt; 9; ++i)
       {
         polygon.set(p, i, 3);
         polygon.draw();
         p.shift(0, 1);
       }
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF26.png"
alt="[Figure 26. Not displayed.]" 
/>
<br>
<br>
Fig. 26. 
<br>
</p>

<div class="node">
<a name="Rectangles-Getstart"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Ellipses-Getstart">Ellipses Getstart</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Regular-Polygons-Getstart">Regular Polygons Getstart</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Plane-Figures">Plane Figures</a>

</div>

<h3 class="section">7.2 Rectangles</h3>

<p>A <code>Rectangle</code> can be constructed in the x-z plane by specifying a
center <code>Point</code>, the width, and the height:

<pre class="example">     Rectangle r(origin, 2, 3);
     r.draw();
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF27.png"
alt="[Figure 27. Not displayed.]" 
/>
<br>
<br>
Fig. 27. 
<br>
</p>

   <p>Three additional arguments can be used to specify rotation about the x,
y, and z-axes respectively:

<pre class="example">     Rectangle r(origin, 2, 3, 30, 45, 15);
     r.draw();
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF28.png"
alt="[Figure 28. Not displayed.]" 
/>
<br>
<br>
Fig. 28. 
<br>
</p>

   <p>If a <code>Point</code> <var>p</var> other than the origin is specified as the center of
the <code>Rectangle</code>, the latter is first created in the x-z plane,
centered about the origin, as above.  Then, any rotations specified are
performed.  Finally, the <code>Rectangle</code> is shifted such that its center
comes to lie at <var>p</var>:

<pre class="example">     Point p0(.5, 1, 3);
     Rectangle r(p0, 4, 2, 30, 30, 30);
     r.draw();
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF29.png"
alt="[Figure 29. Not displayed.]" 
/>
<br>
<br>
Fig. 29. 
<br>
</p>

   <p>This constructor has a corresponding setting function:

<pre class="example">     Rectangle r;
     for (int i = 0; i &lt; 180; i += 30)
       {
         r.set(origin, 4, 2, i);
         r.draw();
       }
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF30.png"
alt="[Figure 30. Not displayed.]" 
/>
<br>
<br>
Fig. 30. 
<br>
</p>

   <p><code>Rectangles</code> can also be specified using four <code>Points</code> as
arguments, whereby they must be ordered so that they are contiguous in
the resulting <code>Rectangle</code>:

<pre class="example">     Point pt[4];
     pt[0].shift(-1, -2);
     pt[2] = pt[1] = pt[0];
     pt[1].rotate(180);
     pt[3] = pt[1];
     pt[2] *= pt[3].rotate(0, 180);
     Rectangle r(pt[0], pt[2], pt[3], pt[1]);
     r.draw();
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF31.png"
alt="[Figure 31. Not displayed.]" 
/>
<br>
<br>
Fig. 31. 
<br>
</p>

   <p>This constructor checks whether the <code>Point</code> arguments are coplanar,
however, it does not check whether they are really the corners of a
valid rectangle;  the user, or the code that calls this function, must
ensure that they are.  In the following
example, <code>r</code>, although not rectangular, is a <code>Rectangle</code>, as
far as 3DLDF is concerned:

<pre class="example">     pt[0].shift(0, -1);
     pt[3].shift(0, 1);
     Rectangle q(pt[0], pt[2], pt[3], pt[1]);
     q.draw();
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF32.png"
alt="[Figure 32. Not displayed.]" 
/>
<br>
<br>
Fig. 32. 
<br>
</p>

   <p>This constructor is not really intended to be used directly, but should
mostly be called from within other functions, that should ensure that
the arguments produce a rectangular <code>Rectangle</code>.  There is also no
guarantee that transformations or other functions called on
<code>Rectangle</code>, <code>Circle</code>, or other classes representing
geometric figures won't cause them to become non-rectangular,
non-circular, or otherwise irregular.  Sometimes, this might even be
desirable.  I plan to add the function
<code>Rectangle::is_rectangular()</code> soon, so that users can test
<code>Rectangles</code> for rectangularity.

<div class="node">
<a name="Ellipses-Getstart"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Circles-Getstart">Circles Getstart</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Rectangles-Getstart">Rectangles Getstart</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Plane-Figures">Plane Figures</a>

</div>

<h3 class="section">7.3 Ellipses</h3>

<p><code>Ellipse</code> has a constructor similar to those for
<code>Reg_Polygon</code> and <code>Rectangle</code>.  The first argument is the
center of the <code>Ellipse</code>, and the following two specify the lengths
of the horizontal and vertical axes respectively.  The <code>Ellipse</code> is
first created in the x-z plane, centered about the origin.  The
horizontal axis lies along the x-axis and the vertical axis lies along
the z-axis.  The three subsequent arguments specify the amounts of
rotation about the x, y, and z-axes respectively and default to 0. 
Finally,
<code>Ellipse</code> is shifted such that its center comes to lie at the
<code>Point</code> specified in the first argument.

<pre class="example">     Point pt(-1, 1, 1);
     Ellipse e(pt, 3, 6, 90);
     e.draw();
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF33.png"
alt="[Figure 33. Not displayed.]" 
/>
<br>
<br>
Fig. 33. 
<br>
</p>

   <p>As you may expect, this constructor has a corresponding setting
function:

<!-- !! TO DO: Simplify this example.  LDF 2003.08.15. -->
<pre class="example">     Ellipse e;
     real h_save = 1.5;
     real v_save = 2;
     real h = h_save;
     real v = v_save;
     Point p(-1);
     for (int i = 0; i &lt; 5; ++i)
       {
           e.set(p, h, v, 90);
           e.draw();
           h_save += .25;
           v_save += .25;
           h *= sqrt(h_save);
           v *= sqrt(v_save);
           p.shift(0, 0, 2);
       }
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF34.png"
alt="[Figure 34. Not displayed.]" 
/>
<br>
<br>
Fig. 34. 
<br>
</p>

<div class="node">
<a name="Circles-Getstart"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Ellipses-Getstart">Ellipses Getstart</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Plane-Figures">Plane Figures</a>

</div>

<h3 class="section">7.4 Circles</h3>

<p><code>Circles</code> are constructed just like <code>Ellipses</code>, except that
the vertical and horizontal axes are per definition the same, so
there's only one argument for the diameter, instead of two for the
horizontal and vertical axes:

<pre class="example">     Point P(0, 2, 1);
     Circle c(P, 3.5, 90, 90);
     c.draw();
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF35.png"
alt="[Figure 35. Not displayed.]" 
/>
<br>
<br>
Fig. 35. 
<br>
</p>

   <p>This constructor, too, has a corresponding setting function:

<pre class="example">     Circle c;
     Point p(-1, 0, 5);
     for (int i = 0; i &lt; 16; ++i)
       {
           c.set(p, 5, i * 22.5, 0, 0, 64);
           c.draw();
       }
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF36.png"
alt="[Figure 36. Not displayed.]" 
/>
<br>
<br>
Fig. 36. 
<br>
</p>

   <p>In the preceding example, the last argument to <code>set()</code>, namely &ldquo;64&rdquo;,
is for the number of <code>Points</code> used for constructing the perimeter
of the <code>Circle</code>.  The default value is 16, however, if it is used,
foreshortening distorts the most nearly horizontal <code>Circle</code>. 
Increasing the number of points used improves its appearance.  However,
there may be a limit to how much improvement is possible. 
See <a href="#Accuracy">Accuracy</a>.

<!-- chapter Solid Figures -->
<!-- gssolfig.texi -->
<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
<div class="node">
<a name="Solid-Figures"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Pictures">Pictures</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Plane-Figures">Plane Figures</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">8 Solid Figures</h2>

<ul class="menu">
<li><a accesskey="1" href="#Cuboid-Getstart">Cuboid Getstart</a>
<li><a accesskey="2" href="#Polyhedron-Getstart">Polyhedron Getstart</a>
</ul>

<div class="node">
<a name="Cuboid-Getstart"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Polyhedron-Getstart">Polyhedron Getstart</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Solid-Figures">Solid Figures</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Solid-Figures">Solid Figures</a>

</div>

<h3 class="section">8.1 Cuboids</h3>

<p><a name="index-Cuboid-63"></a>A <dfn>cuboid</dfn> is a solid figure consisting of six rectangular faces
that meet at right angles.  A cube is a special form of cuboid, whose
faces are all squares.  The constructor for the class <code>Cuboid</code>
follows the pattern familiar from the constructors for the plane
figures:  The first argument is the center of the <code>Cuboid</code>,
followed by three <code>real</code> arguments for the height, width, and
depth, and then three more <code>real</code> arguments for the angles of
rotation about the x, y, and z-axes.  The <code>Cuboid</code> is first
constructed with its center at the origin.  Its width, height, and depth
are measured along the x, y, and z-axes respectively.  If rotations are
specified, it is rotated about the x, y, z-axes in that order.  Finally,
it is shifted such that its center comes to lie on its <code>Point</code>
argument, if the latter is not the origin.

   <p>If the width, height, and depth arguments are equal, the <code>Cuboid</code>
is a cube:

<pre class="example">     Cuboid c0(origin, 3, 3, 3, 0, 30);
     c0.draw();
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF37.png"
alt="[Figure 37. Not displayed.]" 
/>
<br>
<br>
Fig. 37. 
<br>
</p>

   <p>In the following example, the <code>Cuboid</code> is &ldquo;filldrawn&rdquo;, so that
the lines dilineating the hidden surfaces of the <code>Cuboid</code> are
covered.

<pre class="example">     Cuboid c1(origin, 3, 4, 5, 0, 30);
     c1.filldraw();
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF38.png"
alt="[Figure 38. Not displayed.]" 
/>
<br>
<br>
Fig. 38. 
<br>
</p>

<div class="node">
<a name="Polyhedron-Getstart"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Cuboid-Getstart">Cuboid Getstart</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Solid-Figures">Solid Figures</a>

</div>

<h3 class="section">8.2 Polyhedron</h3>

<p><a name="index-Polyhedron-64"></a>The <code>class Polyhedron</code> is meant for use only as a base class;
no objects of type <code>Polyhedron</code> should be declared.  Instead, there
is a class for each of the different drawable polyhedra.  Currently,
3DLDF defines only three: <code>Tetrahedron</code>, <code>Dodecahedron</code>, and
<code>Icosahedron</code>.  There's no need for a <code>Cube</code> class, because
cubes can be drawn using <code>Cuboid</code> (see <a href="#Cuboid-Getstart">Cuboid Getstart</a>).

   <p>Polyhedra have a high priority in my plans for 3DLDF. 
I intend to add <code>Octahedron</code> soon, which will complete the set of regular
Platonic polyhedra.  Then I will begin adding the semi-regular
Archimedean polyhedra, and their duals.

   <p>The constructors for the classes derived from <code>Polyhedron</code> follow
the pattern familiar from the classes already described.  The constructors
for the classes described below have identical arguments:  First, a
<code>Point</code> specifying the center, then a <code>real</code> for the
diameter of the surrounding circle (<em>Umkreis</em>, in German) of one of
its polygonal faces, followed by three
<code>real</code> arguments for the angles of rotation about the main axes.

<ul class="menu">
<li><a accesskey="1" href="#Tetrahedron-Getstart">Tetrahedron Getstart</a>
<li><a accesskey="2" href="#Dodecahedron-Getstart">Dodecahedron Getstart</a>
<li><a accesskey="3" href="#Icosahedron-Getstart">Icosahedron Getstart</a>
</ul>

<div class="node">
<a name="Tetrahedron-Getstart"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Dodecahedron-Getstart">Dodecahedron Getstart</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Polyhedron-Getstart">Polyhedron Getstart</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Polyhedron-Getstart">Polyhedron Getstart</a>

</div>

<h4 class="subsection">8.2.1 Tetrahedron</h4>

<p><a name="index-Tetrahedron-65"></a>The center of a tetrahedron is the intersection of the lines from a
vertex to the center of the opposite side.  At least, in 3DLDF, this is
the <code>center</code> of a <code>Tetrahedron</code>.  I'm not 100 degrees
 certain
that this is mathematically correct.

<pre class="example">     Tetrahedron t(origin, 4);
     t.draw();
     t.get_center().dotlabel("$c$");
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF39.png"
alt="[Figure 39. Not displayed.]" 
/>
<br>
<br>
Fig. 39. 
<br>
</p>

<div class="node">
<a name="Dodecahedron-Getstart"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Icosahedron-Getstart">Icosahedron Getstart</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Tetrahedron-Getstart">Tetrahedron Getstart</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Polyhedron-Getstart">Polyhedron Getstart</a>

</div>

<h4 class="subsection">8.2.2 Dodecahedron</h4>

<p><a name="index-Dodecahedron-66"></a>A dodecahedron has 12 similar regular pentagonal faces. 
The following examples show the same <code>Dodecahedron</code> using different
projections:

<pre class="example">     default_focus.set(2, 5, -10, 2, 5, 10, 10);
     Dodecahedron d(origin, 3);
     d.draw();
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF40.png"
alt="[Figure 40. Not displayed.]" 
/>
<br>
<br>
Fig. 40. 
<br>
</p>

<!-- ***************************** -->
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF41.png"
alt="[Figure 41. Not displayed.]" 
/>
<br>
<br>
Fig. 41. 
<br>
</p>

<!-- ***************************** -->
   <p>Please note that the <code>Dodecahedron</code> in [next figure]
 is drawn, and not
filldrawn!

   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF42.png"
alt="[Figure 42. Not displayed.]" 
/>
<br>
<br>
Fig. 42. 
<br>
</p>

<!-- ***************************** -->
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF43.png"
alt="[Figure 43. Not displayed.]" 
/>
<br>
<br>
Fig. 43. 
<br>
</p>

<!-- ********************************** -->
   <p>In [next figure]
, <code>d</code> is filldrawn.  In this case,
the surface hiding algorithm has worked properly. 
See <a href="#Surface-Hiding">Surface Hiding</a>.

   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF44.png"
alt="[Figure 44. Not displayed.]" 
/>
<br>
<br>
Fig. 44. 
<br>
</p>

<div class="node">
<a name="Icosahedron-Getstart"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Dodecahedron-Getstart">Dodecahedron Getstart</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Polyhedron-Getstart">Polyhedron Getstart</a>

</div>

<h4 class="subsection">8.2.3 Icosahedron</h4>

<p><a name="index-Icosahedron-67"></a>An icosahedron has 20 similar regular triangular faces. 
The following examples show the same <code>Icosahedron</code> using different
projections:

<pre class="example">     default_focus.set(3, 0, -10, 2, 0, 10, 10);
     Icosahedron i(origin, 3);
     i.draw();
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF45.png"
alt="[Figure 45. Not displayed.]" 
/>
<br>
<br>
Fig. 45. 
<br>
</p>

<!-- *************** -->
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF46.png"
alt="[Figure 46. Not displayed.]" 
/>
<br>
<br>
Fig. 46. 
<br>
</p>

<!-- *************** -->
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF47.png"
alt="[Figure 47. Not displayed.]" 
/>
<br>
<br>
Fig. 47. 
<br>
</p>

<!-- *************** -->
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF48.png"
alt="[Figure 48. Not displayed.]" 
/>
<br>
<br>
Fig. 48. 
<br>
</p>

<!-- *************** -->
   <p>In [next figure]
, <code>i</code> is filldrawn.  In this case,
the surface hiding algorithm has worked properly. 
See <a href="#Surface-Hiding">Surface Hiding</a>.

   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF49.png"
alt="[Figure 49. Not displayed.]" 
/>
<br>
<br>
Fig. 49. 
<br>
</p>

<!-- chapter Pictures -->
<!-- gspict.texi -->
<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
<div class="node">
<a name="Pictures"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Intersections">Intersections</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Solid-Figures">Solid Figures</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">9 Pictures</h2>

<p><a name="index-Picture-68"></a>Applying drawing and filling operations to the drawable objects described
in the previous chapters isn't enough to produce output.  These
operations merely modify the <code>Picture</code> object that was passed to
them as an argument (<code>current_picture</code>, by default).

   <p><code>Pictures</code> in 3DLDF are quite different from <code>pictures</code> in
MetaPost. 
When a drawing or filling operation is applied to an object <var>O</var>, a
copy of <var>O</var>, <var>C</var>, is allocated on the free store, a pointer to
<code>Shape</code> <var>S</var> is pointed at <var>C</var>, and <var>S</var> is pushed onto
the <code>vector&lt;Shape*&gt; shapes</code> on the <code>Picture</code> <var>P</var>, which
was passed as an argument to the drawing or filling command.  The
arguments for the pen,
dash pattern, <code>Color</code>, and any others, are used to set the
corresponding data members of <var>C</var> (not <var>O</var>).

   <p><a name="index-output-file-69"></a><a name="index-out_005fstream-70"></a>In order to actually
cause MetaPost code to be written to the output file, it is necessary
to invoke <var>P</var>.<code>output()</code>.  Now, the appropriate version of
<code>output()</code> is applied to each of the objects pointed to
by a pointer on <var>P</var>.<code>shapes</code>.  <code>output()</code> is a pure
virtual function in <code>Shape</code>, so all classes derived from
<code>Shape</code> must have an <code>output()</code> function.  So, if
<code>shapes[0]</code> points to a <code>Path</code>,
<code>Path::output()</code> is called, if
<code>shapes[1]</code> points to a <code>Point</code>,
<code>Point::output()</code> is called, and if <code>shapes[2]</code> points to an
object of a type derived from <code>Solid</code>, <code>Solid::output()</code> is
called. 
<code>Point</code>, <code>Path</code>, and <code>Solid</code> are namely the only classes
derived from <code>Shape</code> for which a version of <code>output()</code> is defined.  All
other <code>Shapes</code> are derived from one of these classes. 
These <code>output()</code>
functions then write the MetaPost code to the
output file through the output file stream <code>out_stream</code>.

<pre class="example">     beginfig(1);
     default_focus.set(0, 0, -10, 0, 0, 10, 10);
     Circle c(origin, 3, 90);
     c.draw();
     c.shift(1.5);
     c.draw();
     current_picture.output();
     endfig(1);
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF50.png"
alt="[Figure 50. Not displayed.]" 
/>
<br>
<br>
Fig. 50. 
<br>
</p>

   <p>The C++
 code for [the previous figure]
 starts with the command
<code>beginfig(1)</code> and ends with the command
<code>endfig(1)</code>. 
They simply write &ldquo;<code>beginfig(&lt;arg&gt;
)</code>&rdquo; and
&ldquo;<code>endfig()</code>&rdquo; to
<a name="index-out_005fstream-71"></a><code>out_stream</code>,
<a name="index-output-files-72"></a>The optional
<code>unsigned int</code> argument to <code>endfig()</code> is not written to
<code>out_stream</code>, it's merely
&ldquo;syntactic sugar&rdquo; for the user. 
<!-- !! TO DO:  Try to find the place in the @TeX{}book, where Knuth -->
<!-- explains what ``syntactic sugar'' is. -->

   <p>In MetaPost, the <code>endfig</code> command causes output and then clears
<code>currentpicture</code>.  This is not the case in 3DLDF, where
<code>Picture::output()</code> and <code>Picture::clear()</code> must
be invoked explicitly:

<pre class="example">     beginfig(1);
     Point p0;
     Point p1(1, 2, 3);
     p0.draw(p1);
     current_picture.output();
     endfig(1);
     
     beginfig(2);
     current_picture.clear();
     Circle C(origin, 3);
     C.fill();
     current_picture.output();
     endfig(2);
</pre>
   <p>In [next figure]
, two <code>Pictures</code> are used within a single figure.

<pre class="example">     beginfig(1);
     Picture my_picture;
     default_focus.set(0, 0, -10, 0, 0, 10, 10);
     Circle c(origin, 3, 90);
     c.draw(my_picture);
     my_picture.output();
     c.shift(1.5);
     c.fill(light_gray);
     current_picture.output();
     endfig(1);
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF51.png"
alt="[Figure 51. Not displayed.]" 
/>
<br>
<br>
Fig. 51. 
<br>
</p>

   <p>Multiple objects, or complex objects made up of sub-objects, can be
stored in a <code>Picture</code>, so that operations can be applied to them
as a group:

<pre class="example">     default_focus.set(7, 5, -10, 7, 5, 10, 10);
     Cuboid c0(origin, 5, 5, 5);
     c0.shift(0, 0, 3);
     c0.draw();
     Circle z0(c0.get_rectangle_center(0), 2.5, 90, 0, 0, 64);
     z0.draw();
     Circle z1(z0);
     z1.shift(0, 0, -1);
     z1.draw();
     int i;
     int j = z0.get_size();
     for (i = 0; i &lt; 8; ++i)
         z0.get_point(i * j/8).draw(z1.get_point(i * j/8));
     Cuboid c1(c0.get_rectangle_center(4), 5, 3, 3);
     c1.shift(0, 2.5);
     c1.draw();
     Rectangle r0 = *c1.get_rectangle_ptr(3);
     Point p[10];
     for (i = 0; i &lt; 4; ++i)
       p[i] = r0.get_point(i);
     p[4] = r0.get_mid_point(0);
     p[5] = r0.get_mid_point(2);
     p[6] = p[4].mediate(p[5], 2/3.0);
     Circle z2(p[6], 2, 90, 90, 0, 16);
     z2.draw();
     Circle z3 = z2;
     z3.shift(3);
     z3.draw();
     j = z2.get_size();
     for (i = 0; i &lt; 8; ++i)
         z2.get_point(i * j/8).draw(z3.get_point(i * j/8));
     p[7] = c0.get_rectangle_center(2);
     p[7].shift(-4);
     p[8] = c0.get_rectangle_center(3);
     p[8].shift(4);
     current_picture.output();
     current_picture.rotate(45, 45);
     current_picture.shift(10, 0, 3);
     current_picture.output();
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF52.png"
alt="[Figure 52. Not displayed.]" 
/>
<br>
<br>
Fig. 52. 
<br>
</p>

   <p>Let's say the complex object in [the previous figure]
 represents a
furnace.  From the point of view of 3DLDF, however, it's not an object
at all, and the drawing consists of a collection of unrelated
<code>Cuboids</code>, <code>Circles</code>, <code>Rectangles</code>, and <code>Paths</code>. 
If we hadn't put it into a <code>Picture</code>, we could still have rotated
and shifted it, but only by applying the operations to each of the
sub-objects individually.

   <p>One consequence of the way <code>Pictures</code> are output in 3DLDF is, that
the following code will not work:

<pre class="example">     beginfig(1);
     Point p(1, 2);
     Point q(1, 3);
     out_stream &lt;&lt; "pickup pencircle scaled .5mm;" &lt;&lt; endl;
     origin.draw(p);
     out_stream &lt;&lt; "pickup pensquare xscaled .3mm rotated 30;" &lt;&lt; endl;
     origin.draw(q);
     current_picture.output();
     endfig();
</pre>
   <p>This is the MetaPost code that results:

<pre class="example">     beginfig(1);
     pickup pencircle scaled .5mm;
     pickup pensquare xscaled .3mm rotated 30;
     draw (0.000000cm, -3.000000cm) -- (1.000000cm, -1.000000cm);
     draw (0.000000cm, -3.000000cm) -- (1.000000cm, 0.000000cm);
     endfig;
</pre>
   <p>It's perfectly legitimate to write
<a name="index-raw-MetaPost-code-73"></a>raw MetaPost code to <code>out_stream</code>, as in lines 4 and 6 of this
example.  However, the <code>draw()</code> commands do not cause any output to
<code>out_stream</code>.  The MetaPost drawing commands are written to
<code>out_stream</code> when <code>current_picture.output()</code> is called. 
Therefore, the <code>pickup</code> commands are &ldquo;bunched up&rdquo; before the
drawing commands. 
In this example,
setting <code>currentpen</code> to <code>pencircle scaled .5mm</code> has no effect,
because it is immediately reset to
<code>pensquare xscaled .3mm rotated 30</code> in the MetaPost code, before
the <code>draw</code> commands. 
It is not possible to change <code>currentpen</code> in this way within a
<code>Picture</code>. 
Since the <code>draw()</code> commands in the 3DLDF
code didn't specify a <var>pen</var> argument,
<code>currentpen</code> with its final value is used for both of the MetaPost
<code>draw</code> commands.  For any given invocation of
<code>Picture::output()</code>, there can only be one value of
<code>currentpen</code>.  All other pens must be passed as arguments to the
drawing commands.

<ul class="menu">
<li><a accesskey="1" href="#Projections">Projections</a>
<li><a accesskey="2" href="#Focuses-Getstart">Focuses Getstart</a>
<li><a accesskey="3" href="#Surface-Hiding">Surface Hiding</a>
</ul>

<div class="node">
<a name="Projections"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Focuses-Getstart">Focuses Getstart</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Pictures">Pictures</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Pictures">Pictures</a>

</div>

<h3 class="section">9.1 Projections</h3>

<p>In order for a 3D graphic program to be useful, it must be able to
make two-dimensional projections of its three-dimensional constructions
so that they
can be displayed on computer screens and printed out. 
These are some of the possible projections:

     <dl>
<dt>&bull; Parallel projection onto one of the major planes<dd>These projections are trivial, and can be performed by 3DLDF.  They are
discussed in the following section.

     <br><dt>&bull; Parallel projection onto another plane<dd><!-- !! TO DO: -->
I haven't programmed these projections yet, but they might be useful, so
I probably will, when I get around to it.

     <br><dt>&bull; The perspective projection<dd>This is the projection most people think of, when they think of
3D-graphics.  It is discussed in
detail in <a href="#The-Perspective-Projection">The Perspective Projection</a>.

     <br><dt>&bull; The isometric and axonometric projections<dd><!-- !! TO DO: -->
<a name="index-TO-DO-74"></a>These projections are important for engineering and drafting.  I have
not yet implemented them in 3DLDF, but they are on my list of &ldquo;Things
To Do&rdquo;. 
<!-- !! Get reference, Bttcher and ?? @cite{Technisches Zeichnen}. -->
</dl>

   <p>The function <code>Picture::output()</code> takes a <code>const unsigned
short</code> argument specifying the projection to be used.  The user should
probably avoid using explicit <code>unsigned shorts</code>, but should use the
constants defined for this purpose in the
<dfn>namespace</dfn> <code>Projections</code>.<a rel="footnote" href="#fn-19" name="fnd-19"><sup>19</sup></a>
The constants are <code>PERSP</code>, <code>PARALLEL_X_Y</code>,
<code>PARALLEL_X_Z</code>,
<code>PARALLEL_Z_Y</code>, <code>AXON</code>, and <code>ISO</code>.  The latter two should
not be used, because the axonometric and isometric projections have not
yet been implemented.

<ul class="menu">
<li><a accesskey="1" href="#Parallel-Projections">Parallel Projections</a>
<li><a accesskey="2" href="#The-Perspective-Projection">The Perspective Projection</a>
</ul>

<div class="node">
<a name="Parallel-Projections"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#The-Perspective-Projection">The Perspective Projection</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Projections">Projections</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Projections">Projections</a>

</div>

<h4 class="subsection">9.1.1 Parallel Projections</h4>

<p>When a <code>Picture</code> is projected onto the x-y plane, the
x and y-values from the <code>world_coordinates</code> of the <code>Points</code>
belonging to the objects on the
<code>Picture</code> are copied to
their <code>projective_coordinates</code>, which are
used in the MetaPost code written to <code>out_stream</code>. 
If a <code>Picture</code> <var>p</var> contains an object in the x-y plane,
or in a plane parallel to the x-y plane, then
the result of <var>p</var><code>.output(Projections::PARALLEL_X_Y)</code> is more-or-less
equivalent to just using MetaPost without 3DLDF.

<pre class="example">     Rectangle r(origin, 3, 3, 90);
     Circle c(origin, 3, 90);
     c *= r.shift(0, 0, 5);
     r.draw();
     c.draw();
     current_picture.output(Projections::PARALLEL_X_Y);
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF53.png"
alt="[Figure 53. Not displayed.]" 
/>
<br>
<br>
Fig. 53. 
<br>
</p>

   <p>If the objects do not lie in the x-y plane, or a plane parallel to the
x-y plane, then the projection will be distorted:

<pre class="example">     current_picture.output(Projections::PARALLEL_X_Y);
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF54.png"
alt="[Figure 54. Not displayed.]" 
/>
<br>
<br>
Fig. 54. 
<br>
</p>

   <p><code>Picture::output()</code> can be called with an additional <code>real</code>
argument <var>factor</var> for magnifying or shrinking the <code>Picture</code>.

<!-- !! TO DO:  Try using the code above and removing here.  Change -->
<!-- factor, if necessary.  LDF 2003.08.15. -->
<pre class="example">     Rectangle r(origin, 4, 4, 90, 60);
     Circle c(origin, 4, 90, 60);
     c *= r.shift(0, 0, 5);
     r.filldraw(black, gray);
     c.unfilldraw(black);
     current_picture.output(Projections::PARALLEL_X_Y, .5);
     current_picture.shift(2.5);
     current_picture.output(Projections::PARALLEL_X_Y);
     current_picture.shift(1);
     current_picture.output(Projections::PARALLEL_X_Y, 2);
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF55.png"
alt="[Figure 55. Not displayed.]" 
/>
<br>
<br>
Fig. 55. 
<br>
</p>

   <p>Parallel projection onto the x-z and z-y planes are completely analogous
to parallel projection onto the x-y plane.

<div class="node">
<a name="The-Perspective-Projection"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Parallel-Projections">Parallel Projections</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Projections">Projections</a>

</div>

<h4 class="subsection">9.1.2 The Perspective Projection</h4>

<p>The perspective projection obeys the laws of
<dfn>linear perspective</dfn>. 
In 3DLDF, it is performed by means of a
transformation, whose effect is, to the
best of my knowledge,
exactly equivalent to the result of a perspective projection done by
hand using vanishing points and rulers.

   <p>It is very helpful to the artist to understand the laws of linear
perspective, and to know how to make a perspective drawing by hand.<a rel="footnote" href="#fn-20" name="fnd-20"><sup>20</sup></a>
However, it is a very tedious and error-prone procedure (I know, I've
done it).  One of my main motivations for writing 3DLDF was so I
wouldn't have to do it anymore.

<!-- !! TO DO:  Mention somewhere, that the ground plane isn't important, -->
<!-- and that more could be said on the subject.  For example, what -->
<!-- happens when the line of sight is not parallel to the ground plane, -->
<!-- and how this is important when using rulers, but not when using -->
<!-- transformations.  LDF 2003.08.15. -->
   <p>[next figure]
 shows a perspective construction, the way it
could be done by hand. 
The point of view, or <dfn>focus</dfn> is located 6cm from
the picture plane, and 4cm above the ground (or x-z) plane at the point
(0, 4, -6). 
The rectangle R lies in the ground  plane, with the point r_0 at
(2, 0, 1.5).  The right side of R, with length = 2<span class="dmn">cm</span>
lies at an angle
of 40 to the ground line, which corresponds to the intersection line
of the ground plane with the picture plane, and the left side, with
length = 5<span class="dmn">cm</span>, at an angle of
90 degrees - 40 degrees = 50 degrees
to the ground line.

<!-- !! NOTE:  I haven't been able to get the colons lined up the way I'd -->
<!-- like for the explanations of the abbreviations.  LDF 2003.08.15. -->
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF56.png"
alt="[Figure 56. Not displayed.]" 
/>
<br>
<br>
Fig. 56. 
<br>
</p>

   <p>While it's possible to use 3DLDF to make a perspective construction
in the traditional way, as [the previous figure]
 shows, the code for [next figure]

   <p>achieves the same result more efficiently:

<pre class="example">     default_focus.set(0, 4, -6, 0, 4, 6, 6);
     Rectangle r(origin, 2, 5, 0, 40);
     Point p(2, 0, 1.5);
     r.shift(p - r.get_point(0));
     r.draw();
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF57.png"
alt="[Figure 57. Not displayed.]" 
/>
<br>
<br>
Fig. 57. 
<br>
</p>

   <p>In [the second-to-last figure]
, it was
convenient to start with the corner point r_0;
if we needed the center of  R, it would have to be found from the
corner points. 
However, in 3DLDF, <code>Rectangles</code> are most often constructed about
the center.  Therefore, in [next figure]
, R is first
constructed about the origin, with the
rotation about the y-axis passed as an argument to the constructor. 
It is then shifted such that <code>*(</code><var>R</var><code>.points[0])</code>, the first
(or zeroth, if you will) <code>Point</code> on R comes to lie at
(2, 0, 1.5).

   <p>Unlike the other transformations currently
used in 3DLDF, the perspective transformation is non-affine.  Affine
transformations maintain parallelity of lines, while the rules of
perspective state that parallel lines, with one exception, appear to
recede toward a
<!-- !! I believe what I've put in the following footnote is correct, but -->
<!-- maybe it's not.  I've had to try to figure it out myself;  I don't -->
<!-- remember ever seeing this spelled out before. -->
<dfn>vanishing point</dfn>.<a rel="footnote" href="#fn-21" name="fnd-21"><sup>21</sup></a>

   <p>In [the second-to-last figure]
, the lines
from r_0 to r_1 and from r_3 to r_2
appear to vanish
toward the right-hand 40 degrees
 vanishing point, while
the lines from r_0 to r_3 and from r_1 to r_2
appear to vanish
toward the left-hand 50 degrees
 vanishing point. 
The lower the angle of a
vanishing point, the further away it is from the center of vision, as
[next figure]
 shows:

   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF58.png"
alt="[Figure 58. Not displayed.]" 
/>
<br>
<br>
Fig. 58. 
<br>
</p>

   <p>In [the previous figure]
, the 0.5 degrees
 vanishing point is nearly
5 and 3/4
meters away from the CV, and a
line receding to it will be very
nearly horizontal.  However, the distance from the focus to the CV is
only 5<span class="dmn">cm</span>.  As this distance increases, the distance from the
CV to a given vanishing point increases proportionately. 
If the distance is 30<span class="dmn">cm</span>, a more reasonable value
for a drawing, then the x-coordinate of VP 10 degrees
 is 170.138<span class="dmn">cm</span>, that
of VP 5 degrees
 is 342.902<span class="dmn">cm</span>, and that of VP 0.5 degrees
 is 3437.66<span class="dmn">cm</span>! 
This is the reason
why perspective drawings done by hand rarely contain lines receding to
the horizon at low angles.

   <p>This problem doesn't arise when the perspective transformation is
used.  In this case, any angle can be calculated as easily as any other:

<pre class="example">     default_focus.set(0, 4, -6, 0, 4, 6, 6);
     Rectangle r;
     Point center(0, 2);
     r.set(center, 2, 5, 0, 0, 0.5);
     r.draw();
     
     r.set(center, 2, 5, 0, 0, 2.5);
     r.draw();
     
     r.set(center, 2, 5, 0, 0, 5);
     r.draw();
     current_picture.output();
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF59.png"
alt="[Figure 59. Not displayed.]" 
/>
<br>
<br>
Fig. 59. 
<br>
</p>

<div class="node">
<a name="Focuses-Getstart"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Surface-Hiding">Surface Hiding</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Projections">Projections</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Pictures">Pictures</a>

</div>

<h3 class="section">9.2 Focuses</h3>

<p><a name="index-focus-75"></a>The perspective transformation requires a focus;  as a consequence,
outputting a <code>Picture</code> requires an object of class
<code>Focus</code>. 
<code>Picture::output()</code> takes an optional pointer-to-<code>Focus</code>
argument, which is 0 by default.  If the default is used, (or 0 is
passed explicitly), the global variable <code>default_focus</code> is used. 
See <a href="#Focus-Global-Variables">Focus Reference; Global Variables</a>.

   <p>A <code>Focus</code> can be thought of as the observer of a scene, or a
camera.  It contains a <code>Point position</code> for its location with
respect to 3DLDF's coordinate system, and a <code>Point direction</code>,
specifying the direction where the observer is looking, or where the
camera is pointed.  The <code>Focus</code> can be rotated freely about the
line
PD,
where P stands for <code>position</code> and
D
for <code>direction</code>,
so a <code>Focus</code> contains a third <code>Point up</code>, to indicate which
direction will be &ldquo;up&rdquo; on the projection, when a <code>Picture</code> is
projected.

   <p>The projection plane q
will always be perpendicular to
the line PD,
or to put it another way,
the line PD,
is normal to q.

   <p>Unlike the traditional perspective construction, where the distance from
the focus to the center of vision fixes both the location of the focus
in space, and its distance to the
picture plane,<a rel="footnote" href="#fn-22" name="fnd-22"><sup>22</sup></a>
these two parameters can be set independently when the perspective
transformation is used. 
The distance from a <code>Focus</code> to the picture plane is stored in the
data member <code>distance</code>, of type <code>real</code>.

   <p>A <code>Focus</code> can be declared using two <code>Point</code> arguments for
<code>position</code> and <code>direction</code>, and a <code>real</code> argument for
<code>distance</code>, in that order.

<pre class="example">     Point pos(0, 5, -10);
     Point dir(0, 5, 10);
     Focus f(pos, dir, 10);
     
     Point center(2, 0, 3);
     Rectangle r(center, 3, 3);
     r.draw();
     current_picture.output(f);
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF60.png"
alt="[Figure 60. Not displayed.]" 
/>
<br>
<br>
Fig. 60. 
<br>
</p>

   <p>The &ldquo;up&rdquo; direction is calculated by the <code>Focus</code> constructor
automatically.  An optional argument can be used to specify the angle by
which to rotate the <code>Focus</code> about
the line PD.

<pre class="example">     Point pos(0, 5, -10);
     Point dir(0, 5, 10);
     Focus f(pos, dir, 10, 30);
     Point center(2, 0, 3);
     Rectangle r(center, 3, 3);
     r.draw();
     current_picture.output(f);
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF61.png"
alt="[Figure 61. Not displayed.]" 
/>
<br>
<br>
Fig. 61. 
<br>
</p>

   <p>Alternatively, a <code>Focus</code> can be declared using three <code>real</code>
arguments each for the x, y, and z-coordinates of <code>position</code> and
<code>direction</code>, respectively, followed by the <code>real</code> arguments
for <code>distance</code> and the angle of rotation:

<pre class="example">     Focus f(3, 5, -5, 0, 3, 0, 10, 10);
     Point center(2, 0, 3);
     Rectangle r(center, 3, 3);
     r.draw();
     current_picture.output(f);
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF62.png"
alt="[Figure 62. Not displayed.]" 
/>
<br>
<br>
Fig. 62. 
<br>
</p>

   <p><code>Focuses</code> contain two <code>Transforms</code>, <code>transform</code> and <code>persp</code>. 
A <code>Focus</code> can be located anywhere in 3DLDF's coordinate system. 
However, performing the perspective projection is more convenient, if
<code>position</code> and <code>direction</code> both lie on one of the major axes,
and the plane of projection corresponds to one of the major planes. 
<code>transform</code> is the transformation which would have this affect on
the <code>Focus</code>, and is calculated by the <code>Focus</code> constructor. 
When a <code>Picture</code> is output using that <code>Focus</code>,
<code>transform</code> is applied to all of the <code>Shapes</code> on the
<code>Picture</code>, maintaining the relationship between the <code>Focus</code>
and the <code>Shapes</code>, while making it easier to calculate the
projection.  The <code>Focus</code> need never be
transformed by <code>transform</code>. 
The actual perspective transformation is stored
in <code>persp</code>.

   <p><code>Focuses</code> can be moved by using one of the setting functions, which
take the same arguments as the constructors. 
<!-- !! TO DO: -->
Currently, there are no affine transformation functions for moving
<code>Focuses</code>, but I plan to add them soon.  If 3DLDF is used for
making
<a name="index-animation-76"></a>animation, resetting the <code>Focus</code> can be used to simulate camera
movements:

<pre class="example">     beginfig(1);
     Point pos(2, 10, 3);
     Point dir(2, -10, 3);
     Focus f;
     Point center(2, 0, 3);
     for (int i = 0; i &lt; 5; ++i)
       {
         f.set(pos, dir, 10, (15 * i));
         Rectangle r(center, 3, 3);
         r.draw();
         current_picture.output(f);
         current_picture.clear();
         pos.shift(1, 1, 0);
         dir.rotate(0, 0, 10);
       }
     endfig(1);
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF63.png"
alt="[Figure 63. Not displayed.]" 
/>
<br>
<br>
Fig. 63. 
<br>
</p>

   <p>In [the previous figure]
, <code>current_picture</code> is output 5 times within a single
MetaPost figure.  Since the file passed to MetaPost is called
<samp><span class="file">persp.mp</span></samp>, the file of Encapsulated PostScript (EPS) code
containing [the previous figure]
 is called <samp><span class="file">persp.1</span></samp>. 
<a name="index-animation-77"></a>To use this technique for making an animation, it's necessary to output
the <code>Picture</code> into multiple MetaPost figures.

<pre class="example">     Point pos(2, 10, 3);
     Point dir(2, -10, 3);
     Focus f;
     Point center(2, 0, 3);
     for (int i = 0; i &lt; 5; ++i)
       {
         f.set(pos, dir, 10, (15 * i));
         Rectangle r(center, 3, 3);
         r.draw();
         beginfig(i+1);
         current_picture.output(f);
         endfig();
         current_picture.clear();
         pos.shift(1, 1, 0);
         dir.rotate(0, 0, 10);
       }
</pre>
   <p>Now, running MetaPost on <samp><span class="file">persp.mp</span></samp> generates the EPS files
<samp><span class="file">persp.1</span></samp>, <samp><span class="file">persp.2</span></samp>, <samp><span class="file">persp.3</span></samp>, <samp><span class="file">persp.4</span></samp>, and
<samp><span class="file">persp.5</span></samp>, containing the five separate drawings of <var>r</var>. 
<!-- !! TO DO:  Add a node ``Animation''.  When I've done so, put a cross -->
<!-- reference here.  LDF 2003.08.15. -->

<div class="node">
<a name="Surface-Hiding"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Focuses-Getstart">Focuses Getstart</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Pictures">Pictures</a>

</div>

<h3 class="section">9.3 Surface Hiding</h3>

<!-- !! TO DO:  Write about z-buffers, and how scan converting is needed -->
<!-- to use them.  Also, show how to do surface hiding of the two -->
<!-- rectangles by hand! -->
<p>In [next figure]
, <code>Circle</code> <var>c</var> lies in front of <code>Rectangle</code>
<var>r</var>. 
Since <var>c</var> is drawn and not filled, <var>r</var> is visible behind
<var>c</var>.

<pre class="example">     default_focus.set(1, 3, -5, 0, 3, 5, 10);
     Point p(0, -2, 5);
     Rectangle r(p, 3, 4, 90);
     r.draw();
     Point q(2, -2, 3);
     Circle c(q, 3, 90);
     c.draw();
     current_picture.output();
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF64.png"
alt="[Figure 64. Not displayed.]" 
/>
<br>
<br>
Fig. 64. 
<br>
</p>

   <p>If instead, <var>c</var> is filled or filldrawn, only the parts of <var>r</var> that are not
covered by <var>c</var> should be visible:

<pre class="example">     r.draw();
     c.filldraw();
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF65.png"
alt="[Figure 65. Not displayed.]" 
/>
<br>
<br>
Fig. 65. 
<br>
</p>

   <p>What parts of <code>r</code> are covered depend on the point of view, i.e.,
the position and direction of the <code>Focus</code> used for outputting the
<code>Picture</code>:

<pre class="example">     default_focus.set(8, 0, -5, 5, 3, 5, 10);
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF66.png"
alt="[Figure 66. Not displayed.]" 
/>
<br>
<br>
Fig. 66. 
<br>
</p>

   <p><a name="index-surface-hiding-78"></a><a name="index-hidden-surface-algorithm-79"></a>Determining what objects cover other objects in a program for 3D
graphics is called
<dfn>surface hiding</dfn>,
and is performed by a
<dfn>hidden surface algorithm</dfn>.  3DLDF currently has a very primitive
hidden surface algorithm that only works for the most simple cases.

   <p><a name="index-painter_0027s-algorithm-80"></a>The hidden surface algorithm used in 3DLDF is a
<dfn>painter's algorithm</dfn>, which means that the objects that are
furthest away from the <code>Focus</code> are drawn first, followed by the
objects that are closer, which may thereby cover them.  In order to make
this possible, the <code>Shapes</code> on a <code>Picture</code> must be sorted
before they are output.  They are sorted according to the z-values in
the <code>projective_coordinates</code> of the <code>Points</code> belonging to the
<code>Shape</code>.  This may seem strange, since the
projection is two-dimensional and only the x and y-values from
<code>projective_coordinates</code> are written to <code>out_stream</code>. 
However, the perspective transformation also produces a z-coordinate,
which indicates the distance of the <code>Points</code> from the <code>Focus</code>
in the z-dimension.

   <p>The problem is, that all <code>Shapes</code>, except <code>Points</code> themselves,
consist of multiple <code>Points</code>, that may have different
z-coordinates.  3DLDF currently does not yet have a satisfactory way of
dealing with this situtation.  In order to try to cope with it, the user
can specify four different ways of sorting the <code>Shapes</code>:  They
can be sorted according to the maximum z-coordinate, the
minimum z-coordinate, the mean of the maximum and minimum z-coordinate
(max + min) / 2,
and not sorted. 
In the last case, the <code>Shapes</code> are output in the order of the
drawing and filling commands in the user code. 
The z-coordinates referred to are those in
<code>projective_coordinates</code>, and will have been calculated for a
particular <code>Focus</code>.

   <p>The function <code>Picture::output()</code> takes a
<code>const unsigned short</code> <var>sort_value</var> argument that specifies
which style of sorting
should be used.  The namespace <code>Sorting</code> contains the following
constants which should be used for <var>sort_value</var>: <code>MAX_Z</code>,
<code>MIN_Z</code>, <code>MEAN_Z</code>, and <code>NO_SORT</code>.  The default is
<code>MAX_Z</code>.

   <p>3DLDF's primitive hidden surface algorithm <em>cannot</em> work for
objects that intersect.  The following examples demonstrate why not:

<pre class="example">     using namespace Sorting;
     using namespace Colors;
     using namespace Projections;
     default_focus.set(5, 3, -10, 3, 1, 1, 10, 180);
     Rectangle r0(origin, 3, 4, 45);
     Rectangle r1(origin, 2, 6, -45);
     r0.draw();
     r1.draw();
     current_picture.output(default_focus, PERSP, 1, MAX_Z);
     r0.show("r0:");
     -| r0:
     fill_draw_value == 0
     (-1.5, -1.41421, -1.41421) -- (1.5, -1.41421, -1.41421) --
     (1.5, 1.41421, 1.41421) -- (-1.5, 1.41421, 1.41421)
     -- cycle;
     
     r0.show("r0:", 'p');
     -| r0:
     fill_draw_value == 0
     Perspective coordinates.
     (-5.05646, -4.59333, -0.040577) -- (-2.10249, -4.86501, -0.102123) --
     (-1.18226, -1.33752, 0.156559) -- (-3.51276, -1.2796, 0.193084)
     -- cycle;
     
     r1.show("r1:");
     -| r1:
     fill_draw_value == 0
     (-1, 2.12132, -2.12132) -- (1, 2.12132, -2.12132) --
     (1, -2.12132, 2.12132) -- (-1, -2.12132, 2.12132)
     -- cycle;
     
     r1.show("r1:", 'p');
     -| r1:
     fill_draw_value == 0
     Perspective coordinates.
     (-5.09222, -0.995681, -0.133156) -- (-2.98342, -1.03775, -0.181037) --
     (-1.39791, -4.05125, 0.208945) -- (-2.87319, -3.93975, 0.230717)
     -- cycle;
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF67.png"
alt="[Figure 67. Not displayed.]" 
/>
<br>
<br>
Fig. 67. 
<br>
</p>

   <p>In [the previous figure]
, the <code>Rectangles</code> r_0 and r_1 intersect along the
x-axis.  The z-values of the <code>world_coordinates</code> of r_0 are
-1.41421 and 1.41421 (two <code>Points</code> each), while those of r_1
are 2.12132 and  -2.12132.  So r_1 has two <code>Points</code> with
z-coordinates greater than the z-coordinate of any <code>Point</code>
on r_0, and two <code>Points</code> with z-coordinates less than the
z-coordinate of any <code>Point</code> on r_0.  The
<code>Points</code> on r_0 and r_1 all have different z-values in
their <code>projective_coordinates</code>, but r_1 still has a <code>Point</code>
with a z-coordinate greater than that of any of the <code>Points</code> on
r_0, and one with a z-coordinate less than that of any of the
<code>Points</code> on r_0.

   <p>In [next figure]
, the <code>Shapes</code> on <code>current_picture</code> are sorted
according to the maximum z-values of the <code>projective_coordinates</code>
of the <code>Points</code> belonging to the <code>Shapes</code>.  r_1 is
filled and drawn first,
because it has the <code>Point</code> with the positive z-coordinate of
greatest magnitude. 
When subsequently r_0 is drawn, it covers part of the top of
r_1, which lies in front of r_0, and should be visible:

<pre class="example">     current_picture.output(default_focus, PERSP, 1, MAX_Z);
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF68.png"
alt="[Figure 68. Not displayed.]" 
/>
<br>
<br>
Fig. 68. 
<br>
</p>

   <p>In [next figure]
, the <code>Shapes</code> on <code>current_picture</code> are sorted
according to the minimum z-values of the <code>projective_coordinates</code>
of the <code>Points</code> belonging to the <code>Shapes</code>.  <code>r1</code> is drawn
and filled last, because
it has the <code>Point</code> with the negative z-coordinate of greatest
magnitude. 
It thereby covers the bottom part of
<code>r0</code>, which lies in front of <code>r1</code>, and should be visible.

<pre class="example">     current_picture.output(default_focus, PERSP, 1, MIN_Z);
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF69.png"
alt="[Figure 69. Not displayed.]" 
/>
<br>
<br>
Fig. 69. 
<br>
</p>

   <p>Neither sorting by the mean z-value in the
<code>projective_coordinates</code>, nor suppressing sorting does any good. 
In each case, one <code>Rectangle</code> is always drawn and filled last,
covering parts of the other that lie in front of the first.

   <p>3DLDF's hidden surface algorithm will fail wherever objects intersect,
not just where one extends past the other in both the positive and
negative z-directions.

<pre class="example">     Rectangle r(origin, 3, 4, 45);
     Circle c(origin, 2, -45);
     r.filldraw();
     c.filldraw(black, gray);
     current_picture.output(default_focus, PERSP, 1, NO_SORT);
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF70.png"
alt="[Figure 70. Not displayed.]" 
/>
<br>
<br>
Fig. 70. 
<br>
</p>

   <p>Even where objects don't intersect, their projections may.  In order to
handle these cases properly, it is necessary to break up the
<code>Shapes</code> on a <code>Picture</code> into smaller <code>Shapes</code>, until
there are none that intersect or whose projections intersect.  Then, any
of the three methods of sorting described above can be used to sort the
<code>Shapes</code>, and they can be output.

   <p>Before this can be done, 3DLDF must be able to find the intersections of
all of the different kinds of <code>Shapes</code>.  If 3DLDF converted solids
to polyhedra and curves to sequences of line segments, this would reduce
to the problem of finding the intersections of lines and planes, however
it does not yet do this.

   <p>Even if it did, a fully functional hidden surface algorithm must compare
each <code>Shape</code> on a <code>Picture</code> with every other <code>Shape</code>. 
Therefore, for n <code>Shapes</code>, there will be
n! / ((n - r)! r!) 
(possibly time-consuming) comparisons.

   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF71.png"
alt="[Figure 71. Not displayed.]" 
/>
<br>
<br>
Fig. 71. 
<br>
</p>

<!-- I've put this here, so that it doesn't interfere with the Emacs-Lisp -->
<!-- routine I'm using to insert the figure numbers for HTML and Info -->
<!-- output.  LDF 2003.12.16. -->
   <p>Clearly, such a hidden surface
algorithm would considerably increase run-time.

   <p>Currently, all of the <code>Shapes</code> on a <code>Picture</code> are output, as
long as they lie completely within the boundaries passed as arguments to
<code>Picture::output()</code>. 
See <a href="#Outputting-Pictures">Pictures; Outputting</a>.  It
would be more efficient to suppress output for them, if they are
completely covered by other objects.  This also requires comparisions,
and could be implemented together with a fully-functional hidden surface
algorithm.

   <p>Shadows, reflections, highlights and shading are all effects requiring
comparing each <code>Shape</code> with every other <code>Shape</code>, and could
greatly increase run-time.

<!-- intersct.texi -->
<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
<div class="node">
<a name="Intersections"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Installing-and-Running-3DLDF">Installing and Running 3DLDF</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Pictures">Pictures</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">10 Intersections</h2>

<p><a name="index-intersection-81"></a><a name="index-intersection-points-82"></a><a name="index-Path-intersections-83"></a><a name="index-output-file-84"></a><a name="index-arbitrary-Path-85"></a>There are no functions for finding the intersection points of two (or
more) arbitrary <code>Paths</code>.  This is impossible, so long as 3DLDF
outputs MetaPost code. 
3DLDF only &ldquo;knows&rdquo; about the <code>Points</code> on a
<code>Path</code>;  it doesn't actually generate the curve or other figure
that passes through the <code>Points</code>, and consequently doesn't &ldquo;know&rdquo;
how it does this.

   <p><a name="index-arbitrary-Path-86"></a><a name="index-intersection-87"></a><a name="index-intersection-points-88"></a><a name="index-Path-intersections-89"></a><a name="index-connectors-90"></a><a name="index-Path-connectors-91"></a>In addition, an arbitrary <code>Path</code> can contain connectors. 
In 3DLDF, the connectors are
merely <code>strings</code> and are written verbatim to the output file,
however, in MetaPost they influence the form of a <code>Path</code>.

   <p><a name="index-non_002darbitrary-Path-92"></a><a name="index-intersection-93"></a><a name="index-intersection-points-94"></a><a name="index-Path-intersections-95"></a>3DLDF can, however, find the intersection points of some
<em>non-arbitrary</em> <code>Paths</code>.  So far, it can find the intersection
point of the following combinations of <code>Paths</code>:

   <p><a name="index-Point_003a_003aintersection_005fpoints-96"></a>
     <ol type=1 start=1>
<li>Two linear <code>Paths</code>, i.e., <code>Paths</code>
for which <code>Path::is_linear()</code> returns <code>true</code>
(see <a href="#Querying-Paths">Path Reference; Querying</a>). 
In addition, the <code>static Point</code> member function
<code>Point::intersection_points()</code> can be called with four <code>Point</code>
arguments.  The first and second arguments are treated as the end points
of one line, and the third and fourth arguments as the end points of the
other.

     <li>A line and a <code>Polygon</code>.  Currently, <code>Reg_Polygon</code> and
<code>Rectangle</code> are the only classes derived from <code>Polygon</code>.

     <li>Two <code>Polygons</code>.

     <li>A line and a Regular Closed Plane Curve (<code>Reg_Cl_Plane_Curve</code>,
see <a href="#Regular-Closed-Plane-Curve-Intersections">Regular Closed Plane Curve Reference; Intersections</a>).  Currently,
<code>Ellipse</code> and <code>Circle</code> are the only classes derived from
<code>Reg_Cl_Plane_Curve</code>.

     <li>Two <code>Ellipses</code>.  Since a <code>Circle</code> is also an <code>Ellipse</code>,
one or both of the <code>Ellipses</code> may be a <code>Circle</code>. 
See <a href="#Ellipse-Intersections">Ellipse Reference; Intersections</a>.
        </ol>

   <p>Adding more functions for finding the intersections of various geometric
figures is one of my main priorities with respect to extending 3DLDF.

   <p>There are currently no special
functions for finding the intersection points
of a line and a <code>Circle</code> or two <code>Circles</code>.  Since the
<code>class Circle</code> is derived from <code>class Ellipse</code>,
<code>Circle::intersection_points()</code> resolves to
<code>Ellipse::intersection_points()</code>, which, in turn, calls
<code>Reg_Cl_Plane_Curve::intersection_points()</code>. 
This does the trick, but it's much easier to find the intersections for
<code>Circles</code> that it is for <code>Ellipses</code>.  In particular, the
intersections of two coplanar <code>Circles</code> can be found
algebraically, whereas I've had to implement a numerical solution for
the case of two coplanar <code>Ellipses</code> with different centers and/or
axis orientation.  It may also be worthwhile to write
a specialization for
finding the intersection points of a <code>Circle</code> and an
<code>Ellipse</code>.

   <p><a name="index-intersection-theory-97"></a><a name="index-theory-of-intersection-98"></a><a name="index-future-plans-99"></a><a name="index-contributing-to-3DLDF-100"></a>The theory of intersections is a fascinating and non-trivial branch of
mathematics.<a rel="footnote" href="#fn-23" name="fnd-23"><sup>23</sup></a>
As I learn more about it, I plan to define more
<code>classes</code> to represent various curves (two-dimensional ones to
start with) and functions for finding their intersection points.

<!-- instlrun.texi -->
<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
<div class="node">
<a name="Installing-and-Running-3DLDF"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Typedefs-and-Utility-Structures">Typedefs and Utility Structures</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Intersections">Intersections</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">11 Installing and Running 3DLDF</h2>

<ul class="menu">
<li><a accesskey="1" href="#Installing-3DLDF">Installing 3DLDF</a>
<li><a accesskey="2" href="#Running-3DLDF">Running 3DLDF</a>
</ul>

<div class="node">
<a name="Installing-3DLDF"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Running-3DLDF">Running 3DLDF</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Installing-and-Running-3DLDF">Installing and Running 3DLDF</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Installing-and-Running-3DLDF">Installing and Running 3DLDF</a>

</div>

<h3 class="section">11.1 Installing 3DLDF</h3>

<p>3DLDF is available for downloading from
<a href="http://ftp.gnu.org/gnu/3dldf">http://ftp.gnu.org/gnu/3dldf</a>. 
The official 3DLDF website is
<a href="http://www.gnu.org/software/3dldf">http://www.gnu.org/software/3dldf</a>. 
The &ldquo;tarball&rdquo;, i.e., the compressed archive file
<samp><span class="file">3DLDF-1.1.5.1.tar.gz</span></samp> unpacks into a directory called
<samp><span class="file">/3DLDF-1.1.5.1/</span></samp>.

   <p>On a typical Unix-like system, entering the following commands
at the command line in a shell will unpack the 3DLDF distribution. 
Please note that the form of the commands may differ on your system.

<pre class="example">     gunzip 3DLDF-1.1.5.1.tar.gz
     tar xpvf 3DLDF-1.1.5.1.tar
</pre>
   <p>The &lsquo;<samp><span class="samp">p</span></samp>&rsquo; option to <samp><span class="command">tar</span></samp> ensures that the files will have
the same permissions as when they were packed.

   <p>The directory <samp><span class="file">3DLDF-1.1.5.1/</span></samp> contains a
<samp><span class="command">configure</span></samp> script, which should
be called from the command line in the shell, using the absolute path of
<samp><span class="file">3DLDF-1.1.5.1/</span></samp> as the prefix argument.  For example, if
the path is <samp><span class="file">/usr/local/mydir/3DLDF-1.1.5.1/</span></samp>,
<samp><span class="command">configure</span></samp> should be invoked as follows:

<pre class="example">     cd 3DLDF-1.1.5.1
     configure --prefix=/usr/local/mydir/3DLDF-1.1.5.1/
</pre>
   <p><samp><span class="command">configure</span></samp> generates a <samp><span class="file">Makefile</span></samp>
from the <samp><span class="file">Makefile.in</span></samp> in <samp><span class="file">3DLDF-1.1.5.1/</span></samp>, and
in each of the subdirectories <samp><span class="file">3DLDF-1.1.5.1/CWEB</span></samp>,
<samp><span class="file">3DLDF-1.1.5.1/DOC</span></samp>,
and <samp><span class="file">3DLDF-1.1.5.1/DOC/TEXINFO</span></samp>. 
Now, <samp><span class="command">make install</span></samp> causes the 3DLDF to be built. 
The executable is called <samp><span class="file">3dldf</span></samp>.

   <p>See the files <samp><span class="file">README</span></samp> and <samp><span class="file">INSTALL</span></samp> in the 3DLDF distribution
for more information.

<ul class="menu">
<li><a accesskey="1" href="#Template-Functions">Template Functions</a>
</ul>

<div class="node">
<a name="Template-Functions"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Installing-3DLDF">Installing 3DLDF</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Installing-3DLDF">Installing 3DLDF</a>

</div>

<h4 class="subsection">11.1.1 Template Functions</h4>

<p><a name="index-templates-101"></a><a name="index-template-functions-102"></a><a name="index-function-templates-103"></a>3DLDF 1.1.5 is the first release that contains <dfn>template functions</dfn>,
namely
<code>template &lt;class C&gt; C* create_new()</code>, which is defined in
<samp><span class="file">creatnew.web</span></samp>, and
<code>template &lt;class Real&gt; Real get_second_largest()</code>, which is defined
in <code>gsltmplt.web</code>. 
See <a href="#Dynamic-Allocation-of-Shapes">Dynamic Allocation of Shapes</a>, and
<a href="#Get-Second-Largest-Real">Get Second Largest Real</a>.

   <p>In order for template functions to be instantiated correctly, their
<em>definitions</em> must be available in each compilation unit where
specializations are declared or used.  For non-template functions, it
suffices for their <em>declarations</em> to be available, and their
definitions are found at link-time.  For this reason, the
definitions of <code>create_new()</code> and <code>get_second_largest()</code> are
in their own CWEB files, and are written to their own header files.  The
latter are included in the other CWEB files that need them.

   <p>In addition, &lsquo;<samp><span class="samp">AM_CXXFLAGS = -frepo</span></samp>&rsquo; has been added to the file
<samp><span class="file">Makefile.am</span></samp> in <samp><span class="file">3DLDF-1.1.5/CWEB/</span></samp>, so that the C++

   <p>compiler is called using the &lsquo;<samp><span class="samp">-frepo</span></samp>&rsquo; option. 
The manual <cite>Using and Porting the GNU Compiler
Collection</cite> explains this as follows:

   <blockquote>
&ldquo;Compile your template-using code with &lsquo;<samp><span class="samp">-frepo</span></samp>&rsquo;. The compiler will
generate files with the extension <samp><span class="file">.rpo</span></samp> listing all of the template
instantiations used in the corresponding object files which could be
instantiated there; the link wrapper, &lsquo;<samp><span class="samp">collect2</span></samp>&rsquo;, will then update the
<samp><span class="file">.rpo</span></samp> files to tell the compiler where to place those instantiations and
rebuild any affected object files. The link-time overhead is negligible
after the first pass, as the compiler will continue to place the
instantiations in the same files.&rdquo;<a rel="footnote" href="#fn-24" name="fnd-24"><sup>24</sup></a>
</blockquote>

   <p>The first time the executable <samp><span class="file">3dldf</span></samp> is built, the files that use
the template functions are recompiled one or more times, and the linker
is also called several times.  This doesn't happen anymore, once the
<samp><span class="file">.rpo</span></samp> files exist.

   <p>Template instantiation differs from compiler to compiler, so using
template functions will tend to make 3DLDF less portable.  I am no
longer able to compile it on the DECalpha Personal Workstation I had
been using with the DEC C++
 compiler. 
See <a href="#Ports">Ports</a>, for more information.

<div class="node">
<a name="Running-3DLDF"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Installing-3DLDF">Installing 3DLDF</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Installing-and-Running-3DLDF">Installing and Running 3DLDF</a>

</div>

<h3 class="section">11.2 Running 3DLDF</h3>

<p>To use 3DLDF, call
<samp><span class="command">make run</span></samp> from the command line in the
shell.  The working directory should be
<samp><span class="file">3DLDF-1.1.5.1/</span></samp> or <samp><span class="file">3DLDF-1.1.5.1/CWEB</span></samp>. 
Either will work, but the latter may be more convenient, because
this is the location of the CWEB, TeX and MetaPost files that you'll
be editing. 
Alternatively, call <samp><span class="command">ldfr</span></samp>, which is merely a
shell script that calls <samp><span class="command">make run</span></samp>. 
This takes care of running <samp><span class="command">3dldf</span></samp>, MetaPost, TeX,
and <samp><span class="command">dvips</span></samp>, producing a PostScript file containing your
drawings.  You can display the latter on your terminal using Ghostview
or some other
PostScript viewer, print it out, and whatever else you like to do with
PostScript files.

   <p>However, you can also perform the actions performed by
<samp><span class="command">make run</span></samp> by hand, by writing your own shell
scripts, by defining Emacs-Lisp commands, or in other ways.  Even if you
choose to use <samp><span class="command">make run</span></samp>, it's important to understand what it
does.  The following explains how to do this by hand.

   <p>The CWEB source files for 3DLDF are in the subdirectory
<samp><span class="file">3DLDF-1.1.5.1/CWEB/</span></samp>.  They
must be <samp><span class="command">ctangled</span></samp>, and the resulting C++
 files must be
compiled and
linked, in order to create the executable file <samp><span class="file">3dldf</span></samp>. 
The C++
 files and header files generated by <samp><span class="command">ctangle</span></samp>,
the object files generated by the compiler, and the executable
<samp><span class="file">3dldf</span></samp> all  reside in <samp><span class="file">3DLDF-1.1.5.1/CWEB/</span></samp>. Therefore, the
latter must be your working directory.

   <p>Since 3DLDF has no input routine as yet,
as explained in <a href="#No-Input-Routine">No Input Routine</a>,
it is necessary to add C++
 code to the function <code>main()</code> in
<samp><span class="file">main.web</span></samp>, and/or in a separate function in another file.  In the
latter case, the function containing the user code must be invoked in
<code>main()</code>.  Look for the line &ldquo;Your code here!&rdquo; in
<samp><span class="file">main.web</span></samp>.

   <p>This is an example of what you could write in <code>main()</code>. 
Feel free to make it more complicated, if you wish.

<pre class="example">     beginfig(1);
     default_focus.set(2, 3, -10, 2, 3, 10, 20);
     Rectangle R(origin, 5, 3);
     Circle C(origin, 3, 90);
     C.half(180).filldraw(black, light_gray);
     R.filldraw();
     C.half().filldraw(black, light_gray);
     Point p = C.get_point(4);
     p.shift(0, -.5 * p.get_y());
     p.label("$C$", "");
     Point q = R.get_mid_point(0);
     q.shift(0, 0, -.5 * q.get_z());
     q.label("$R$", "");
     current_picture.output(default_focus, PERSP, 1, NO_SORT);
     endfig(1);
</pre>
   <p><p align="center">
<br>
<img src="./graphics/png/3DLDF72.png"
alt="[Figure 72. Not displayed.]" 
/>
<br>
<br>
Fig. 72. 
<br>
</p>

     <ol type=1 start=1>
<li>Save <samp><span class="file">main.web</span></samp>, and any other CWEB files you've changed. 
Since these files have changed, they must be <samp><span class="command">ctangled</span></samp>, and the
resulting C++
 files must be recompiled.  If you've changed any files
other than
<samp><span class="file">main.web</span></samp>, <samp><span class="command">ctangle</span></samp> will also generate a header
file for each of these files.  If a header file differs from the version
that existed before <samp><span class="command">ctangle</span></samp> was run, all of the C++
 files
that depend on it must be recompiled.  Then <samp><span class="file">3dldf</span></samp> must be
relinked.  To do this, call <samp><span class="command">make 3dldf</span></samp> from the command line.

     <p>If you've made any errors in typing your code, the
compiler should have issued error messages, so go back into
the appropriate CWEB file and correct your errors.  Then call
<samp><span class="command">make 3dldf</span></samp> again.

     <li>Call <samp><span class="command">CWEB/3dldf</span></samp> at the command line.  It writes a
file of MetaPost code called <samp><span class="file">3DLDFput.mp</span></samp>.

     <li>Run MetaPost on the file <samp><span class="file">3DLDFmp.mp</span></samp>, which inputs
<samp><span class="file">3DLDFput.mp</span></samp>.

     <pre class="example">          mpost 3DLDFput
</pre>
     <p class="noindent">The result is an Encapsulated PostScript file
<samp><span class="file">3DLDFput.</span></samp>&lt;<i>integer</i>&gt; for each figure in your drawing.

     <li>The file <samp><span class="file">3DLDFtex.tex</span></samp> should contain code for including the
<samp><span class="file">3DLDFput.</span></samp>&lt;<i>integer</i>&gt; files.  This is an example taken from
the <samp><span class="file">3DLDFtex.tex</span></samp> included in the distribution. 
You may change it to suit your purposes.

     <pre class="example">          \vbox to \vsize{\vskip 2cm
          \line{\hskip 2cm Figure 1.\hss}%
          \vfil
          \line{\hskip 2cm\epsffile{3DLDFmp.1}\hss}%
          \vss}
</pre>
     <li>Run TeX on <samp><span class="file">3DLDFtex.tex</span></samp> to produce the DVI file,
<samp><span class="file">3DLDFtex.dvi</span></samp>.

     <pre class="example">          tex 3DLDFtex
</pre>
     <li>Run <samp><span class="command">dvips</span></samp> on the DVI file to produce the PostScript file,
<samp><span class="file">3DLDFtex.ps</span></samp>.

     <pre class="example">          dvips -o 3DLDFtex.ps 3DLDFtex
</pre>
     <li><samp><span class="file">3DLDFtex.ps</span></samp> can be viewed using Ghostview, it can be printed using
<samp><span class="command">lpr</span></samp> (on a Unix-like system),  you can convert it to PDF with
<code>ps2pdf</code>, or to some other format using the appropriate program.
        </ol>

   <p>I sincerely hope that it worked.  If it didn't, ask your local computer
wizard for help.

   <p>On the computer I'm using, I found that <code>special</code> arguments for
setting <code>landscape</code> and <code>papersize</code> in TeX files for
DIN A3 landscape didn't work.  Ghostview cut off the right sides of the
drawings.  Nor did it work to call
<samp><span class="command">dvips -t landscape -t a3</span></samp>. 
This caused an error message which said that
<code>landscape</code> would be ignored.  When I called <samp><span class="command">dvips</span></samp>
with the <samp><span class="option">-t landscape</span></samp> option alone, it worked, and
Ghostview showed the entire drawing.

   <p>Another problem was Adobe Acrobat.  It would display the entire DIN A3
page, but not always in landscape format.  I was unable to find a way of
rotating the pages in Acrobat.  I finally found out, that if I included
even a single letter of text in a label, Acrobat would display the
document correctly.

<ul class="menu">
<li><a accesskey="1" href="#Converting-EPS-Files">Converting EPS Files</a>
<li><a accesskey="2" href="#Command-Line-Arguments">Command Line Arguments</a>
</ul>

<div class="node">
<a name="Converting-EPS-Files"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Command-Line-Arguments">Command Line Arguments</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Running-3DLDF">Running 3DLDF</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Running-3DLDF">Running 3DLDF</a>

</div>

<h4 class="subsection">11.2.1 Converting EPS Files</h4>

<p><a name="index-ImageMagick-104"></a><a name="index-ImageMagick-convert-105"></a><a name="index-convert-_0028ImageMagick_0029-106"></a><a name="index-PNG-_0028Portable-Network-Graphics_0029-107"></a><a name="index-Portable-Network-Graphics-_0028PNG_0029-108"></a><a name="index-PS-_0028PostScript_0029-109"></a><a name="index-PostScript-_0028PS_0029-110"></a><a name="index-structured-PostScript-111"></a><a name="index-PostScript_002c-structured-112"></a><a name="index-EPS-_0028Encapsulated-PostScript_0029-113"></a><a name="index-Encapsulated-PostScript-_0028EPS_0029-114"></a><a href="http://www.imagemagick.org">ImageMagick</a> is a
&ldquo;collection of tools and libraries&rdquo; for image manipulation. 
It provides a `<tt>convert</tt>' utility which can convert images from one
format to another.  It can convert structured PostScript (PS) to
to <a href="http://www.libpng.org/pub/png/index.html">Portable Network Graphics (PNG)</a>, but <em>not</em>
EPS (Encapsulated PostScript) to PNG.  Nor can it convert EPS to
structured PostScript.

   <p>It is possible to have MetaPost generate structured PostScript directly
by including the command &lsquo;<samp><span class="samp">prologues:=1;</span></samp>&rsquo; at the beginning of the
MetaPost input. 
However, this &ldquo;generally doesn't work when you use TeX
fonts.&rdquo;<a rel="footnote" href="#fn-25" name="fnd-25"><sup>25</sup></a>
This is a significant problem if your labels contain math mode
material, and you haven't already taken steps to ensure that appropriate
fonts will be used in the PS output.

   <p>In the following, I describe the <em>only way</em> I've found to convert
an EPS image to PNG format while still using TeX fonts.  There may be
other and better ways of doing this, but I haven't found them.

     <ol type=1 start=1>
<li>Assume the EPS image is in the file <samp><span class="file">3DLDFmp.1</span></samp>
Include the EPS image in a TeX file
which looks like this:

     <pre class="example">          \advance\voffset by -1in
          \advance\hoffset by -1in
          \nopagenumbers
          \input epsf
          \epsfverbosetrue
          \def\epsfsize#1#2{#1}
          \setbox0=\vbox{\epsffile{3DLDFmp.1}}
          \vsize=\ht0
          \hsize=\wd0
          \special{papersize=\the\wd0,\the\ht0}
          \box0
          \bye
</pre>
     <p><b>Do not</b> name this file <samp><span class="file">3DLDFmp.1.tex</span></samp>! 
While this worked fine for me on a DECalpha Personal Workstation
running under Tru64 Unix 5.1, with TeX, Version 3.1415
(C version 6.1), and <b>dvipsk</b> 5.58f,
it failed on a PC Pentium II XEON under Linux 2.4,
with TeX, Version 3.14159 (Web2C 7.4.5), and
<b>dvips(k)</b> 5.92b, kpathsea version 3.4.5,
with the following error message:
     <pre class="display">          &ldquo;No BoundingBox comment found in file examples.1; using defaults&rdquo;
</pre>
     <p class="noindent">The resulting PS image had the wrong size and the
the graphic was positioned improperly.

     <p>Apparently, it confuses the EPSF macros when the name of an
included image is the same as &lsquo;<samp><span class="samp">\jobname</span></samp>&rsquo;. 
So, for this example, let's call it <samp><span class="file">3DLDFmp.1_.tex</span></samp>.

     <p>You don't really need to call the macro &lsquo;<samp><span class="samp">\epsfverbosetrue</span></samp>&rsquo;.  If you
do, it will print the measurements of the bounding box and other information
to standard output.<a rel="footnote" href="#fn-26" name="fnd-26"><sup>26</sup></a>

     <li>Run &lsquo;<samp><span class="samp">tex 3DLDFmp.1_.tex</span></samp>&rsquo;.

     <li>Run &lsquo;<samp><span class="samp">dvips -o 3DLDF.1.ps 3DLDFmp.1_.dvi</span></samp>&rsquo;.

     <li>Run &lsquo;<samp><span class="samp">convert 3DLDF.1.ps 3DLDFmp.1.png</span></samp>&rsquo;.
        </ol>

   <p><a name="index-ImageMagick-115"></a><a name="index-ImageMagick-display-116"></a><a name="index-display-_0028ImageMagick_0029-117"></a><a href="http://www.imagemagick.org">ImageMagick</a>
supplies a `<samp><span class="command">display</span></samp>' utility, which can be used to display the
PNG image:

<pre class="example">     display 3DLDFmp.1.png
</pre>
   <p>It can be included in an HTML document as follows:

<pre class="example">     &lt;img src="3DLDFmp.1.png"
              alt="[Fig. 1]."
</pre>
   <p><a name="index-CD_002dR-_0028Compact-Disk_002c-Recordable_0029-118"></a><a name="index-Compact-Disk_002c-Recordable-_0028CD_002dR_0029-119"></a><b>Please note!</b>  The PNG files for this manual are now called
filename <samp><span class="file">3DLDF1.png</span></samp>,  <samp><span class="file">3DLDF2.png</span></samp>, <small class="dots">...</small>,
<samp><span class="file">3DLDF199.png</span></samp>,
because I wasn't able to write files
with names like <samp><span class="file">3DLDFmp.&lt;</span><i>number</i><span class="file">&gt;.png</span></samp> to a CD-R (Compact
Disk, Recordable), when `<i>number</i>' had more than one digit.

<ul class="menu">
<li><a accesskey="1" href="#Converting-EPS-Files-ELISP">Converting EPS Files ELISP</a>
</ul>

<div class="node">
<a name="Converting-EPS-Files-ELISP"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Converting-EPS-Files">Converting EPS Files</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Converting-EPS-Files">Converting EPS Files</a>

</div>

<h5 class="subsubsection">11.2.1.1 Emacs-Lisp Functions</h5>

<p><a name="index-PNG-_0028Portable-Network-Graphics_0029-120"></a><a name="index-Portable-Network-Graphics-_0028PNG_0029-121"></a><a name="index-PS-_0028PostScript_0029-122"></a><a name="index-PostScript-_0028PS_0029-123"></a><a name="index-structured-PostScript-124"></a><a name="index-PostScript_002c-structured-125"></a><a name="index-EPS-_0028Encapsulated-PostScript_0029-126"></a><a name="index-Encapsulated-PostScript-_0028EPS_0029-127"></a><a name="index-Emacs_002dLisp-128"></a>The file <samp><span class="file">3DLDF-1.1.5.1/CWEB/cnepspng.el</span></samp> contains
definitions of two Emacs-Lisp functions that can be used to
convert Encapsulated PostScript (EPS) files to structured PostScript
(PS) and Portable Network Graphics (PNG) files.

<div class="defun">
&mdash; Emacs-Lisp function: <b>convert-eps</b><var> filename do-not-delete-files<a name="index-convert_002deps-129"></a></var><br>
<blockquote><p>Converts an EPS image file to the PS and PNG formats.

        <p>If called interactively, <samp><span class="command">convert-eps</span></samp> prompts for the
filename, including the extension, of an
EPS image file.  It follows the procedure described above in
<a href="#Converting-EPS-Files">Converting EPS Files</a>, to create
<samp><var>filename</var><span class="file">.ps</span></samp> and <samp><var>filename</var><span class="file">.png</span></samp>.

        <p>If <var>do-not-delete-files</var> is <code>nil</code>,
the <samp><span class="file">.tex</span></samp>, <samp><span class="file">.dvi</span></samp>, and <samp><span class="file">.log</span></samp> files will be deleted. 
This is the case when <samp><span class="command">convert-eps</span></samp> is called interactively
with no prefix argument. 
If <samp><span class="command">convert-eps</span></samp> is called interactively with a prefix
argument, or non-interactively with a non-<code>nil</code>
<var>do-not-delete-files</var> argument, these files will not be deleted. 
</p></blockquote></div>

<div class="defun">
&mdash; Emacs-Lisp function: <b>convert-eps-loop</b><var> arg start end<a name="index-convert_002deps_002dloop-130"></a></var><br>
<blockquote><p>Converts a set of EPS image files to the PS and PNG formats. 
The files
must all have the same filename, and the extensions must form a range of
positive integers.  For example, <samp><span class="command">convert-eps-loop</span></samp> can be
used to convert the files <samp><span class="file">3DLDFmp.1</span></samp>, <samp><span class="file">3DLDFmp.2</span></samp>, and
<samp><span class="file">3DLDFmp.3</span></samp> to <samp><span class="file">3DLDFmp.1.ps</span></samp>, <samp><span class="file">3DLDFmp.2.ps</span></samp>, and
<samp><span class="file">3DLDFmp.3.ps</span></samp> on the one hand, and
<samp><span class="file">3DLDFmp.1.png</span></samp>, <samp><span class="file">3DLDFmp.2.png</span></samp>,
<samp><span class="file">3DLDFmp.3.png</span></samp> on the other.

        <p>If <samp><span class="command">convert-eps-loop</span></samp> is called interactively,
it prompts for <var>filename</var> <em>with no extension</em>
and the starting and ending numbers of the range.

        <p>For all i \in \INT and <var>start</var> \le i \le <var>end</var>,
<samp><span class="command">convert-eps-loop</span></samp> checks whether a file named
<samp><var>filename.i</var></samp> exists.  If it does,
it calls <samp><span class="command">convert-eps</span></samp>, passing
<samp><var>filename.i</var></samp> as the latter's <var>filename</var> argument.

        <p><var>do-not-delete-files</var> is also passed to <samp><span class="command">convert-eps</span></samp>.  If
it's <code>nil</code>,
the <samp><span class="file">.tex</span></samp>, <samp><span class="file">.dvi</span></samp>, and <samp><span class="file">.log</span></samp> files will be deleted. 
This is the case when <samp><span class="command">convert-eps-loop</span></samp> is called interactively
with no prefix argument. 
If <samp><span class="command">convert-eps-loop</span></samp> is called interactively with a prefix
argument, or non-interactively with a non-<code>nil</code>
<var>do-not-delete-files</var> argument, these files will not be deleted. 
</p></blockquote></div>

<div class="node">
<a name="Command-Line-Arguments"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Converting-EPS-Files">Converting EPS Files</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Running-3DLDF">Running 3DLDF</a>

</div>

<h4 class="subsection">11.2.2 Command Line Arguments</h4>

<p><samp><span class="command">3dldf</span></samp> can be called with the following
<dfn>command line arguments</dfn>.

     <dl>
<dt><code>--help</code><dd>Prints information about the valid command line options to standard
output and exits with return value 0.

     <br><dt><code>--silent</code><dd>Suppresses some output to standard output
and standard error when <samp><span class="command">3dldf</span></samp> is run

     <br><dt><code>--verbose</code><dd>Causes status information to be printed to standard output
when <samp><span class="command">3dldf</span></samp> is run.

     <br><dt><code>--version</code><dd>Prints the version number of 3DLDF
to standard output and exits with return value 0. 
</dl>

   <p>Currently, <samp><span class="command">3dldf</span></samp> can only handle long options.  &lsquo;<samp><span class="samp">-</span></samp>&rsquo;
cannot be substituted for &lsquo;<samp><span class="samp">--</span></samp>&rsquo;.  However, the names of the options
themselves can be abbreviated, as long as the abbreviation is
unambigous.  For example, &lsquo;<samp><span class="samp">3dldf --h</span></samp>&rsquo; and &lsquo;<samp><span class="samp">3dldf --verb</span></samp>&rsquo; are
valid, but &lsquo;<samp><span class="samp">3dldf --ver</span></samp>&rsquo; is not.

<!-- !! TO DO: Put this in large, boldface type like a chapter heading, -->
<!-- for the printed output.  Having it be a node caused problems with the -->
<!-- Info output.  Using `@iftex' doesn't work, because the nodes are used -->
<!-- for making the menus. -->
<!-- It has to be here, because of the restrictions on -->
<!-- multiple files. -->
<!-- Class and Function Reference -->
<!-- @c Unless otherwise stated, all of the functions described in the following -->
<!-- @c chapters are @dfn{member functions} of the -->
<!-- @c the @code{class} currently under discussion. -->
<!-- typeglb.texi -->
<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
<!-- node-name,  next,  previous,  up -->
<div class="node">
<a name="Typedefs-and-Utility-Structures"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Global-Constants-and-Variables">Global Constants and Variables</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Installing-and-Running-3DLDF">Installing and Running 3DLDF</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">12 Typedefs and Utility Structures</h2>

<p>3DLDF defines a number of data types for various reasons, e.g., for the
sake of convenience, for use in conditional compilation, or as return
values of functions.  Some of these data types can be defined using
<code>typedef</code>, while others are defined as <code>structs</code>.

   <p>The typedefs and utility structures described in this chapter are
found in <samp><span class="file">pspglb.web</span></samp>.  Others, that contain objects of types
defined in 3DLDF, are described in subsequent chapters.

<div class="defun">
&mdash; typedef: <b>real</b><var><a name="index-real-131"></a></var><br>
<blockquote><p>Synonymous either with <code>float</code> or <code>double</code>, depending on the
values of the preprocessor variables <code>LDF_REAL_FLOAT</code> and
<code>LDF_REAL_DOUBLE</code>.  The meaning of <code>real</code> is determined by
means of conditional compilation.  If <code>real</code> is <code>float</code>, 3DLDF
will require less memory than if <code>real</code> is <code>double</code>, but its
calculations will be less precise.  <code>real</code> is &ldquo;typedeffed&rdquo; to
<code>float</code> by default. 
</p></blockquote></div>

<div class="defun">
&mdash; typedef: <b>real_pair</b><var> first second<a name="index-real_005fpair-132"></a></var><br>
<blockquote><p>Synonymous with <code>pair&lt;real, real&gt;</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; struct: <b>real_triple</b><var> first second third<a name="index-real_005ftriple-133"></a></var><br>
<blockquote><p>All three data elements of <code>real_triple</code> are <code>reals</code>. 
It also has two constructors, described below.  There are no other
member functions. 
</p></blockquote></div>

<div class="defun">
&mdash; Constructor: void <b>real_triple</b> (<var>void</var>)<var><a name="index-real_005ftriple-134"></a></var><br>
&mdash; Constructor: void <b>real_triple</b> (<var>real a, real b, real c</var>)<var><a name="index-real_005ftriple-135"></a></var><br>
<blockquote><p>The constructor taking no arguments sets <code>first</code>, <code>second</code>,
and <code>third</code> to 0.  The constructor taking three <code>real</code>
arguments sets <code>first</code> to <var>a</var>, <code>second</code> to <var>b</var>, and
<code>third</code> to <var>c</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; typedef: <b>Matrix</b><var><a name="index-Matrix-136"></a></var><br>
<blockquote><p>A <code>Matrix</code> is a 4 X 4
 array of <code>real</code>, e.g.,
<code>Matrix M;</code> == <code>real M[4][4]</code>. 
It is used in <code>class Transform</code> for storing transformation
matrices.  See <a href="#Transforms">Transforms</a>, and See <a href="#Transform-Reference">Transform Reference</a>, for more
information. 
</p></blockquote></div>

<div class="defun">
&mdash; typedef: <b>real_short</b><var> first second<a name="index-real_005fshort-137"></a></var><br>
<blockquote><p>Synonymous with <code>pair&lt;real, signed short&gt;</code>. 
It is the return type of <code>Plane::get_distance()</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; typedef: <b>bool_pair</b><var> first second<a name="index-bool_005fpair-138"></a></var><br>
<blockquote><p>Synonymous with <code>pair&lt;bool, bool&gt;</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; typedef: <b>bool_real</b><var> first second<a name="index-bool_005freal-139"></a></var><br>
<blockquote><p>Synonymous with <code>pair&lt;bool, real&gt;</code>. 
</p></blockquote></div>

<!-- glbcnvar.texi -->
<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
<div class="node">
<a name="Global-Constants-and-Variables"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Dynamic-Allocation-of-Shapes">Dynamic Allocation of Shapes</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Typedefs-and-Utility-Structures">Typedefs and Utility Structures</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">13 Global Constants and Variables</h2>

<p>The global constants and variables described in this chapter are
found in <samp><span class="file">pspglb.web</span></samp>.  Others, of types
defined in 3DLDF, are described in subsequent chapters.

<div class="defun">
&mdash; Constants: bool <b>ldf_real_float</b><var><a name="index-ldf_005freal_005ffloat-140"></a></var><br>
&mdash; : bool <b>ldf_real_double</b><var><a name="index-ldf_005freal_005fdouble-141"></a></var><br>
<blockquote><p>Set to 0 or 1 to match the values of the preprocessor macros
<code>LDF_REAL_FLOAT</code> and <code>LDF_REAL_DOUBLE</code>.  The latter are used
for conditional compilation and determine whether <code>real</code> is
&ldquo;typedeffed&rdquo; to <code>float</code> or <code>double</code>, i.e., whether
<code>real</code> is made to be a synonym of <code>float</code> or <code>double</code>
using <code>typedef</code>.

        <p><code>ldf_real_float</code> and <code>ldf_real_double</code> can be used to control
conditional expressions in non-conditionally compiled code. 
</p></blockquote></div>

<div class="defun">
&mdash; Constant: real <b>PI</b><var><a name="index-PI-142"></a></var><br>
<blockquote><p>The value of <code>PI</code>
is calculated as
4.0 * arctan(1.0). 
I believe that a preprocessor macro &ldquo;<code>PI</code>&rdquo; was
available when I compiled 3DLDF using the DEC C++
 compiler, and that
it wasn't, when I used GNU CC under Linux, but I'm no longer sure. 
</p></blockquote></div>

<div class="defun">
&mdash; Variable: valarray &lt;real&gt; <b>null_coordinates</b><var><a name="index-null_005fcoordinates-143"></a></var><br>
<blockquote><p>Contains four elements, all 0.  Used for resetting the sets of
coordinates belonging to <code>Points</code>, but only when the DEC C++

        <p>compiler is used.  This doesn't work when GCC is used. 
</p></blockquote></div>

<div class="defun">
&mdash; Constant: real <b>INVALID_REAL</b><var><a name="index-INVALID_005fREAL-144"></a></var><br>
<blockquote><p>Actually, <code>INVALID_REAL</code> is the largest possible <code>real</code> value
(i.e., <code>float</code> or <code>double</code>) on a given machine. 
So, from the point of view of the compiler, it's not invalid at all. 
However, 3DLDF uses it to indicate failure of some kind.  For example,
the return value of a function returning <code>real</code> can be compared
with <code>INVALID_REAL</code> to check whether the function succeeded or
failed.

        <p>An alternative approach would be to use the exception handling
facilities of C++
.  I do use these, but only in a couple of places,
so far. 
</p></blockquote></div>

<div class="defun">
&mdash; Constant: real_pair <b>INVALID_REAL_PAIR</b><var><a name="index-INVALID_005fREAL_005fPAIR-145"></a></var><br>
<blockquote><p><code>first</code> and <code>second</code> are both <code>INVALID_REAL</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Constant: real <b>INVALID_REAL_SHORT</b><var><a name="index-INVALID_005fREAL_005fSHORT-146"></a></var><br>
<blockquote><p><code>first</code> is <code>INVALID_REAL</code> and <code>second</code> is 0. 
</p></blockquote></div>

<div class="defun">
&mdash; Variable: real <b>MAX_REAL</b><var><a name="index-MAX_005fREAL-147"></a></var><br>
<blockquote><p><a name="index-system-dependencies-148"></a>The largest <code>real</code> value permitted in the the elements of
<code>Transforms</code> and the coordinates of
<code>Points</code>.  It is the second largest <code>real</code> value (i.e.,
<code>float</code> or <code>double</code>) on a given machine (<code>INVALID_REAL</code>
is the largest).

        <p><code>MAX_REAL</code> is a variable, but it should be used like a constant. 
In other words, users should never reset its value.  It can't be
declared <code>const</code> because its value must be calculated using
function calls, which can't be done before the entry point of the
program, i.e., <code>main()</code>.  Therefore, the value of <code>MAX_REAL</code>
is calculated at the beginning of <code>main()</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Variable: real <b>MAX_REAL_SQRT</b><var><a name="index-MAX_005fREAL_005fSQRT-149"></a></var><br>
<blockquote><p>The square root of <code>MAX_REAL</code>.

        <p><code>MAX_REAL_SQRT</code> is a variable, but it should be used like a
constant. In other words, users should never reset its value.  It can't
be declared <code>const</code> because its value is calculated using the
<code>sqrt()</code> function,
which can't be done before the entry point of the
program, i.e., <code>main()</code>.  Therefore, the value of
<code>MAX_REAL_SQRT</code> is set after <code>MAX_REAL</code> is calculated, at the
beginning of <code>main()</code>.

        <p><code>MAX_REAL_SQRT</code> is used in <code>Point::magnitude()</code>
(see <a href="#Vector-Operations">Vector Operations</a>).  The magnitude of a <code>Point</code> is found
by using the formula
\sqrtx^2 + y^2 + z^2. 
x, y, and z are all tested against
<code>MAX_REAL_SQRT</code> to ensure that
x^2, y^2, and z^2
will all be
less than or equal to <code>MAX_REAL</code> before trying to calculate them.

     <!-- !! TO DO. -->
        <p>Metafont implements an operation called <dfn>Pythagorean addition</dfn>,
notated as &ldquo;<code>++</code>&rdquo;which
can be used to calculate distances without first squaring and then
taking square roots:<!-- !! GET REF., Metafont the program. -->
<a rel="footnote" href="#fn-27" name="fnd-27"><sup>27</sup></a>
a++b == \sqrt(a^2 + b^2)
and
a++b++c == \sqrt(a^2 + b^2 + c^2). 
This makes it possible to calculate distances for greater values of
a, b, and c, that would otherwise cause floating point errors. 
Metafont also implements the inverse operation
<dfn>Pythagorean subtraction</dfn>, notated as &ldquo;<code>+-+</code>&rdquo;:
<!-- !! TO DO:   There's an ugly space before ``a+-+b'' in the TeX -->
<!-- output.  It probably has to do with finding the best line breaks. -->
<!-- There's not much leeway, because of the shortness of the paragraph. -->
<!-- That's my interpretation, anyway.  LDF 2003.12.08. -->
<!-- It might be worthwhile trying to find out how Knuth did it for _The -->
<!-- METAFONTbook_.  LDF 2003.12.08. -->
a+-+b == \sqrt(a^2 - b^2). 
Unfortunately, 3DLDF implements neither Pythagorean addition
nor subtraction as yet, but it's on my
<a name="index-TO-DO-150"></a>list of &ldquo;things to do&rdquo;. 
</p></blockquote></div>

<!-- creatnew.texi -->
<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
<div class="node">
<a name="Dynamic-Allocation-of-Shapes"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#System-Information">System Information</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Global-Constants-and-Variables">Global Constants and Variables</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">14 Dynamic Allocation of Shapes</h2>

<div class="defun">
&mdash; Template function: <code>template &lt;class C&gt; C*</code> <b>create_new</b> (<var>const C* arg</var>)<var><a name="index-create_005fnew-151"></a></var><br>
&mdash; Template function: <code>template &lt;class C&gt; C*</code> <b>create_new</b> (<var>const C&amp; arg</var>)<var><a name="index-create_005fnew-152"></a></var><br>
<blockquote><p>These functions dynamically allocate an object derived from
<code>Shape</code> on the free store,
returning a pointer to the type of the <code>Shape</code> and setting
<code>on_free_store</code> to <code>true</code>.

        <p>If a non-zero pointer or a reference is passed to <code>create_new()</code>,
the new object will be a copy of <var>arg</var>.

        <p>It is not possible to instantiate more than one specialization of
<code>create_new()</code> that takes no argument, because calls to these
functions would be ambiguous.  If the new object is not meant to be a
copy of an existing one, &lsquo;<samp><span class="samp">0</span></samp>&rsquo; must be passed to <code>create_new()</code>
as its argument.

        <p><code>create_new</code> is called like this:

     <pre class="example">          Point* p = create_new&lt;Point&gt;(0);
          p-&gt;show("*p:");
          -| *p: (0, 0, 0)
          
          Color c(.3, .5, .25);
          Color* d = create_new&lt;Color&gt;(c);
          d-&gt;show("*d:");
          -|
          *d:
          name ==
          use_name == 0
          red_part == 0.3
          green_part == 0.5
          blue_part == 0.25
          
          
          Point a0(3, 2.5, 6);
          Point a1(10, 11, 14);
          Path q(a0, a1);
          Path* r = create_new&lt;Path&gt;(&amp;q);
          r-&gt;show("*r:");
          -|
          *r:
          points.size() == 2
          connectors.size() == 1
          (3, 2.5, 6) -- (10, 11, 14);
</pre>
        <p>Specializations of this template function are currently declared for
<code>Color</code>, <code>Point</code>, <code>Path</code>, <code>Reg_Polygon</code>,
<code>Rectangle</code>, <code>Ellipse</code>, <code>Circle</code>, <code>Solid</code>, and
<code>Cuboid</code>. 
</p></blockquote></div>

<!-- system.texi -->
<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
<div class="node">
<a name="System-Information"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Color-Reference">Color Reference</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Dynamic-Allocation-of-Shapes">Dynamic Allocation of Shapes</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">15 System Information</h2>

<p>The functions described in this chapter are all declared in the
<code>namespace System</code>.  They are for finding out information
about the system on which 3DLDF is being run.  They are declared and
defined in <samp><span class="file">pspglb.web</span></samp>, except for the template function
<code>get_second_largest()</code>, which is declared and defined in
<samp><span class="file">gsltmplt.web</span></samp>.

   <p>There are two reasons for this.  The first is that template definitions
must be available
in the compilation units where specializations are instantiated. 
I therefore write the template definition of <code>get_second_largest()</code>
to <samp><span class="file">gsltmplt.h</span></samp>, so it can be included by the CWEB files that need
it, currently <samp><span class="file">main.web</span></samp> only.  If I
wrote it to <samp><span class="file">pspglb.h</span></samp>, it would be included by all of the CWEB
files except for <samp><span class="file">loader.web</span></samp>, causing unnecessarily bloated object
code.

   <p>The other reason is because of the way way 3DLDF is built using Automake
and <tt>make</tt>.  I originally tried to define <code>get_second_largest()</code>
in <samp><span class="file">pspglb.web</span></samp> and wrote the definition to <samp><span class="file">gsltmplt.cc</span></samp>,
which is no problem with CWEB.  However, I was unable to express the
dependencies among the CWEB, C++
, and object files in such a way that
3DLDF was built properly.

   <p>Therefore all template functions will be put into files either by
themselves, or in small groups.

<ul class="menu">
<li><a accesskey="1" href="#Endianness">Endianness</a>
<li><a accesskey="2" href="#Register-Width">Register Width</a>
<li><a accesskey="3" href="#Get-Second-Largest-Real">Get Second Largest Real</a>
</ul>

<div class="node">
<a name="Endianness"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Register-Width">Register Width</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#System-Information">System Information</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#System-Information">System Information</a>

</div>

<h3 class="section">15.1 Endianness</h3>

<div class="defun">
&mdash; Function: signed short <b>get_endianness</b> ([<var>const bool verbose = </var><code>false</code>])<var><a name="index-get_005fendianness-153"></a></var><br>
<blockquote><p>Returns the following values:

          <dl>
<dt>0<dd>if the processor is little-endian.

          <br><dt>1<dd>if the processor is big-endian.

          <br><dt>-1<dd>if the endianness cannot be determined.

        </dl>

        <p>It is called by <code>is_little_endian()</code> and
<code>is_big_endian()</code>.

        <p>If <var>verbose</var> is <code>true</code>, messages are printed to standard
output.

        <p>This function has been adapted from
Harbison, Samuel&nbsp;<!-- /@w -->P., and Guy&nbsp;<!-- /@w -->L. Steele Jr. 
<cite>C, A Reference Manual</cite>, pp.&nbsp;<!-- /@w -->163&ndash;164. 
This book has the clearest explanation of endianness that I've found so
far.

        <p>This is the C++
 code:

     <pre class="example">          signed short
          System::get_endianness(const bool verbose)
          {
            union {
              long Long;
              char Char[sizeof(long)];
            } u;
            u.Long = 1;
            if (u.Char[0] == 1)
              {
                if (verbose)
                  cout &lt;&lt; "Processor is little-endian."
                       &lt;&lt; endl &lt;&lt; endl &lt;&lt; flush;
                return 0;
              }
            else if (u.Char[sizeof(long) - 1] == 1)
              {
                if (verbose)
                  cout &lt;&lt; "Processor is big-endian."
                       &lt;&lt; endl &lt;&lt; endl &lt;&lt; flush;
                return 1;
              }
            else
              {
                cerr &lt;&lt; "ERROR! In System::get_endianness():\n"
                     &lt;&lt; "Can't determine endianness. Returning -1"
                     &lt;&lt; endl &lt;&lt; endl &lt;&lt; flush;
                return -1;
              }
          }
</pre>
        </blockquote></div>

<div class="defun">
&mdash; Function: bool <b>is_big_endian</b> ([<var>const bool verbose = </var><code>false</code>])<var><a name="index-is_005fbig_005fendian-154"></a></var><br>
<blockquote><p>Returns <code>true</code> if the processor is big-endian, otherwise <code>false</code>. 
If <var>verbose</var> is <code>true</code>, messages are printed to standard
output. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: bool <b>is_little_endian</b> ([<var>const bool verbose = </var><code>false</code>])<var><a name="index-is_005flittle_005fendian-155"></a></var><br>
<blockquote><p>Returns <code>true</code> if the processor is little-endian, otherwise <code>false</code>. 
If <var>verbose</var> is <code>true</code>, messages are printed to standard
output. 
</p></blockquote></div>

<div class="node">
<a name="Register-Width"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Get-Second-Largest-Real">Get Second Largest Real</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Endianness">Endianness</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#System-Information">System Information</a>

</div>

<h3 class="section">15.2 Register Width</h3>

<div class="defun">
&mdash; Function: unsigned short <b>get_register_width</b> (<var>void</var>)<var><a name="index-get_005fregister_005fwidth-156"></a></var><br>
<blockquote><p>Returns the register width of the CPU of the system on which 3DLDF is
being run.  This will normally be either 32 or 64 bits.

        <p>This is the C++
 code:

     <pre class="example">          return (sizeof(void*) * CHAR_BIT);
</pre>
        <p>This assumes that an address will be the same size as the processor's
registers, and that <code>CHAR_BIT</code> will be the number of bits in a
byte.  These are reasonable assumptions that apply to all architectures
I know about.

        <p>This function is called by <code>is_32_bit()</code> and <code>is_64_bit()</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: bool <b>is_32_bit</b> (<var>void</var>)<var><a name="index-is_005f32_005fbit-157"></a></var><br>
<blockquote><p>Returns <code>true</code> if the CPU of the system on which 3DLDF is being run
has a register width of 32 bits, otherwise <code>false</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: bool <b>is_64_bit</b> (<var>void</var>)<var><a name="index-is_005f64_005fbit-158"></a></var><br>
<blockquote><p>Returns <code>true</code> if the CPU of the system on which 3DLDF is being run
has a register width of 64 bits, otherwise <code>false</code>. 
</p></blockquote></div>

<div class="node">
<a name="Get-Second-Largest-Real"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Register-Width">Register Width</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#System-Information">System Information</a>

</div>

<h3 class="section">15.3 Get Second Largest Real</h3>

<div class="defun">
&mdash; Template function: template &lt;class Real&gt; Real <b>get_second_largest</b> (<var>Real MAX_VAL, </var>[<var>bool verbose = </var><code>false</code>])<var><a name="index-get_005fsecond_005flargest-159"></a></var><br>
&mdash; Template specialization: float <b>get_second_largest</b> (<var>float, bool</var>)<var><a name="index-get_005fsecond_005flargest-160"></a></var><br>
&mdash; Template specialization: double <b>get_second_largest</b> (<var>double, bool</var>)<var><a name="index-get_005fsecond_005flargest-161"></a></var><br>
<blockquote><p><code>get_second_largest</code> returns the second largest floating point
number of the type specified the template paramater <var>Real</var>. 
If <var>verbose</var> is <code>true</code>, messages are printed to standard
output.

        <p>This function is used for setting the value of <code>MAX_REAL</code>. 
See <a href="#Global-Constants-and-Variables">Global Constants and Variables</a>.

        <p><code>get_second_largest</code> depends on there
being an unsigned integer type with the same length as <var>Real</var>. 
This should always be the case for <code>float</code> and <code>double</code>, but
may not be <code>long double</code>.

        <p><var>MAX_VAL</var> should be the largest number of type <var>Real</var> on a given
architecture.  The GNU C++
 compiler GCC 3.3 does not currently supply
the <code>numeric_limits</code> template, so it is necessary to pass
one of the macros <code>FLT_MAX</code> or <code>DBL_MAX</code> explicitly, depending
on which specialization you use<a rel="footnote" href="#fn-28" name="fnd-28"><sup>28</sup></a>. 
When and if GCC supplies the <code>numeric_limits</code> template, I will
eliminate the <var>MAX_REAL</var> argument. 
</p></blockquote></div>

<!-- color.texi -->
<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
<div class="node">
<a name="Color-Reference"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Input-and-Output">Input and Output</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#System-Information">System Information</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">16 Color Reference</h2>

<p><a name="index-Color-162"></a>Class <code>Color</code> is defined in <samp><span class="file">colors.web</span></samp>.

<ul class="menu">
<li><a accesskey="1" href="#Color-Data-Members">Color Data Members</a>
<li><a accesskey="2" href="#Color-Constructors-and-Setting-Functions">Color Constructors and Setting Functions</a>
<li><a accesskey="3" href="#Color-Operators">Color Operators</a>
<li><a accesskey="4" href="#Modifying-Colors">Modifying Colors</a>
<li><a accesskey="5" href="#Showing-Colors">Showing Colors</a>
<li><a accesskey="6" href="#Querying-Colors">Querying Colors</a>
<li><a accesskey="7" href="#Defining-and-Initializing-Colors">Defining and Initializing Colors</a>
<li><a accesskey="8" href="#Namespace-Colors">Namespace Colors</a>
</ul>

<div class="node">
<a name="Color-Data-Members"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Color-Constructors-and-Setting-Functions">Color Constructors and Setting Functions</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Color-Reference">Color Reference</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Color-Reference">Color Reference</a>

</div>

<h3 class="section">16.1 Data Members</h3>

<div class="defun">
&mdash; Variable: string <b>name</b><var><a name="index-name-163"></a></var><br>
<blockquote><p>The name of the <code>Color</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Variable: bool <b>use_name</b><var><a name="index-use_005fname-164"></a></var><br>
<blockquote><p>If <code>true</code>, <code>name</code> is written to <code>out_stream</code> when the
<code>Color</code> is used for drawing or filling.  Otherwise, the
<a name="index-RGB-_0028red_002dgreen_002dblue_0029-165"></a>RGB (red-green-blue) values are written to <code>out_stream</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Variable: bool <b>on_free_store</b><var><a name="index-on_005ffree_005fstore-166"></a></var><br>
<blockquote><p><code>true</code>, if the <code>Color</code> has been created by
<code>create_new&lt;Color&gt;()</code>, which allocates memory for the
<code>Color</code> on the free store.  Otherwise <code>false</code>. 
<code>Colors</code> should only ever be dynamically allocated by using
<code>create_new&lt;Color&gt;()</code>. 
See <a href="#Color-Constructors-and-Setting-Functions">Color Reference;;Constructors and Setting Functions</a>. 
</p></blockquote></div>

<div class="defun">
&mdash; Variable: real <b>red_part</b><var><a name="index-red_005fpart-167"></a></var><br>
&mdash; Variable: real <b>green_part</b><var><a name="index-green_005fpart-168"></a></var><br>
&mdash; Variable: real <b>blue_part</b><var><a name="index-blue_005fpart-169"></a></var><br>
<blockquote><p>The RGB (red-green-blue) values of the <code>Color</code>. 
A <code>real</code> value r is valid for these variables if and
only if
0 &lt;= r &lt;= 1. 
</p></blockquote></div>

<div class="node">
<a name="Color-Constructors-and-Setting-Functions"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Color-Operators">Color Operators</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Color-Data-Members">Color Data Members</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Color-Reference">Color Reference</a>

</div>

<h3 class="section">16.2 Constructors and Setting Functions</h3>

<div class="defun">
&mdash; Default constructor: void <b>Color</b> (<var>void</var>)<var><a name="index-Color-170"></a></var><br>
<blockquote><p>Creates a <code>Color</code> and initializes its <code>red_part</code>,
<code>green_part</code>, and <code>blue_part</code> to 0.  <code>use_name</code> and
<code>on_free_store</code> are set to <code>false</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Copy constructor: void <b>Color</b> (<var>const Color&amp; c, </var>[<var>const string n = "", </var>[<var>const bool u = </var><code>true</code>]])<var><a name="index-Color-171"></a></var><br>
<blockquote><p>Creates a <code>Color</code> and makes it a copy of <var>c</var>.  If <var>n</var> is
not the empty string and <var>u</var> is <code>true</code>, <code>use_name</code> is set
to <code>true</code>.  Otherwise, its set to <code>false</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Constructor: void <b>Color</b> (<var>const string n, const unsigned short r, const unsigned short g, const unsigned short b, </var>[<var>const bool u = </var><code>true</code>])<var><a name="index-Color-172"></a></var><br>
<blockquote><p>Creates a <code>Color</code> with name <var>n</var>.  Its <code>red_part</code>,
<code>green_part</code>, and <code>blue_part</code> are set to
r/255.0, g/255.0, and b/255.0,
respectively. 
<code>use_name</code> is set to <var>u</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; Setting function: void <b>set</b> (<var>const string n, const unsigned short r, const unsigned short g, const unsigned short b, </var>[<var>const bool u = </var><code>false</code>])<var><a name="index-set-173"></a></var><br>
<blockquote><p>Corresponds to the constructor above, except that <var>u</var> is <code>false</code> by default. 
</p></blockquote></div>

<div class="defun">
&mdash; Constructor: void <b>Color</b> (<var>const real r, const real g, const real b</var>)<var><a name="index-Color-174"></a></var><br>
<blockquote><p>Creates an unnamed <code>Color</code> using the <code>real</code> values <var>r</var>,
<var>g</var>, and <var>b</var> for its <code>red_part</code>, <code>green_part</code>, and
<code>blue_part</code>, respectively. 
</p></blockquote></div>

<div class="defun">
&mdash; Setting function: void <b>set</b> (<var>const real r, const real g, const real b</var>)<var><a name="index-set-175"></a></var><br>
<blockquote><p>Corresponds to the constructor above. 
</p></blockquote></div>

<div class="defun">
&mdash; Template specializations: Color* <b>create_new&lt;Color&gt;</b> (<var>const Color* c</var>)<var><a name="index-create_005fnew_003cColor_003e-176"></a></var><br>
&mdash; : Color* <b>create_new&lt;Color&gt;</b> (<var>const Color&amp; c</var>)<var><a name="index-create_005fnew_003cColor_003e-177"></a></var><br>
<blockquote><p>Pseudo-constructors for dynamic allocation of <code>Colors</code>. 
They create a <code>Color</code> on the free store and allocate memory for it using
<code>new(Color)</code>.  They return a pointer to the new <code>Color</code>.

        <p>If <var>c</var> is a non-zero pointer or a reference,
the new <code>Color</code> will be a copy of
<var>c</var>.  If the new object is not meant to be a
copy of an existing one, &lsquo;<samp><span class="samp">0</span></samp>&rsquo; must be passed to
<code>create_new&lt;Color&gt;()</code> as its argument. 
See <a href="#Dynamic-Allocation-of-Shapes">Dynamic Allocation of Shapes</a>, for more information.

     <!-- !! TO DO: -->
        <p>This function is used in the drawing and filling functions for
<code>Path</code> and <code>Solid</code>.  <code>Point::drawdot()</code> should be changed
to use it too, but I haven't gotten around to doing this yet. 
</p></blockquote></div>

<div class="node">
<a name="Color-Operators"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Modifying-Colors">Modifying Colors</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Color-Constructors-and-Setting-Functions">Color Constructors and Setting Functions</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Color-Reference">Color Reference</a>

</div>

<h3 class="section">16.3 Operators</h3>

<div class="defun">
&mdash; Assignment operator: void <b>operator=</b> (<var>const Color&amp; c</var>)<var><a name="index-operator_003d-178"></a></var><br>
<blockquote><p>Sets <code>name</code> to the empty <code>string</code>, <code>use_name</code> to
<code>false</code>, and <code>red_part</code>, <code>green_part</code>, and
<code>blue_part</code> to <var>c</var>.<code>red_part</code>, <var>c</var>.<code>green_part</code>, and
<var>c</var>.<code>blue_part</code>, respectively. 
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> operator: bool <b>operator==</b> (<var>const Color&amp; c</var>)<var><a name="index-operator_003d_003d-179"></a></var><br>
<blockquote><p>Equality operator.  Returns <code>true</code>, if the <code>red_parts</code>,
<code>green_parts</code>, and <code>blue_parts</code> of <code>*this</code> and <var>c</var>
are equal, otherwise <code>false</code>.  The <code>names</code> and
<code>use_names</code> are not compared. 
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> operator: bool <b>operator!=</b> (<var>const Color&amp; c</var>)<var><a name="index-operator_0021_003d-180"></a></var><br>
<blockquote><p>Inequality operator.  Returns <code>false</code>, if the <code>red_parts</code>,
<code>green_parts</code>, and <code>blue_parts</code> of <code>*this</code> and <var>c</var>
are equal, otherwise <code>true</code>.  The  <code>names</code> and
<code>use_names</code> are not compared. 
</p></blockquote></div>

<div class="defun">
&mdash; Non-member function: ostream&amp; <b>operator&lt;&lt;</b> (<var>ostream&amp; o, const Color&amp; c</var>)<var><a name="index-operator_003c_003c-181"></a></var><br>
<blockquote><p>Output operator.  Writes the MetaPost code for the <code>Color</code> to
<code>out_stream</code> when a <code>Picture</code> is output.  This occurs when
the <code>Color</code> has been used as an argument to
drawing or filling functions.

        <p>If <code>use_name</code> is <code>true</code>, <code>name</code> is written to
<code>out_stream</code>.  Otherwise,
&ldquo;(<code>red_part</code>, <code>green_part</code>, <code>blue_part</code>)&rdquo; is written to
<code>out_stream</code>. 
</p></blockquote></div>

<div class="node">
<a name="Modifying-Colors"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Showing-Colors">Showing Colors</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Color-Operators">Color Operators</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Color-Reference">Color Reference</a>

</div>

<h3 class="section">16.4 Modifying</h3>

<div class="defun">
&mdash; Function: void <b>set_name</b> (<var>const string s</var>)<var><a name="index-set_005fname-182"></a></var><br>
<blockquote><p>Sets <code>name</code> to <var>s</var>.  <code>use_name</code> is not reset. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: void <b>set_use_name</b> (<var>const bool b</var>)<var><a name="index-set_005fuse_005fname-183"></a></var><br>
<blockquote><p>Sets <code>use_name</code> to <var>b</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: void <b>modify</b> (<var>const real r, </var>[<var>const real g = 0, </var>[<var>const real b = 0</var>]])<var><a name="index-modify-184"></a></var><br>
<blockquote><p>Adds <var>r</var>, <var>g</var>, and <var>b</var> to <code>red_part</code>,
<code>green_part</code>, and <code>blue_part</code>, respectively.  Following the
addition, if <code>red_part</code>, <code>green_part</code>, and/or <code>blue_part</code>
is greater than 1, it is reduced to 1.  If it is less than 0, it is
increased to 0. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: void <b>set_red_part</b> (<var>const real q</var>)<var><a name="index-set_005fred_005fpart-185"></a></var><br>
&mdash; Function: void <b>set_green_part</b> (<var>const real q</var>)<var><a name="index-set_005fgreen_005fpart-186"></a></var><br>
&mdash; Function: void <b>set_blue_part</b> (<var>const real q</var>)<var><a name="index-set_005fblue_005fpart-187"></a></var><br>
<blockquote><p>Let p stand for <code>red_part</code>,
<code>green_part</code>, or <code>blue_part</code>, depending upon which function is
used. 
If
0 &lt;= q &lt;= 1,
p is set to q.  If
q &lt; 0, p is set to 0. 
If q &gt; 1, p is set to 1. 
</p></blockquote></div>

<!-- node-name,  next,  previous,  up -->
<div class="node">
<a name="Showing-Colors"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Querying-Colors">Querying Colors</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Modifying-Colors">Modifying Colors</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Color-Reference">Color Reference</a>

</div>

<h3 class="section">16.5 Showing</h3>

<div class="defun">
&mdash; <code>const</code> function: void <b>show</b> ([<var>string text = ""</var>])<var><a name="index-show-188"></a></var><br>
<blockquote><p>Prints information about the <code>Color</code> to standard output. 
If <var>text</var> is not the empty <code>string</code>, prints <var>text</var> on a
line of its own.  Otherwise, it prints &ldquo;Color:&rdquo;.  Then it prints
<code>name</code>, <code>use_name</code>, <code>red_part</code>, <code>green_part</code>, and
<code>blue_part</code>. 
</p></blockquote></div>

<div class="node">
<a name="Querying-Colors"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Defining-and-Initializing-Colors">Defining and Initializing Colors</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Showing-Colors">Showing Colors</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Color-Reference">Color Reference</a>

</div>

<h3 class="section">16.6 Querying</h3>

<div class="defun">
&mdash; <code>const</code> function: bool <b>is_on_free_store</b> (<var>void</var>)<var><a name="index-is_005fon_005ffree_005fstore-189"></a></var><br>
<blockquote><p>Returns <code>on_free_store</code>.  This will only be true, if the
<code>Color</code> was created by <code>create_new&lt;Color&gt;()</code>. 
See <a href="#Color-Constructors-and-Setting-Functions">Color Reference; Constructors and Setting Functions</a>. 
</p></blockquote></div>

<div class="defun">
&mdash; Inline <code>const</code> function: real <b>get_red_part</b> ([<var>bool decimal = </var><code>false</code>])<var><a name="index-get_005fred_005fpart-190"></a></var><br>
&mdash; Inline <code>const</code> function: real <b>get_green_part</b> ([<var>bool decimal = </var><code>false</code>])<var><a name="index-get_005fgreen_005fpart-191"></a></var><br>
&mdash; Inline <code>const</code> function: real <b>get_blue_part</b> ([<var>bool decimal = </var><code>false</code>])<var><a name="index-get_005fblue_005fpart-192"></a></var><br>
<blockquote><p>These functions return the <code>red_part</code>, <code>green_part</code>, or
<code>blue_part</code> of the <code>Color</code>, respectively.  If <var>decimal</var> is
<code>false</code> (the default), the actual <code>real</code> value of the &ldquo;part&rdquo;
is returned.  Otherwise, the corresponding whole number
n such that
0 &lt;= n &lt;= 255
is returned. 
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> function: bool <b>get_use_name</b> (<var>void</var>)<var><a name="index-get_005fuse_005fname-193"></a></var><br>
<blockquote><p>Returns <code>use_name</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Inline <code>const</code> function: string <b>get_name</b> (<var>void</var>)<var><a name="index-get_005fname-194"></a></var><br>
<blockquote><p>Returns <code>name</code>. 
</p></blockquote></div>

<div class="node">
<a name="Defining-and-Initializing-Colors"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Namespace-Colors">Namespace Colors</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Querying-Colors">Querying Colors</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Color-Reference">Color Reference</a>

</div>

<h3 class="section">16.7 Defining and Initializing Colors</h3>

<div class="defun">
&mdash; <code>const</code> function: void <b>define_color_mp</b> ()<var><a name="index-define_005fcolor_005fmp-195"></a></var><br>
<blockquote><p>Writes MetaPost code to <code>out_stream</code>, in order to define objects of
type  <code>color</code> within MetaPost, and set their <code>redparts</code>,
<code>greenparts</code>, and <code>blueparts</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Static function: void <b>initialize_colors</b> (<var>void</var>)<var><a name="index-initialize_005fcolors-196"></a></var><br>
<blockquote><p>Calls <code>define_color_mp()</code> (described above) for the
<code>Colors</code> that are defined in <code>namespace Colors</code>
(see <a href="#Namespace-Colors">Namespace Colors</a>). 
</p></blockquote></div>

<div class="node">
<a name="Namespace-Colors"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Defining-and-Initializing-Colors">Defining and Initializing Colors</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Color-Reference">Color Reference</a>

</div>

<h3 class="section">16.8 Namespace Colors.</h3>

<div class="defun">
&mdash; Constant: const Color <b>red</b><var><a name="index-red-197"></a></var><br>
&mdash; Constant: const Color <b>green</b><var><a name="index-green-198"></a></var><br>
&mdash; Constant: const Color <b>blue</b><var><a name="index-blue-199"></a></var><br>
&mdash; Constant: const Color <b>cyan</b><var><a name="index-cyan-200"></a></var><br>
&mdash; Constant: const Color <b>yellow</b><var><a name="index-yellow-201"></a></var><br>
&mdash; Constant: const Color <b>magenta</b><var><a name="index-magenta-202"></a></var><br>
&mdash; Constant: const Color <b>orange_red</b><var><a name="index-orange_005fred-203"></a></var><br>
&mdash; Constant: const Color <b>violet_red</b><var><a name="index-violet_005fred-204"></a></var><br>
&mdash; Constant: const Color <b>pink</b><var><a name="index-pink-205"></a></var><br>
&mdash; Constant: const Color <b>green_yellow</b><var><a name="index-green_005fyellow-206"></a></var><br>
&mdash; Constant: const Color <b>orange</b><var><a name="index-orange-207"></a></var><br>
&mdash; Constant: const Color <b>violet</b><var><a name="index-violet-208"></a></var><br>
&mdash; Constant: const Color <b>purple</b><var><a name="index-purple-209"></a></var><br>
&mdash; Constant: const Color <b>blue_violet</b><var><a name="index-blue_005fviolet-210"></a></var><br>
&mdash; Constant: const Color <b>yellow_green</b><var><a name="index-yellow_005fgreen-211"></a></var><br>
&mdash; Constant: const Color <b>black</b><var><a name="index-black-212"></a></var><br>
&mdash; Constant: const Color <b>white</b><var><a name="index-white-213"></a></var><br>
&mdash; Constant: const Color <b>gray</b><var><a name="index-gray-214"></a></var><br>
&mdash; Constant: const Color <b>light_gray</b><var><a name="index-light_005fgray-215"></a></var><br>
<blockquote><p>These constant <code>Colors</code> can be used in drawing and filling
commands. 
</p></blockquote></div>

<div class="defun">
&mdash; Constant: const Color <b>default_background</b><var><a name="index-default_005fbackground-216"></a></var><br>
<blockquote><p>The default background color.  Equal to <code>white</code> per default. 
</p></blockquote></div>

<div class="defun">
&mdash; Pointer: const Color* <b>background_color</b><var><a name="index-background_005fcolor-217"></a></var><br>
<blockquote><p>Points to <code>default_background</code> by default. 
</p></blockquote></div>

<div class="defun">
&mdash; Pointer: const Color* <b>default_color</b><var><a name="index-default_005fcolor-218"></a></var><br>
<blockquote><p>Points to <code>black</code> by default. 
</p></blockquote></div>

<div class="defun">
&mdash; Pointer: const Color* <b>help_color</b><var><a name="index-help_005fcolor-219"></a></var><br>
<blockquote><p>Points to <code>green</code> by default. 
</p></blockquote></div>

   <p>The following vectors of pointers to <code>Color</code> can be used in the
drawing and filling functions for <code>Solid</code>
(see <a href="#Drawing-and-Filling-Solids">Solid Reference; Drawing and Filling</a>).

<div class="defun">
&mdash; Vector: const vector &lt;const Color*&gt; <b>default_color_vector</b><var><a name="index-default_005fcolor_005fvector-220"></a></var><br>
<blockquote><p>Contains one pointer, namely <code>default_color</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Vector: const vector &lt;const Color*&gt; <b>help_color_vector</b><var><a name="index-help_005fcolor_005fvector-221"></a></var><br>
<blockquote><p>Contains one pointer, namely <code>help_color</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Vector: const vector &lt;const Color*&gt; <b>background_color_vector</b><var><a name="index-background_005fcolor_005fvector-222"></a></var><br>
<blockquote><p>Contains one pointer, namely <code>background_color</code>. 
</p></blockquote></div>

<!-- io.texi -->
<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
<div class="node">
<a name="Input-and-Output"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Shape-Reference">Shape Reference</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Color-Reference">Color Reference</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">17 Input and Output</h2>

<ul class="menu">
<li><a accesskey="1" href="#I_002fO-Global-Variables">I/O Global Variables</a>
<li><a accesskey="2" href="#I_002fO-Functions">I/O Functions</a>
</ul>

<div class="node">
<a name="I%2fO-Global-Variables"></a>
<a name="I_002fO-Global-Variables"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#I_002fO-Functions">I/O Functions</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Input-and-Output">Input and Output</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Input-and-Output">Input and Output</a>

</div>

<h3 class="section">17.1 Global Variables</h3>

<div class="defun">
&mdash; Variable: ifstream <b>in_stream</b><var><a name="index-in_005fstream-223"></a></var><br>
<blockquote><p>Intended for inputting files of input code.  However, 3DLDF does not
currently have a routine for reading input code. 
<code>in_stream</code> is currently attached to the file <samp><span class="file">ldfinput.ldf</span></samp>
by <code>initialize_io()</code> (see <a href="#I_002fO-Functions">I/O Functions</a>). 
<code>in_stream</code> is read in character-by-character in <code>main()</code>,
however this serves no useful purpose as yet. 
</p></blockquote></div>

<div class="defun">
&mdash; Variable: ofstream <b>out_stream</b><var><a name="index-out_005fstream-224"></a></var><br>
<blockquote><p>Used for writing the file of MetaPost code, which is 3DLDF's output. 
Currently attached to the file <samp><span class="file">subpersp.mp</span></samp> by
<code>initialize_io()</code> (see <a href="#I_002fO-Functions">I/O Functions</a>). 
</p></blockquote></div>

<div class="defun">
&mdash; Variable: ofstream <b>tex_stream</b><var><a name="index-tex_005fstream-225"></a></var><br>
<blockquote><p>TeX code can be written to a file through <code>tex_stream</code>, if
desired.  3DLDF makes no use of it itself. 
Currently attached to <samp><span class="file">subpersp.tex</span></samp> by
<code>initialize_io()</code> (see <a href="#I_002fO-Functions">I/O Functions</a>). 
</p></blockquote></div>

<div class="node">
<a name="I%2fO-Functions"></a>
<a name="I_002fO-Functions"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#I_002fO-Global-Variables">I/O Global Variables</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Input-and-Output">Input and Output</a>

</div>

<h3 class="section">17.2 I/O Functions</h3>

<div class="defun">
&mdash; Function: void <b>initialize_io</b> (<var>string in_stream_name, string out_stream_name, string tex_stream_name, char* program_name</var>)<var><a name="index-initialize_005fio-226"></a></var><br>
<blockquote><p>Opens files with names specified by the first three arguments, and
attaches them to the file streams <code>in_stream</code>, <code>out_stream</code>, and
<code>tex_stream</code>, respectively.  Comments are written at the beginning
of the files, containing their names, a datestamp, and the name of the
program used to generate them. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: void <b>write_footers</b> (<var>void</var>)<var><a name="index-write_005ffooters-227"></a></var><br>
<blockquote><p>Writes code at the end of the files attached to <code>in_stream</code>,
<code>out_stream</code>, and <code>tex_stream</code>, before the streams are
closed.  Currently, they write comments containing
<a name="index-local-variable-lists-228"></a>local variable lists
for use in
<a name="index-Emacs-229"></a>Emacs. 
</p></blockquote></div>

<div class="defun">
&mdash; Inline function: void <b>beginfig</b> (<var>unsigned short i</var>)<var><a name="index-beginfig-230"></a></var><br>
<blockquote><p>Writes &ldquo;<code>beginfig(</code><var>i</var><code>)</code>&rdquo; to <code>out_stream</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Inline function: void <b>endfig</b> ([<var>unsigned short i = 0</var>])<var><a name="index-endfig-231"></a></var><br>
<blockquote><p>Writes &ldquo;<code>endfig()</code>&rdquo; to <code>out_stream</code>.  The argument <var>i</var>
is &ldquo;syntactic sugar&rdquo;;  it's ignored by <code>endfig()</code>,
but may help the user keep track of what figure is being ended. 
</p></blockquote></div>

<!-- shape.texi -->
<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
<div class="node">
<a name="Shape-Reference"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Transform-Reference">Transform Reference</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Input-and-Output">Input and Output</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">18 Shape Reference</h2>

<p><a name="index-Shape-232"></a>Class <code>Shape</code> is defined in <samp><span class="file">shapes.web</span></samp>.

   <p><code>Shape</code> is an <dfn>abstract class</dfn>, which means that
all of its member functions are pure virtual functions, and
that it's only used as a base class, i.e., no objects of type
<code>Shape</code> may be declared.

   <p>All of the &ldquo;drawable&rdquo; types in 3DLDF, <code>Point</code>,
<code>Path</code>, <code>Ellipse</code>, etc., are derived from <code>Shape</code>.

   <p>Deriving all of the drawable types from <code>Shape</code> makes it possible
to handle objects of different types in the same way.  This is
especially important in the <code>Picture</code> functions, where objects of
various types (but all derived from <code>Shape</code>) are accessed through
pointers to <code>Shape</code>.  See <a href="#Picture-Reference">Picture Reference</a>.

<ul class="menu">
<li><a accesskey="1" href="#Shape-Data-Members">Shape Data Members</a>
<li><a accesskey="2" href="#Shape-Operators">Shape Operators</a>
<li><a accesskey="3" href="#Copying-Shapes">Copying Shapes</a>
<li><a accesskey="4" href="#Modifying-Shapes">Modifying Shapes</a>
<li><a accesskey="5" href="#Affine-Transformations-for-Shapes">Affine Transformations for Shapes</a>
<li><a accesskey="6" href="#Applying-Transformations-to-Shapes">Applying Transformations to Shapes</a>
<li><a accesskey="7" href="#Clearing-Shapes">Clearing Shapes</a>
<li><a accesskey="8" href="#Querying-Shapes">Querying Shapes</a>
<li><a accesskey="9" href="#Showing-Shapes">Showing Shapes</a>
<li><a href="#Outputting-Shapes">Outputting Shapes</a>
</ul>

<div class="node">
<a name="Shape-Data-Members"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Shape-Operators">Shape Operators</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Shape-Reference">Shape Reference</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Shape-Reference">Shape Reference</a>

</div>

<h3 class="section">18.1 Data Members</h3>

<div class="defun">
&mdash; Protected static constants: signed short <b>DRAWDOT</b><var><a name="index-DRAWDOT-233"></a></var><br>
&mdash; : signed short <b>DRAW</b><var><a name="index-DRAW-234"></a></var><br>
&mdash; : signed short <b>FILL</b><var><a name="index-FILL-235"></a></var><br>
&mdash; : signed short <b>FILLDRAW</b><var><a name="index-FILLDRAW-236"></a></var><br>
&mdash; : signed short <b>UNDRAWDOT</b><var><a name="index-UNDRAWDOT-237"></a></var><br>
&mdash; : signed short <b>UNDRAW</b><var><a name="index-UNDRAW-238"></a></var><br>
&mdash; : signed short <b>UNFILL</b><var><a name="index-UNFILL-239"></a></var><br>
&mdash; : signed short <b>UNFILLDRAW</b><var><a name="index-UNFILLDRAW-240"></a></var><br>
<blockquote><p>Values used in the <code>output()</code> functions of the classes derived from
<code>Shape</code>.  For example, in <code>Path</code>, if the data member
<code>fill_draw_value</code> = <code>DRAW</code>, then the MetaPost command
<code>draw</code> is written to <code>out_stream</code> when that <code>Path</code> is
output. 
</p></blockquote></div>

<div class="node">
<a name="Shape-Operators"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Copying-Shapes">Copying Shapes</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Shape-Data-Members">Shape Data Members</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Shape-Reference">Shape Reference</a>

</div>

<h3 class="section">18.2 Operators</h3>

<div class="defun">
&mdash; Pure virtual function: Transform <b>operator*=</b> (<var>const Transform&amp; t</var>)<var><a name="index-operator_002a_003d-241"></a></var><br>
     </div>

<div class="node">
<a name="Copying-Shapes"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Modifying-Shapes">Modifying Shapes</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Shape-Operators">Shape Operators</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Shape-Reference">Shape Reference</a>

</div>

<h3 class="section">18.3 Copying</h3>

<div class="defun">
&mdash; <code>const</code> pure virtual function: Shape* <b>get_copy</b> (<var>void</var>)<var><a name="index-get_005fcopy-242"></a></var><br>
<blockquote><p>Copies an object, allocating memory on the free store for the copy,
and returns a pointer to <code>Shape</code> for accessing the copy.

        <p>Used in the drawing and filling functions for copying the <code>Shape</code>,
and putting a pointer to the copy onto the <code>vector&lt;Shape*&gt; shapes</code>
of the <code>Picture</code>. 
</p></blockquote></div>

<div class="node">
<a name="Modifying-Shapes"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Affine-Transformations-for-Shapes">Affine Transformations for Shapes</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Copying-Shapes">Copying Shapes</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Shape-Reference">Shape Reference</a>

</div>

<h3 class="section">18.4 Modifying</h3>

<div class="defun">
&mdash; Pure virtual function: bool <b>set_on_free_store</b> (<var>bool b = </var><code>true</code>)<var><a name="index-set_005fon_005ffree_005fstore-243"></a></var><br>
<blockquote><p>Sets the data member <code>on_free_store</code> to <var>b</var>.  All classes
derived from <code>Shape</code> must therefore also have a data member
<code>on_free_store</code>.

        <p>This function is used in the template function
<code>create_new&lt;</code><i>type</i><code>&gt;</code>. 
See <a href="#Dynamic-Allocation-of-Shapes">Dynamic Allocation of Shapes</a>, for more information.

     </blockquote></div>

<div class="node">
<a name="Affine-Transformations-for-Shapes"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Applying-Transformations-to-Shapes">Applying Transformations to Shapes</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Modifying-Shapes">Modifying Shapes</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Shape-Reference">Shape Reference</a>

</div>

<h3 class="section">18.5 Affine Transformations</h3>

<div class="defun">
&mdash; Pure virtual functions: Transform <b>rotate</b> (<var>const real x, const real y, const real z</var>)<var><a name="index-rotate-244"></a></var><br>
&mdash; : Transform <b>scale</b> (<var>real x, real y, real z</var>)<var><a name="index-scale-245"></a></var><br>
&mdash; : Transform <b>shear</b> (<var>real xy, real xz, real yx, real yz, real zx, real zy</var>)<var><a name="index-shear-246"></a></var><br>
&mdash; : Transform <b>shift</b> (<var>real x, real y, real z</var>)<var><a name="index-shift-247"></a></var><br>
&mdash; : Transform <b>rotate</b> (<var>const Point&amp; p0, const Point&amp; p1, const real r</var>)<var><a name="index-rotate-248"></a></var><br>
<blockquote><p>See <a href="#Affine-Transformations-for-Points">Point Reference; Affine Transformations</a>. 
</p></blockquote></div>

<div class="node">
<a name="Applying-Transformations-to-Shapes"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Clearing-Shapes">Clearing Shapes</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Affine-Transformations-for-Shapes">Affine Transformations for Shapes</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Shape-Reference">Shape Reference</a>

</div>

<h3 class="section">18.6 Applying Transformations</h3>

<div class="defun">
&mdash; Pure virtual function: void <b>apply_transform</b> (<var>void</var>)<var><a name="index-apply_005ftransform-249"></a></var><br>
<blockquote><p>Applies the <code>Transform</code> stored in the <code>transform</code> data member
of the <code>Points</code> belonging to the <code>Shape</code> to their
<code>world_coordinates</code>.  The <code>transforms</code> are subsequently reset
to the identity <code>Transform</code>. 
</p></blockquote></div>

<div class="node">
<a name="Clearing-Shapes"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Querying-Shapes">Querying Shapes</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Applying-Transformations-to-Shapes">Applying Transformations to Shapes</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Shape-Reference">Shape Reference</a>

</div>

<h3 class="section">18.7 Clearing</h3>

<div class="defun">
&mdash; Pure virtual function: void <b>clear</b> (<var>void</var>)<var><a name="index-clear-250"></a></var><br>
<blockquote><p>The precise definition of this function will depend on the nature of the
derived class.  In general, it will call the destructor on dynamically
allocated objects belonging to the <code>Shape</code>, and deallocate the
memory they occupied. 
</p></blockquote></div>

<div class="node">
<a name="Querying-Shapes"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Showing-Shapes">Showing Shapes</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Clearing-Shapes">Clearing Shapes</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Shape-Reference">Shape Reference</a>

</div>

<h3 class="section">18.8 Querying</h3>

<div class="defun">
&mdash; <code>const</code> pure virtual function: bool <b>is_on_free_store</b> (<var>void</var>)<var><a name="index-is_005fon_005ffree_005fstore-251"></a></var><br>
<blockquote><p>Returns <code>true</code> if the object was allocated on the free store,
otherwise <code>false</code>. 
</p></blockquote></div>

<div class="node">
<a name="Showing-Shapes"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Outputting-Shapes">Outputting Shapes</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Querying-Shapes">Querying Shapes</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Shape-Reference">Shape Reference</a>

</div>

<h3 class="section">18.9 Showing</h3>

<div class="defun">
&mdash; <code>const</code> pure virtual function: void <b>show</b> ([<var>string text = "", </var>[<var>char coords = 'w', </var>[<var>const bool do_persp = </var><code>true</code><var>, </var>[<var>const bool do_apply = </var><code>true</code><var>, </var>[<var>Focus* f = 0, </var>[<var>const unsigned short proj = 0, </var>[<var>const real factor = 1</var>]]]]]]])<var><a name="index-show-252"></a></var><br>
<blockquote><p>Prints information about an object to standard output. 
See the descriptions of <code>show()</code> for the classes derived from
<code>Shape</code> for more information. 
<!-- !! TO DO:  !! DESCRIBE ARGUMENTS!! -->
</p></blockquote></div>

<div class="node">
<a name="Outputting-Shapes"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Showing-Shapes">Showing Shapes</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Shape-Reference">Shape Reference</a>

</div>

<h3 class="section">18.10 Outputting</h3>

<div class="defun">
&mdash; Pure virtual function: void <b>output</b> (<var>void</var>)<var><a name="index-output-253"></a></var><br>
<blockquote><p>Called by <code>Picture::output()</code> for writing MetaPost code to
<code>out_stream</code> for a <code>Shape</code> pointed to by a pointer on the
<code>vector&lt;Shape*&gt; shapes</code> belonging to the <code>Picture</code>.  Such
a <code>Shape</code> will have been created by a drawing or filling
function. 
</p></blockquote></div>

<div class="defun">
&mdash; Pure virtual function: vector&lt;Shape*&gt; <b>extract</b> (<var>const Focus&amp; f, const unsigned short proj, real factor</var>)<var><a name="index-extract-254"></a></var><br>
<blockquote><p>Called in <code>Picture::output()</code>.  It determines whether a
<code>Shape</code> can be output.  If it can, and an <code>output()</code> function
for the type of the <code>Shape</code> exists, a <code>vector&lt;Shape*&gt;</code>
containing a pointer to the <code>Shape</code> is returned.

        <p>On the other
hand, it is possible to define a type derived from <code>Shape</code>, without
an <code>output()</code> function of its own, and not derived from a type that
has one.  It may then consist of one or more objects of types that do
have <code>output()</code> functions.  In this case, the <code>vector&lt;Shape*&gt;</code>
returned by <code>extract()</code> will contain pointers to all of these
subsidiary <code>Shapes</code>, and <code>Picture::output()</code> will treat them
as independent objects.  In particular, if any one of them cannot be
projected using the arguments passed to <code>Picture::output()</code>, this
will have no effect on whether the others are outputted or not.

        <p>Currently, there are no <code>Shapes</code> without an <code>output()</code>
function, either belonging to the class, or inherited.  However, it's
useful to be able to define <code>Shapes</code> in this way, so that they can
be tested without having to define an <code>output()</code> function first. 
</p></blockquote></div>

<div class="defun">
&mdash; Pure virtual function: bool <b>set_extremes</b> (<var>void</var>)<var><a name="index-set_005fextremes-255"></a></var><br>
<blockquote><p>Sets the values of <code>projective_extremes</code> for the <code>Shape</code>. 
This is needed in <code>Picture::output()</code> for determining the order in
which objects are output. 
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> pure virtual functions: real <b>get_minimum_z</b> (<var>void</var>)<var><a name="index-get_005fminimum_005fz-256"></a></var><br>
&mdash; : real <b>get_maximum_z</b> (<var>void</var>)<var><a name="index-get_005fmaximum_005fz-257"></a></var><br>
&mdash; : real <b>get_mean_z</b> (<var>void</var>)<var><a name="index-get_005fmean_005fz-258"></a></var><br>
<blockquote><p>These functions return the minimum, maximum, and mean z-value
respectively of the projected <code>Points</code> belonging to
the <code>Shape</code>, i.e., from <code>projective_extremes</code>.  The values for
the <code>Shapes</code> on the <code>Picture</code> are used for determining the
order in which they are output
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> pure virtual function: const valarray&lt;real&gt; <b>get_extremes</b> (<var>void</var>)<var><a name="index-get_005fextremes-259"></a></var><br>
<blockquote><p>Returns <code>projective_extremes</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Pure virtual function: void <b>suppress_output</b> (<var>void</var>)<var><a name="index-suppress_005foutput-260"></a></var><br>
<blockquote><p>Sets <code>do_output</code> to <code>false</code>.  This function is called in
<code>Picture::output()</code>, if a <code>Shape</code> on a <code>Picture</code> cannot
be output using the arguments passed to <code>Picture::output()</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Pure virtual function: void <b>unsuppress_output</b> (<var>void</var>)<var><a name="index-unsuppress_005foutput-261"></a></var><br>
<blockquote><p>Sets <code>do_output</code> to <code>true</code>.  Called in
<code>Picture::output()</code> after <code>output()</code> is called on the <code>Shapes</code>. 
This way, output of <code>Shapes</code> that couldn't be output when
<code>Picture::output()</code> was called with a particular set of arguments
won't necessarily be suppressed when
<code>Picture::output()</code> is called again with different arguments. 
</p></blockquote></div>

   <p>f<!-- transfor.texi -->

<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
<div class="node">
<a name="Transform-Reference"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Label-Reference">Label Reference</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Shape-Reference">Shape Reference</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">19 Transform Reference</h2>

<p><a name="index-Transform-262"></a>Class <code>Transform</code> is defined in <samp><span class="file">transfor.web</span></samp>. 
<code>Point</code> is a <code>friend</code> of <code>Transform</code>.

<ul class="menu">
<li><a accesskey="1" href="#Transform-Data-Members">Transform Data Members</a>
<li><a accesskey="2" href="#Transform-Global-Variables-and-Constants">Transform Global Variables and Constants</a>
<li><a accesskey="3" href="#Transform-Constructors">Transform Constructors </a>
<li><a accesskey="4" href="#Transform-Operators">Transform Operators</a>
<li><a accesskey="5" href="#Matrix-Inversion">Matrix Inversion</a>
<li><a accesskey="6" href="#Setting-Values-Transforms">Setting Values Transforms</a>
<li><a accesskey="7" href="#Querying-Transforms">Querying Transforms</a>
<li><a accesskey="8" href="#Returning-Information-for-Transforms">Returning Information for Transforms</a>
<li><a accesskey="9" href="#Showing-Transforms">Showing Transforms</a>
<li><a href="#Affine-Transformations-for-Transforms">Affine Transformations for Transforms</a>
<li><a href="#Alignment-with-an-Axis-for-Transforms">Alignment with an Axis for Transforms</a>
<li><a href="#Resetting-Transforms">Resetting Transforms</a>
<li><a href="#Cleaning-Transforms">Cleaning Transforms</a>
</ul>

<div class="node">
<a name="Transform-Data-Members"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Transform-Global-Variables-and-Constants">Transform Global Variables and Constants</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Transform-Reference">Transform Reference</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Transform-Reference">Transform Reference</a>

</div>

<h3 class="section">19.1 Data Members</h3>

<div class="defun">
&mdash; Private variable: Matrix <b>matrix</b><var><a name="index-matrix-263"></a></var><br>
<blockquote><p>A 4 X 4

        <p>matrix of <code>real</code> representing the actual transformation matrix. 
</p></blockquote></div>

<div class="node">
<a name="Transform-Global-Variables-and-Constants"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Transform-Constructors">Transform Constructors</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Transform-Data-Members">Transform Data Members</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Transform-Reference">Transform Reference</a>

</div>

<h3 class="section">19.2 Global Variables and Constants</h3>

<div class="defun">
&mdash; Variable: Transform <b>user_transform</b><var><a name="index-user_005ftransform-264"></a></var><br>
<blockquote><p>Currently has no function.  It is intended to be used for transforming
the coordinates of <code>Points</code> between the world coordinate system
(WCS) and a user coordinate system (UCS), when routines for managing
user coordinate systems are implemented. 
</p></blockquote></div>

<div class="defun">
&mdash; Constant: <code>const</code> Transform <b>INVALID_TRANSFORM</b><var><a name="index-INVALID_005fTRANSFORM-265"></a></var><br>
<blockquote><p>Every member of <code>matrix</code> in <code>INVALID_TRANSFORM</code> is
equal to <code>INVALID_REAL</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Constant: <code>const</code> Transform <b>IDENTITY_TRANSFORM</b><var><a name="index-IDENTITY_005fTRANSFORM-266"></a></var><br>
<blockquote><p>Homogeneous coordinates and <code>Transforms</code> are unchanged by
multiplication with <code>IDENTITY_TRANSFORM</code>. 
<code>matrix</code> is an identity matrix:
     <pre class="display">          1 0 0 0
          0 1 0 0
          0 0 1 0
          0 0 0 1
</pre>
        <p>See <a href="#Transforms">Transforms</a>. 
</p></blockquote></div>

<div class="node">
<a name="Transform-Constructors"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Transform-Operators">Transform Operators</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Transform-Global-Variables-and-Constants">Transform Global Variables and Constants</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Transform-Reference">Transform Reference</a>

</div>

<h3 class="section">19.3 Constructors</h3>

<div class="defun">
&mdash; Default constructor: void <b>Transform</b> (<var>void</var>)<var><a name="index-Transform-267"></a></var><br>
<blockquote><p>Creates a <code>Transform</code> containing the identity matrix. 
</p></blockquote></div>

<div class="defun">
&mdash; Constructor: void <b>Transform</b> (<var>real r</var>)<var><a name="index-Transform-268"></a></var><br>
<blockquote><p>Creates a <code>Transform</code> and sets all of the elements of <var>matrix</var>
to <var>r</var>.  Currently, this
constructor is never used, but who knows? Maybe someday it will be
useful for something. 
</p></blockquote></div>

<div class="defun">
&mdash; Constructor: void <b>Transform</b> (<var>real r0_0, real r0_1, real r2, real r0_2, real r0_3, real r1_0, real r1_1, real r1_2, real r1_3, real r2_0, real r2_1, real r2_2, real r2_3, real r3_0, real r3_1, real r3_2, real r3_3</var>)<var><a name="index-Transform-269"></a></var><br>
<blockquote><p>Each of the sixteen <code>real</code> arguments is
assigned to the corresponding element of <var>matrix</var>:
<code>matrix[0][0] = r0_0</code>, <code>matrix[0][1] = r0_1</code>, etc. 
Useful for specifying a transformation matrix completely. 
</p></blockquote></div>

<div class="node">
<a name="Transform-Operators"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Matrix-Inversion">Matrix Inversion</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Transform-Constructors">Transform Constructors</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Transform-Reference">Transform Reference</a>

</div>

<h3 class="section">19.4 Operators</h3>

<div class="defun">
&mdash; Assignment operator: Transform <b>operator=</b> (<var>const Transform&amp; t</var>)<var><a name="index-operator_003d-270"></a></var><br>
<blockquote><p>Sets <var>*this</var> to <var>t</var> and returns <var>t</var>.  Returning <var>*this</var>
would, of course, have exactly the same effect. 
</p></blockquote></div>

<div class="defun">
&mdash; Operator: real <b>operator*=</b> (<var>real r</var>)<var><a name="index-operator_002a_003d-271"></a></var><br>
<blockquote><p>Multiplication with assignment by a scalar. 
This operator multiplies each element
E
of <code>matrix</code> by
the scalar <var>r</var>. 
The return value is <code>r</code>.  This makes it possible to
chain invocations of this function:
For a_x, b_x, c_x, <small class="dots">...</small>, p_x in R
,
x in N

     <pre class="example">          Transform T0(a_0, b_0, c_0, d_0,
                       e_0, f_0, g_0, h_0,
                       i_0, j_0, k_0 l_0,
                       m_0, n_0, o_0, p_0);
          Transform T1(a_1, b_1, c_1, d_1,
                       e_1, f_1, g_1, h_1,
                       i_1, j_1, k_1 l_1,
                       m_1, n_1, o_1, p_1);
          Transform T2(a_2, b_2, c_2, d_2,
                       e_2, f_2, g_2, h_2,
                       i_2, j_2, k_2 l_2,
                       m_2, n_2, o_2, p_2);
          real r = 5;
</pre>
        <p>Let M_0, M_1, and M_2 stand for
<code>T0.matrix</code>, <code>T1.matrix</code>, and <code>T2.matrix</code>
respectively:

     <pre class="display">          M_0 =
          a_0 b_0 c_0 d_0
          e_0 f_0 g_0 h_0
          i_0 j_0 k_0 l_0
          m_0 m_0 o_0 p_0
          
          M_1 =
          a_1 b_1 c_1 d_1
          e_1 f_1 g_1 h_1
          i_1 j_1 k_1 l_1
          m_1 m_1 o_1 p_1
          
          M_2 =
          a_2 b_2 c_2 d_2
          e_2 f_2 g_2 h_2
          i_2 j_2 k_2 l_2
          m_2 m_2 o_2 p_2
</pre>
        <pre class="example">          T0 *= T1 *= T2 *= r;
</pre>
        <p>Now,<br>
     <pre class="display">          M_0 =
          5a_0 5b_0 5c_0 5d_0
          5e_0 5f_0 5g_0 5h_0
          5i_0 5j_0 5k_0 5l_0
          5m_0 5m_0 5o_0 5p_0
          
          M_1 =
          5a_1 5b_1 5c_1 5d_1
          5e_1 5f_1 5g_1 5h_1
          5i_1 5j_1 5k_1 5l_1
          5m_1 5m_1 5o_1 5p_1
          
          M_2 =
          5a_2 5b_2 5c_2 5d_2
          5e_2 5f_2 5g_2 5h_2
          5i_2 5j_2 5k_2 5l_2
          5m_2 5m_2 5o_2 5p_2
</pre>
        <p>This function is not currently used anywhere, but it may turn out to be
useful for something. 
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> operator: Transform <b>operator*</b> (<var>const real r</var>)<var><a name="index-operator_002a-272"></a></var><br>
<blockquote><p>Multiplication of a <code>Transform</code> by a scalar without assignment. 
The return value is a <code>Transform</code>
A. 
If <code>this.matrix</code> has elements
E_T, then <code>A.matrix</code> has elements E_A such that
E_A = r * E_T

        <p>for all E. 
</p></blockquote></div>

<div class="defun">
&mdash; Operator: Transform <b>operator*=</b> (<var>const Transform&amp; t</var>)<var><a name="index-operator_002a_003d-273"></a></var><br>
<blockquote><p>Performs matrix multiplication on <code>matrix</code> and
<code>t.matrix</code>.  The result is assigned to <code>matrix</code>. 
<var>t</var> is returned, <em>not</em> <code>*this</code>!  This makes it possible to
chain invocations of this function:

     <pre class="example">          Transform a;
          a.shift(1, 1, 1);
          Transform b;
          b.rotate(0, 90);
          Transform c;
          c.shear(5, 4);
          Transform d;
          d.scale(3, 4, 5);
</pre>
        <p>Let a_m, b_m, and c_m stand for
<code>a.matrix</code>, <code>b.matrix</code>, <code>c.matrix</code>, and <code>d.matrix</code>
respectively:
     <pre class="display">          a_m =
          1        0        0        0
          0        1        0        0
          0        0        1        0
          1        1        1        1
          
          b_m =
           0.5      0.5        0.707      0
           0.146    0.854     -0.5        0
          -0.854    0.146      0.5        0
           0        0          0          1
          
          c_m =
           1       12       14        0
          10        1       15        0
          11       13        1        0
           0        0        0        1
          
          d_m =
          3        0        0        0
          0        4        0        0
          0        0        5        0
          0        0        0        1
</pre>
        <p><code>a *= b *= c *= d;</code><br>
<code>a</code>, <code>b</code>, and <code>c</code> are transformed by <code>d</code>, which
remains unchanged.

     <p class="noindent">Now,
     <pre class="display">          a_m =
          3        0        0        0
          0        4        0        0
          0        0        5        0
          3        4        5        1
          
          b_m =
           1.5     2       3.54  0
          -0.439   3.41   -2.5   0
          -2.56    0.586   2.5   0
           0       0       0     1
          
          c_m =
           3       48       70        0
          30        4       75        0
          33       52        5        0
           0        0        0        1
</pre>
        <p>d_m is unchanged.

        </blockquote></div>

<div class="defun">
&mdash; <code>const</code> operator: Transform <b>operator*</b> (<var>const Transform t</var>)<var><a name="index-operator_002a-274"></a></var><br>
<blockquote><p>Multiplication of a <code>Transform</code> by another <code>Transform</code> without
assignment. 
The return value is a <code>Transform</code> whose <code>matrix</code> contains
values that are the result of the matrix multiplication of
<code>matrix</code> and <code>t.matrix</code>. 
</p></blockquote></div>

<div class="node">
<a name="Matrix-Inversion"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Setting-Values-Transforms">Setting Values Transforms</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Transform-Operators">Transform Operators</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Transform-Reference">Transform Reference</a>

</div>

<h3 class="section">19.5 Matrix Inversion</h3>

<div class="defun">
&mdash; <code>const</code> function: Transform <b>inverse</b> (<var>void</var>)<var><a name="index-inverse-275"></a></var><br>
&mdash; Function: Transform <b>inverse</b> ([<var>bool assign = </var><code>false</code>])<var><a name="index-inverse-276"></a></var><br>
<blockquote><p>Returns a <code>Transform</code> <code>T</code> with a <code>T.matrix</code> that is the
inverse of <code>matrix</code>.  If <var>assign</var>==<code>true</code>, then
<code>matrix</code> is set to its inverse.

        <p>In the <code>const</code> version, <code>matrix</code> remains unchanged. 
The second should only ever be called with <code>true</code> as its
<var>assign</var> argument.  If you're tempted call <code>inverse(false)</code>,
you might as well just leave out the argument, which issues a warning
message, and calls the <code>const</code> version. 
</p></blockquote></div>

<div class="node">
<a name="Setting-Values-Transforms"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Querying-Transforms">Querying Transforms</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Matrix-Inversion">Matrix Inversion</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Transform-Reference">Transform Reference</a>

</div>

<h3 class="section">19.6 Setting Values</h3>

<div class="defun">
&mdash; Function: void <b>set_element</b> (<var>const unsigned short row, const unsigned short col, real r</var>)<var><a name="index-set_005felement-277"></a></var><br>
<blockquote><p>Sets the element of <code>matrix</code> indicated by the arguments to <var>r</var>.

     <pre class="example">          Transform t;
          t.set_element(0, 2, -3.45569);
          t.show("t:");
          -| t:
                1       0   -3.46       0
                0       1       0       0
                0       0       1       0
                0       0       0       1
</pre>
        </blockquote></div>

<div class="node">
<a name="Querying-Transforms"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Returning-Information-for-Transforms">Returning Information for Transforms</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Setting-Values-Transforms">Setting Values Transforms</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Transform-Reference">Transform Reference</a>

</div>

<h3 class="section">19.7 Querying</h3>

<div class="defun">
&mdash; Function: bool <b>is_identity</b> (<var>void</var>)<var><a name="index-is_005fidentity-278"></a></var><br>
<blockquote><p>Returns <code>true</code> if <code>*this</code> is the identity <code>Transform</code>,
otherwise <code>false</code>.  This function has both a <code>const</code> and a
non-<code>const</code> version.  In the non-<code>const</code> version,
<code>clean()</code> is called on <code>*this</code> before comparing the elements of
<code>matrix</code> with 1 (for the main diagonal) and 0 (for the other
elements).  In the <code>const</code> version, <code>*this</code> is copied,
<code>clean()</code> is called on the copy, and the elements of the copy's
<code>matrix</code> are compared with 0 and 1. 
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> function: real <b>get_element</b> (<var>const unsigned short row, const unsigned short col</var>)<var><a name="index-get_005felement-279"></a></var><br>
<blockquote><p>Returns the value stored in the element of <code>matrix</code> indicated by the arguments.

     <pre class="example">          Transform t;
          t.shift(1, 2, 3);
          t.scale(2.5, -1.2, 4);
          t.rotate(30, 15, 60);
          t.show("t:");
          -| t:
              1.21    2.09   0.647       0
             0.822  -0.654    0.58       0
             -2.18   0.224    3.35       0
             -3.69    1.45    11.8       1
          cout &lt;&lt; t.get_element(2, 1);
          -| 0.224
</pre>
        </blockquote></div>

<div class="node">
<a name="Returning-Information-for-Transforms"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Showing-Transforms">Showing Transforms</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Querying-Transforms">Querying Transforms</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Transform-Reference">Transform Reference</a>

</div>

<h3 class="section">19.8 Returning Information</h3>

<div class="defun">
&mdash; Static function: real <b>epsilon</b> (<var>void</var>)<var><a name="index-epsilon-280"></a></var><br>
<blockquote><p>Returns the positive <code>real</code> value of smallest magnitude
\epsilon which an element of a <code>Transform</code> should
contain.  An element of a <code>Transform</code> may also contain
-\epsilon.

        <p>The value \epsilon is used for in the
function <code>clean()</code> (see <a href="#Cleaning-Transforms">Transform Reference; Cleaning</a>). 
It will also be used for comparing <code>Transforms</code>, when I've added
the equality operator <code>Transform::operator==()</code>.

        <p><code>epsilon()</code> returns different values, depending on whether
<code>real</code> is <code>float</code> or <code>double</code>:
If <code>real</code> is <code>float</code> (the default), <code>epsilon()</code>
returns 0.00001. 
If <code>real</code> is <code>double</code>, it returns 0.000000001.

        <p><b>Please note</b>:  I haven't tested whether 0.000000001 is a good
value yet, so users should be aware of this if they set <code>real</code> to
<code>double</code>!<a rel="footnote" href="#fn-29" name="fnd-29"><sup>29</sup></a>
The way to test this is to transform two different
<code>Transforms</code>
t_1 and t_2
using different rotations in such a way that the end
result should be the same for both <code>Transforms</code>. 
Let \epsilon stand for the value returned by <code>epsilon()</code>. 
If for all sets of
corresponding elements E_1 and E_2 of t_1 and
t_2, ||E_1| - |E_2|| \le \epsilon, then
\epsilon is a good value. 
<!-- !! TO DO: -->
It will be easier to test this when I've added
<code>Transform::operator==()</code>.

        <p>Rotation causes a significant loss of precision to due to the use of the
<code>sin()</code> and <code>cos()</code> functions.  Therefore, neither
<code>Transform::epsilon()</code> nor <code>Point::epsilon()</code>
(see <a href="#Returning-Information-for-Points">Point Reference; Returning Information</a>) can be as small as I'd like them to be.  If they are two
small, operations that test for equality of <code>Transforms</code> and
<code>Points</code> will return <code>false</code> for objects that should be equal. 
</p></blockquote></div>

<div class="node">
<a name="Showing-Transforms"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Affine-Transformations-for-Transforms">Affine Transformations for Transforms</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Returning-Information-for-Transforms">Returning Information for Transforms</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Transform-Reference">Transform Reference</a>

</div>

<h3 class="section">19.9 Showing</h3>

<div class="defun">
&mdash; <code>const</code> function: void <b>show</b> ([<var>string text = ""</var>])<var><a name="index-show-281"></a></var><br>
<blockquote><p>If the optional argument <var>text</var> is used, and is not the empty
<code>string</code> (<var>""</var>), <var>text</var> is printed on a line of its own to
the standard output first.  Otherwise, <code>"Transform:"</code> is printed
on a line of its own to the standard output. 
Then, the elements of <code>matrix</code> are printed to standard output.

     <pre class="example">          Transform t;
          t.show("t:");
          -| t:
                1       0       0       0
                0       1       0       0
                0       0       1       0
                0       0       0       1
          t.scale(1, 2, 3);
          t.shift(1, 1, 1);
          t.rotate(90, 90, 90);
          t.show("t:");
          -| t:
                0       0       1       0
                0       2       0       0
               -3       0       0       0
               -1       1       1       1
</pre>
        </blockquote></div>

<div class="node">
<a name="Affine-Transformations-for-Transforms"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Alignment-with-an-Axis-for-Transforms">Alignment with an Axis for Transforms</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Showing-Transforms">Showing Transforms</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Transform-Reference">Transform Reference</a>

</div>

<h3 class="section">19.10 Affine Transformations</h3>

<p>The affine transformation functions use their arguments to create a new
<code>Transform</code> <code>t</code> (local to the function) representing the
appropriate transformation. Then, <code>*this</code> is multiplied by <code>t</code>
and <code>t</code> is returned. 
Returning <code>t</code> instead of <code>*this</code> makes it possible to put the
affine transformation function at the end of a chain of invocations of
<code>Transform::operator*=()</code>:

<pre class="example">     Transform t0, t1, t2, t3;
     ...
     t0 *= t1 *= t2 *= t3.scale(2, 3.5, 9);
</pre>
   <p><code>t0</code>, <code>t1</code>, and <code>t2</code> are all multiplied by the
<code>Transform</code> with
<pre class="display">     <code>matrix</code> =
     2   0    0  0
     0   3.5  0  0
     0   0    9  0
     0   0    0  1
</pre>
   <p>representing the scaling operation, <em>not</em> <code>t3</code>, which may
represent a combination of transformations.

<div class="defun">
&mdash; Function: Transform <b>scale</b> (<var>real x, </var>[<var>real y = 1, </var>[<var>real z = 1</var>]])<var><a name="index-scale-282"></a></var><br>
<blockquote><p>Creates a <code>Transform t</code> representing the scaling operation locally,
multiplies <code>*this</code> by <code>t</code>, and returns <code>t</code>. 
A <code>Transform</code> representing scaling only, when applied to a
<code>Point p</code>, will cause its x-coordinate to be multiplied by
<var>x</var>, its y-coordinate to be multiplied by <var>y</var>, and its
z-coordinate to be multiplied by <var>z</var>.

     <pre class="example">          <code>Transform t;</code>
          <code>t.scale(</code><var>x</var><code>, </code><var>y</var><code>, </code><var>z</var><code>);</code>
</pre>
        <pre class="display">          &rArr; <code>t.matrix</code> =
          x 0 0 0
          0 y 0 0
          0 0 z 0
          0 0 0 1
</pre>
        <pre class="example">          Transform t;
          t.scale(12.5, 20, 1.3);
          t.show("t:");
          -| t:
             12.5       0       0       0
                0      20       0       0
                0       0     1.3       0
                0       0       0       1
</pre>
        </blockquote></div>

<div class="defun">
&mdash; Function: Transform <b>shear</b> (<var>real xy, </var>[<var>real xz = 0, </var>[<var>real yx = 0, </var>[<var>real yz = 0, </var>[<var>real zx = 0, </var>[<var>real zy = 0</var>]]]]])<var><a name="index-shear-283"></a></var><br>
<blockquote><p>Creates a <code>Transform t</code> representing the shearing operation locally,
multiplies <code>*this</code> by <code>t</code>, and returns <code>t</code>.

        <p>When applied to a <code>Point</code>, shearing causes each coordinate to be
modified according to the values of the other coordinates and the
arguments to <code>shear</code>:

     <pre class="example">          Point p(x,y,z);
          Transform t;
          t.shear(a, b, c, d, e, f);
          p *= t;
</pre>
        <pre class="display">          &rArr; p = ((x + ay + bz), (y + cx + dz), (z + ex + fy))
</pre>
        <pre class="example">          Transform t;
          t.shear(2, 3, 4, 5, 6, 7);
          t.show("t:");
          -| t:
                1       4       6       0
                2       1       7       0
                3       5       1       0
                0       0       0       1
</pre>
        </blockquote></div>

<div class="defun">
&mdash; Function: Transform <b>shift</b> (<var>real x, </var>[<var>real y = 0, </var>[<var>real z = 0</var>]])<var><a name="index-shift-284"></a></var><br>
&mdash; Function: Transform <b>shift</b> (<var>const Point&amp; p</var>)<var><a name="index-shift-285"></a></var><br>
<blockquote>
        <p>These functions create a <code>Transform t</code> representing the shifting
operation locally, multiplies <code>*this</code> by <code>t</code>, and returns <code>t</code>.

        <p>The version with the argument <code>const Point&amp;</code> <var>p</var>
passes the updated x, y, and z-coordinates of <var>p</var> (from
<code>world_coordinates</code>) to the
version with three <code>real</code> arguments.

        <p>When a <code>Transform</code> representing a single shifting operation only
is applied to a <code>Point</code>, the <var>x</var>,
<var>y</var>, and <var>z</var> arguments are added to the corresponding
coordinates of the <code>Point</code>:

     <pre class="example">          Point p(x,y,z);
          Transform t;
          t.shift(a, b, c);
          p *= t;
</pre>
        <pre class="display">          &rArr; p = (x + a, y + b, z + c)
</pre>
        </blockquote></div>

<div class="defun">
&mdash; Function: Transform <b>shift_times</b> (<var>real x, </var>[<var>real y = 1, </var>[<var>real z = 1</var>]])<var><a name="index-shift_005ftimes-286"></a></var><br>
<blockquote><p>Multiplies the corresponding elements of <code>matrix</code> by
the <code>real</code> arguments, i.e.,
<code>matrix[3][0]</code> is multiplied by <var>x</var>,
<code>matrix[3][1]</code> is multiplied by <var>y</var>, and
<code>matrix[3][2]</code> is multiplied by <var>z</var>.  Returns <code>*this</code>.

        <p>Ordinary shifting is additive, so a special function is needed to
multiply the elements of <code>matrix</code> responsible for shifting. 
The effect of <code>shift_times()</code> is to modify a <code>Transform</code>
representing a shifting operation such that the direction of the shift
is maintained, while changing the distance.

        <p>If the <code>Transform</code> represents other operations in addition to
shifting, e.g., scaling and/or shearing, the effect of
<code>shift_times()</code> may be unpredictable.<a rel="footnote" href="#fn-30" name="fnd-30"><sup>30</sup></a>

     <pre class="example">          Transform t;
          t.shift(1, 2, 3);
</pre>
        <pre class="display">          &rArr; <code>t.matrix</code> =
          1 0 0 0
          0 1 0 0
          0 0 1 0
          1 2 3 1
</pre>
        <pre class="example">          t.shift_times(2, 2, 2);
</pre>
        <pre class="display">          &rArr; <code>t.matrix</code> =
          1 0 0 0
          0 1 0 0
          0 0 1 0
          2 4 6 1
</pre>
        <pre class="example">          Rectangle r[4];
          r[0].set(origin, 1, 1, 90);
          r[3] = r[2] = r[1] = r[0];
          Transform t;
          t.shift(1.5, 1.5);
          r[0] *= t;
          r[0].draw();
          t.shift_times(1.5, 1.5);
          r[1] *= t;
          r[1].draw();
          t.shift_times(1.5, 1.5);
          r[2] *= t;
          r[2].draw();
          t.shift_times(1.5, 1.5);
          r[3] *= t;
          r[3].draw();
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF73.png"
alt="[Figure 73. Not displayed.]" 
/>
<br>
<br>
Fig. 73. 
<br>
</p>

     <pre class="example">          Cuboid c(origin, 1, 1, 1);
          c.draw();
          Transform t;
          t.rotate(30, 30, 30);
          t.shift(1, 0, 1);
          c *= t;
          c.draw();
          t.shift_times(1.5, 0, 1.5);
          c *= t;
          c.draw();
          t.shift_times(1.5, 0, 1.5);
          c *= t;
          c.draw();
          t.shift_times(1.5, 0, 1.5);
          c *= t;
          c.draw();
          t.shift_times(1.5, 0, 1.5);
          c *= t;
          c.draw();
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF74.png"
alt="[Figure 74. Not displayed.]" 
/>
<br>
<br>
Fig. 74. 
<br>
</p>

        </blockquote></div>

<div class="defun">
&mdash; Function: Transform <b>rotate</b> (<var>real x, </var>[<var>real y = 0, </var>[<var>real z = 0</var>]])<var><a name="index-rotate-287"></a></var><br>
<blockquote><p>Rotation around the main axes. 
Creates a <code>Transform t</code> representing the rotation,
multiplies <code>*this</code> by <code>t</code>, and returns <code>t</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: Transform <b>rotate</b> (<var>Point p0, Point p1, </var>[<var>const real angle = 180</var>])<var><a name="index-rotate-288"></a></var><br>
<blockquote><p>Rotation around an arbitrary axis.  The <code>Point</code> arguments represent
the end points of the axis, and <var>angle</var> is the angle of rotation. 
Since 180 degrees
 rotation is needed so often, 180 is the default for
<var>angle</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: Transform <b>rotate</b> (<var>const Path&amp; p, </var>[<var>const real angle = 180</var>])<var><a name="index-rotate-289"></a></var><br>
<blockquote><p>Rotation around an arbitrary axis.  <code>Path</code> argument. 
The <code>Path</code> <var>p</var> must be linear, i.e., <code>p.is_linear()</code> must
return <code>true</code>.  See <a href="#Querying-Paths">Path Reference; Querying</a>. 
</p></blockquote></div>

<div class="node">
<a name="Alignment-with-an-Axis-for-Transforms"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Resetting-Transforms">Resetting Transforms</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Affine-Transformations-for-Transforms">Affine Transformations for Transforms</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Transform-Reference">Transform Reference</a>

</div>

<h3 class="section">19.11 Alignment with an Axis</h3>

<div class="defun">
&mdash; Function: Transform <b>align_with_axis</b> (<var>Point p0, Point p1, </var>[<var>char axis = 'z'</var>])<var><a name="index-align_005fwith_005faxis-290"></a></var><br>
<blockquote><p>Returns the <code>Transform</code> that would align the line through <var>p0</var>
and <var>p1</var> with the major axis denoted by the <var>axis</var> argument. 
The default is the z-axis.  This function is used in the functions that
find intersections.

     <pre class="example">          Point P0(1, 1, 1);
          Point P1(2, 3, 4);
          P0.draw(P1);
          P0.dotlabel("$P_0$");
          P1.dotlabel("$P_1$");
          Transform t;
          t.align_with_axis(P0, P1, 'z');
          P0 *= P1 *= t;
          t.show("t:");
          -| t:
               0.949  -0.169   0.267       0
                   0   0.845   0.535       0
              -0.316  -0.507   0.802       0
              -0.632  -0.169    -1.6       1
          P0.show("P0:");
          -| P0: (0, 0, 0)
          P1.show("P1:");
          -| P1: (0, 0, 3.74)
</pre>
        <p>The following example shows how <code>align_with_axis()</code> can be used for
putting plane figures into a
major plane.

     <pre class="example">          default_focus.set(2, 3, -10, 2, 3, 10, 10);
          Circle c(origin, 3, 75, 25, 6);
          c.shift(2, 3);
          c.draw();
          Point n = c.get_normal();
          n.shift(c.get_center());
          Transform t;
          t.align_with_axis(c.get_center(), n, 'y');
          t.show("t:");
          -| t:
            0.686   0.379  -0.621       0
            0.543     0.3   0.784       0
            0.483  -0.875       0       0
               -3   -1.66   -1.11       1
          n *= c *= t;
          c.draw();
          c.show("c:");
          -| c:
          fill_draw_value == 0
          (1.31, 0, -0.728) .. (1.49, 0, -0.171) ..
          (1.44, 0, 0.413) .. (1.17, 0, 0.933) ..
          (0.728, 0, 1.31) .. (0.171, 0, 1.49) ..
          (-0.413, 0, 1.44) .. (-0.933, 0, 1.17) ..
          (-1.31, 0, 0.728) .. (-1.49, 0, 0.171) ..
          (-1.44, 0, -0.413) .. (-1.17, 0, -0.933) ..
          (-0.728, 0, -1.31) .. (-0.171, 0, -1.49) ..
          (0.413, 0, -1.44) .. (0.933, 0, -1.17) .. cycle;
          n.show("n:");
          -| n: (0, 1, 0)
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF75.png"
alt="[Figure 75. Not displayed.]" 
/>
<br>
<br>
Fig. 75. 
<br>
</p>

     </blockquote></div>

<div class="node">
<a name="Resetting-Transforms"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Cleaning-Transforms">Cleaning Transforms</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Alignment-with-an-Axis-for-Transforms">Alignment with an Axis for Transforms</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Transform-Reference">Transform Reference</a>

</div>

<h3 class="section">19.12 Resetting</h3>

<div class="defun">
&mdash; Function: void <b>reset</b> (<var>void</var>)<var><a name="index-reset-291"></a></var><br>
<blockquote><p>Resets <var>matrix</var> to the identity matrix. 
</p></blockquote></div>

<div class="node">
<a name="Cleaning-Transforms"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Resetting-Transforms">Resetting Transforms</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Transform-Reference">Transform Reference</a>

</div>

<h3 class="section">19.13 Cleaning</h3>

<div class="defun">
&mdash; Function: void <b>clean</b> (<var>void</var>)<var><a name="index-clean-292"></a></var><br>
<blockquote><p>Sets elements in <var>matrix</var> whose absolute values are
&lt; <code>epsilon()</code> to 0. 
</p></blockquote></div>

<!-- label.texi -->
<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
<div class="node">
<a name="Label-Reference"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Picture-Reference">Picture Reference</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Transform-Reference">Transform Reference</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">20 Label Reference</h2>

<p><a name="index-Label-293"></a>Class <code>Label</code> is defined in <samp><span class="file">pictures.web</span></samp>. 
<code>Point</code> and <code>Picture</code> are <code>friends</code> of <code>Label</code>.

   <p>Labels can be included in drawings by using the <code>label()</code> and
<code>dotlabel()</code> functions, which are currently defined for the classes
<code>Point</code> and <code>Path</code>, and the classes derived from them. 
See <a href="#Labelling-Points">Point Reference; Labelling</a>, and
See <a href="#Labelling-Paths">Path Reference; Labelling</a>. 
They are currently not defined for <code>Solid</code>, and its derived classes. 
I plan to add them for <code>Solid</code> soon.

   <p>Users will normally
never need to declare objects of type <code>Label</code>, access its data
members or call its member functions directly.

   <p>When <code>label()</code> or <code>dotlabel()</code> is invoked, one or more <code>Labels</code> is
allocated dynamically and pointers to the new <code>Labels</code> are placed
onto the <code>vector&lt;Label*&gt; labels</code> of a <code>Picture</code>:
<code>current_picture</code>, by default.  There are no explicitly defined
constructors for <code>Label</code>, nor is it intended that <code>Labels</code>
ever be created in any way other than through <code>label()</code> or
<code>dotlabel()</code>.  When a <code>Picture</code> is copied, the <code>Labels</code> are
copied, too, and when a <code>Picture</code> is cleared (using
<code>Picture::clear()</code>) or destroyed, the <code>Labels</code> are deallocated
and destroyed.

<ul class="menu">
<li><a accesskey="1" href="#Label-Data-Members">Label Data Members</a>
<li><a accesskey="2" href="#Copying-Labels">Copying Labels</a>
<li><a accesskey="3" href="#Outputting-Labels">Outputting Labels</a>
</ul>

<div class="node">
<a name="Label-Data-Members"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Copying-Labels">Copying Labels</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Label-Reference">Label Reference</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Label-Reference">Label Reference</a>

</div>

<h3 class="section">20.1 Data Members</h3>

<div class="defun">
&mdash; Private variable: Point* <b>pt</b><var><a name="index-pt-294"></a></var><br>
<blockquote><p>A pointer to the <code>Point</code> representing the location of the
<code>Label</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Private variable: bool <b>dot</b><var><a name="index-dot-295"></a></var><br>
<blockquote><p><code>true</code> if the label should be dotted, otherwise
<code>false</code>.

        <p><code>dot</code> will be <code>false</code>, if the label was generated
by a call to <code>label()</code> with the &ldquo;<code>dot</code>&rdquo; argument
<code>false</code> (the default), <code>true</code>, if
the label was generated by a call to <code>dotlabel()</code>,
or to <code>label()</code> with the &ldquo;<code>dot</code>&rdquo; argument
<code>true</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Private variable: string <b>text</b><var><a name="index-text-296"></a></var><br>
<blockquote><p>The text of the label. 
<var>text</var> is always put between &ldquo;<code>btex</code>&rdquo; and &ldquo;<code>etex</code>&rdquo; in
the MetaPost code, so that TeX will be used to format the labels. In
particular, this means that TeX's math mode can be used.  However,
double backslashes must be used instead of single backslashes, in order
that single backslashes be written to <code>out_stream</code>.

     <pre class="example">          Point P(1, 1, 2);
          origin.drawarrow(P);
          P.label("$\\vec{P}$");
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF76.png"
alt="[Figure 76. Not displayed.]" 
/>
<br>
<br>
Fig. 76. 
<br>
</p>

        </blockquote></div>

<div class="defun">
&mdash; Private variable: string <b>position</b><var><a name="index-position-297"></a></var><br>
<blockquote><p>The position of the text with respect to
<code>*pt</code>.  Valid values are as in MetaPost:
&ldquo;top&rdquo;, &ldquo;bot&rdquo; (bottom), &ldquo;lft&rdquo; (left), &ldquo;rt&rdquo;
(right), &ldquo;ulft&rdquo; (upper left),
&ldquo;llft&rdquo; (lower left), &ldquo;urt&rdquo; (upper right),
&ldquo;lrt&rdquo; (lower right). 
</p></blockquote></div>

<div class="defun">
&mdash; Public static variable: bool <b>DO_LABELS</b><var><a name="index-DO_005fLABELS-298"></a></var><br>
<blockquote><p>Enables or disables creation
of <code>Labels</code>.  If <code>true</code>, <code>label</code>
and <code>dotlabel()</code> cause <code>Labels</code> to be
created and put onto a <code>Picture</code>.  If
<code>false</code>, they are not.  Note that it is also
possible to suppress output of existing
<code>Labels</code> when outputting a <code>Picture</code>. 
</p></blockquote></div>

<div class="node">
<a name="Copying-Labels"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Outputting-Labels">Outputting Labels</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Label-Data-Members">Label Data Members</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Label-Reference">Label Reference</a>

</div>

<h3 class="section">20.2 Copying</h3>

<div class="defun">
&mdash; <code>const</code> Function: Label* <b>get_copy</b> (<var>void</var>)<var><a name="index-get_005fcopy-299"></a></var><br>
<blockquote><p>Creates a copy of the <code>Label</code> and returns a pointer to the copy. 
Called in <code>Picture::operator=()</code> and <code>Picture::operator+=()</code>
where <code>Pictures</code> are copied. 
Users should never need to call this function directly. 
See <a href="#Picture-Operators">Picture Reference; Operators</a>.

        <p>This function dynamically allocates a new
<code>Label</code> and a new <code>Point</code> within the <code>Label</code>, and copies
the <code>strings</code> from <code>*this</code> to the new <code>Label</code>.  The
standard library functions for <code>strings</code> take care of the
allocation for the <code>string</code> members of <code>Label</code>. 
</p></blockquote></div>

<div class="node">
<a name="Outputting-Labels"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Copying-Labels">Copying Labels</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Label-Reference">Label Reference</a>

</div>

<h3 class="section">20.3 Outputting</h3>

<div class="defun">
&mdash; Function: void <b>output</b> (<var>const Focus&amp; f, const unsigned short proj, real factor, const Transform&amp; t</var>)<var><a name="index-output-300"></a></var><br>
<blockquote><p>Writes MetaPost code for the labels to <code>out_stream</code>. 
It is called in <code>Picture::output()</code>
(see <a href="#Outputting-Pictures">Picture Reference; Outputting</a>). 
Users should never need to call this function directly.

        <p>When <code>Picture::output()</code> is
invoked, the MetaPost code for <code>Labels</code> is written to <code>out_stream</code>
after the code for the drawing and filling commands.  This prevents the
<code>Labels</code> from being covered up.  However, they can still be covered
by other <code>Labels</code>, or by <code>Shapes</code> or <code>Labels</code> from
subsequent invocations of <code>Picture::output()</code> within the same
figure (see <a href="#I_002fO-Functions">I/O Functions</a>, for descriptions of <code>beginfig() and
endfig()</code>). 
</p></blockquote></div>

<!-- picture.texi -->
<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
<div class="node">
<a name="Picture-Reference"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Point-Reference">Point Reference</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Label-Reference">Label Reference</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">21 Picture Reference</h2>

<p><a name="index-Picture-301"></a>Class <code>Picture</code> is defined in <samp><span class="file">pictures.web</span></samp>.

<ul class="menu">
<li><a accesskey="1" href="#Picture-Data-Members">Picture Data Members</a>
<li><a accesskey="2" href="#Picture-Global-Variables">Picture Global Variables</a>
<li><a accesskey="3" href="#Picture-Constructors">Picture Constructors</a>
<li><a accesskey="4" href="#Picture-Operators">Picture Operators</a>
<li><a accesskey="5" href="#Affine-Transformations-for-Pictures">Affine Transformations for Pictures</a>
<li><a accesskey="6" href="#Modifying-Pictures">Modifying Pictures</a>
<li><a accesskey="7" href="#Showing-Pictures">Showing Pictures</a>
<li><a accesskey="8" href="#Outputting-Pictures">Outputting Pictures</a>
</ul>

<div class="node">
<a name="Picture-Data-Members"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Picture-Global-Variables">Picture Global Variables</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Picture-Reference">Picture Reference</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Picture-Reference">Picture Reference</a>

</div>

<h3 class="section">21.1 Data Members</h3>

<div class="defun">
&mdash; Private variable: Transform <b>transform</b><var><a name="index-transform-302"></a></var><br>
<blockquote><p>Applied to the <code>Shapes</code> on the <code>Picture</code> when the latter is
output.  It is initialized as the identity <code>Transform</code>, and can be
modified by the transformation functions, by
<code>Picture::operator*=(const Transform&amp;)</code>
(see <a href="#Picture-Operators">Picture Reference; Operators</a>), and by
<code>Picture::set_transform()</code>
(see <a href="#Modifying-Pictures">Picture Reference; Modifying</a>). 
</p></blockquote></div>

<div class="defun">
&mdash; Private variable: vector&lt;Shape*&gt; <b>shapes</b><var><a name="index-shapes-303"></a></var><br>
<blockquote><p>Contains pointers to the <code>Shapes</code> on the <code>Picture</code>. 
When a drawing or filling function is invoked for a <code>Shape</code>, a copy
is dynamically allocated and a pointer to the copy is placed onto
<code>shapes</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Private variable: vector&lt;Label*&gt; <b>labels</b><var><a name="index-labels-304"></a></var><br>
<blockquote><p>Contains pointers to the <code>Labels</code> on the <code>Picture</code>.  When a
<code>Point</code> is labelled, either directly or through a call to
<code>label()</code> or <code>dotlabel()</code> for another type of
<code>Shape</code><a rel="footnote" href="#fn-31" name="fnd-31"><sup>31</sup></a>,
a <code>Label</code> is dynamically allocated, the <code>Point</code> is copied to
<code>*Label::pt</code>, and a pointer to the <code>Label</code> is placed onto
<code>labels</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Private variable: bool <b>do_labels</b><var><a name="index-do_005flabels-305"></a></var><br>
<blockquote><p>Used for enabling or disabling output of <code>Labels</code> when outputting a
<code>Picture</code>.  The default value is <code>true</code>.  It is set to
<code>false</code> by using <code>suppress_labels()</code> and can be reset to
<code>true</code> by using <code>unsuppress_labels()</code>. 
See <a href="#Picture-Output-Functions">Picture Reference; Output Functions</a>.

        <p>Often, when a <code>Picture</code> is copied, transformed, and output again in
a single figure, it's undesirable to have the <code>Labels</code> output again
in their new positions.  To avoid this, use <code>suppress_labels()</code>
after outputting the <code>Picture</code> the first time. 
</p></blockquote></div>

<div class="node">
<a name="Picture-Global-Variables"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Picture-Constructors">Picture Constructors</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Picture-Data-Members">Picture Data Members</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Picture-Reference">Picture Reference</a>

</div>

<h3 class="section">21.2 Global Variables</h3>

<div class="defun">
&mdash; Variable: Variable <b>Picture</b><var> current_picture<a name="index-Picture-306"></a></var><br>
<blockquote><p>The <code>Picture</code> used as the default by the drawing and filling
functions. 
</p></blockquote></div>

<div class="node">
<a name="Picture-Constructors"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Picture-Operators">Picture Operators</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Picture-Global-Variables">Picture Global Variables</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Picture-Reference">Picture Reference</a>

</div>

<h3 class="section">21.3 Constructors</h3>

<!-- !! Change text for all default constructors, as below. -->
<div class="defun">
&mdash; Default constructor: void <b>Picture</b> (<var>void</var>)<var><a name="index-Picture-307"></a></var><br>
<blockquote><p>Creates an empty <code>Picture</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Copy constructor: void <b>Picture</b> (<var>const Picture&amp; p</var>)<var><a name="index-Picture-308"></a></var><br>
<blockquote><p>Creates a copy of <code>Picture</code> <var>p</var>.

     <pre class="example">          Circle c(origin, 3);
          c.draw();
          current_picture.output(Projections::PARALLEL_X_Z);
          Picture new_picture(current_picture);
          new_picture.shift(2);
          new_picture.output(Projections::PARALLEL_X_Z);
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF77.png"
alt="[Figure 77. Not displayed.]" 
/>
<br>
<br>
Fig. 77. 
<br>
</p>

        </blockquote></div>

<div class="node">
<a name="Picture-Operators"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Affine-Transformations-for-Pictures">Affine Transformations for Pictures</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Picture-Constructors">Picture Constructors</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Picture-Reference">Picture Reference</a>

</div>

<h3 class="section">21.4 Operators</h3>

<div class="defun">
&mdash; Assignment operator: void <b>operator=</b> (<var>const Picture&amp; p</var>)<var><a name="index-operator_003d-309"></a></var><br>
<blockquote><p>Makes <code>*this</code> a copy of <var>p</var>, destroying the old contents of <code>*this</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Operator: void <b>operator+=</b> (<var>const Picture&amp; p</var>)<var><a name="index-operator_002b_003d-310"></a></var><br>
<blockquote><p>Adds the contents of <var>p</var> to <code>*this</code>.  <var>p</var> remains unchanged. 
</p></blockquote></div>

<div class="defun">
&mdash; Operator: void <b>operator+=</b> (<var>Shape* s</var>)<var><a name="index-operator_002b_003d-311"></a></var><br>
<blockquote><p>Puts <var>s</var> onto <code>shapes</code>.  Note that the pointer <var>s</var>
itself is put onto <code>shapes</code>, so any allocation and copying must be
performed first.  This is a low-level function that users normally won't
need to use directly. 
</p></blockquote></div>

<div class="defun">
&mdash; Operator: void <b>operator+=</b> (<var>Label* label</var>)<var><a name="index-operator_002b_003d-312"></a></var><br>
<blockquote><p>Puts <var>label</var> onto <code>labels</code>. 
Note that the pointer <var>label</var>
itself is put onto <code>labels</code>, so any allocation and copying must be
performed first.  This is a low-level function that users normally won't
need to invoke directly. 
</p></blockquote></div>

<div class="defun">
&mdash; Operator: Transform <b>operator*=</b> (<var>const Transform&amp; t</var>)<var><a name="index-operator_002a_003d-313"></a></var><br>
<blockquote><p>Multiplies <code>transform</code> by <var>t</var>.  This has the effect of
transforming all of the <code>Shapes</code> on <code>shapes</code> and all of
the <code>Points</code> of the <code>Labels</code> on <code>labels</code> by <var>t</var> upon
output.

     <pre class="example">          Transform t;
          t.rotate(0, 0, 180);
          t.shift(3);
          Reg_Polygon pl(origin, 5, 3, 90);
          pl.draw();
          pl.label();
          current_picture.output(Projections::PARALLEL_X_Y);
          current_picture *= t;
          current_picture.output(Projections::PARALLEL_X_Y);
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF78.png"
alt="[Figure 78. Not displayed.]" 
/>
<br>
<br>
Fig. 78. 
<br>
</p>

        </blockquote></div>

<div class="node">
<a name="Affine-Transformations-for-Pictures"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Modifying-Pictures">Modifying Pictures</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Picture-Operators">Picture Operators</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Picture-Reference">Picture Reference</a>

</div>

<h3 class="section">21.5 Affine Transformations</h3>

<p>The functions in this section all operate on the <code>transform</code> data
member of the <code>Picture</code> and return a <code>Transform</code> representing the
transformation&mdash;<em>not</em> <code>transform</code>.

<div class="defun">
&mdash; Function: Transform <b>scale</b> (<var>real x, </var>[<var>real y = 1, </var>[<var>real z = 1</var>]])<var><a name="index-scale-314"></a></var><br>
<blockquote><p>Performs <code>transform.scale(</code><var>x</var><code>, </code><var>y</var><code>, </code><var>z</var><code>)</code> and returns
the result.  This has the effect of scaling
all of the elements of <code>shapes</code> and <code>labels</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: Transform <b>shift</b> (<var>real x, </var>[<var>real y = 0, </var>[<var>real z = 0</var>]])<var><a name="index-shift-315"></a></var><br>
<blockquote><p>Performs <code>transform.shift(</code><var>x</var><code>, </code><var>y</var><code>, </code><var>z</var><code>)</code> and returns
the result.  This has the effect of shifting
all of the <code>Shapes</code> and <code>Labels</code> on the <code>Picture</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: Transform <b>shift</b> (<var>const Point&amp; p</var>)<var><a name="index-shift-316"></a></var><br>
<blockquote><p>Performs <code>transform.shift(</code><var>p</var><code>)</code> and returns
the result.  This has the effect of shifting
all of the <code>Shapes</code> and <code>Labels</code> on the <code>Picture</code> by the
x, y, and z-coordinates of <var>p</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: Transform <b>rotate</b> (<var>const real x, </var>[<var>const real y = 0, </var>[<var>const real z = 0</var>]])<var><a name="index-rotate-317"></a></var><br>
<blockquote><p>Performs <code>transform.rotate(</code><var>x</var><code>, </code><var>y</var><code>, </code><var>z</var><code>)</code> and returns
the result.  This has the effect of rotating
all of the elements of <code>shapes</code> and <code>labels</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: Transform <b>rotate</b> (<var>const Point&amp; p0, const Point&amp; p1, </var>[<var>const real angle = 180</var>])<var>;<a name="index-rotate-318"></a></var><br>
<blockquote><p>Performs <code>transform.rotate(</code><var>p0</var><code>, </code><var>p1</var><code>, </code><var>angle</var><code>)</code> and returns
the result.  This has the effect of rotating
all of the elements of <code>shapes</code> and <code>labels</code> about the line
from p_0 to p_1. 
</p></blockquote></div>

<div class="node">
<a name="Modifying-Pictures"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Showing-Pictures">Showing Pictures</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Affine-Transformations-for-Pictures">Affine Transformations for Pictures</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Picture-Reference">Picture Reference</a>

</div>

<h3 class="section">21.6 Modifying</h3>

<div class="defun">
&mdash; Function: void <b>clear</b> (<var>void</var>)<var><a name="index-clear-319"></a></var><br>
<blockquote><p>Destroys the <code>Shapes</code> and <code>Labels</code> on the
<code>Picture</code> and removes all the <code>Shape</code> pointers from
<code>shapes</code> and the <code>Label</code> pointers from <code>labels</code>. 
All dynamically allocated objects are deallocated, namely the
<code>Shapes</code>, the <code>Labels</code>, and the <code>Points</code> belonging to the
<code>Labels</code>. <code>transform</code> is reset to the identity <code>Transform</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: void <b>reset_transform</b> (<var>void</var>)<var><a name="index-reset_005ftransform-320"></a></var><br>
<blockquote><p>Resets <code>transform</code> to the identity <code>Transform</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: Transform <b>set_transform</b> (<var>const Transform&amp; t</var>)<var><a name="index-set_005ftransform-321"></a></var><br>
<blockquote><p>Sets <code>transform</code> to <code>t</code> and returns <code>t</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: void <b>kill_labels</b> (<var>void</var>)<var><a name="index-kill_005flabels-322"></a></var><br>
<blockquote><p>Removes the <code>Labels</code> from the <code>Picture</code>. 
</p></blockquote></div>

<div class="node">
<a name="Showing-Pictures"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Outputting-Pictures">Outputting Pictures</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Modifying-Pictures">Modifying Pictures</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Picture-Reference">Picture Reference</a>

</div>

<h3 class="section">21.7 Showing</h3>

<div class="defun">
&mdash; Function: void <b>show</b> ([<var>string text = "", </var>[<var>bool stop = </var><code>false</code>]])<var><a name="index-show-323"></a></var><br>
<blockquote><p>Prints information about the <code>Picture</code> to standard output.

        <p><code>show()</code> first prints the string <code>"Showing Picture:"</code> to
standard output, followed by <var>text</var>, if the latter is not the empty
string (<code>""</code>)<a rel="footnote" href="#fn-32" name="fnd-32"><sup>32</sup></a>. 
Then it calls <code>transform.show()</code>, prints the size of <code>shapes</code> and
<code>labels</code>, and the value of <code>do_labels</code>.  Then it calls
<code>show()</code> on each of the <code>Shapes</code> on <code>shapes</code>.  Since
<code>show()</code> is a <code>virtual</code> function in <code>class Shape</code>, the
appropriate <code>show()</code> is called for each <code>Shape</code>, i.e.,
<code>Point::show()</code> for a <code>Point</code>, <code>Path::show()</code> for a
<code>Path</code>, etc.  If <var>stop</var> is <code>true</code>, execution stops and the
user is requested to type &lt;RETURN&gt; to continue.  Finally, the string
<code>"Done showing picture."</code> is printed to standard output. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: void <b>show_transform</b> ([<var>string text = "Transform from Picture:"</var>])<var><a name="index-show_005ftransform-324"></a></var><br>
<blockquote><p>Calls <code>transform.show()</code>, passing <var>text</var> as the argument to the
latter function. 
</p></blockquote></div>

<div class="node">
<a name="Outputting-Pictures"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Showing-Pictures">Showing Pictures</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Picture-Reference">Picture Reference</a>

</div>

<h3 class="section">21.8 Outputting</h3>

<ul class="menu">
<li><a accesskey="1" href="#Picture-Output-Namespaces">Picture Output Namespaces</a>
<li><a accesskey="2" href="#Picture-Output-Functions">Picture Output Functions</a>
</ul>

<div class="node">
<a name="Picture-Output-Namespaces"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Picture-Output-Functions">Picture Output Functions</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Outputting-Pictures">Outputting Pictures</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Outputting-Pictures">Outputting Pictures</a>

</div>

<h4 class="subsection">21.8.1 Namespaces</h4>

<ul class="menu">
<li><a accesskey="1" href="#Namespace-Projections">Namespace Projections</a>
<li><a accesskey="2" href="#Namespace-Sorting">Namespace Sorting</a>
</ul>

<div class="node">
<a name="Namespace-Projections"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Namespace-Sorting">Namespace Sorting</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Picture-Output-Namespaces">Picture Output Namespaces</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Picture-Output-Namespaces">Picture Output Namespaces</a>

</div>

<h5 class="subsubsection">21.8.1.1 Namespace Projections</h5>

<p>The namespace <code>Projections</code> is defined in <samp><span class="file">pictures.web</span></samp>.

<div class="defun">
&mdash; Constant: const unsigned short <b>PERSP</b><var><a name="index-PERSP-325"></a></var><br>
&mdash; Constant: const unsigned short <b>PARALLEL_X_Y</b><var><a name="index-PARALLEL_005fX_005fY-326"></a></var><br>
&mdash; Constant: const unsigned short <b>PARALLEL_X_Z</b><var><a name="index-PARALLEL_005fX_005fZ-327"></a></var><br>
&mdash; Constant: const unsigned short <b>PARALLEL_Z_Y</b><var><a name="index-PARALLEL_005fZ_005fY-328"></a></var><br>
&mdash; Constant: const unsigned short <b>AXON</b><var><a name="index-AXON-329"></a></var><br>
&mdash; Constant: const unsigned short <b>ISO</b><var><a name="index-ISO-330"></a></var><br>
<blockquote><p>These constants can be used for the <var>projection</var> argument in
<code>Picture::output()</code>, described in
<a href="#Picture-Output-Functions">Picture Reference; Outputting; Functions</a>,
below. 
</p></blockquote></div>

<div class="node">
<a name="Namespace-Sorting"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Namespace-Projections">Namespace Projections</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Picture-Output-Namespaces">Picture Output Namespaces</a>

</div>

<h5 class="subsubsection">21.8.1.2 Namespace Sorting</h5>

<p>The namespace <code>Sorting</code> is defined in <samp><span class="file">pictures.web</span></samp>.

<div class="defun">
&mdash; Constant: const unsigned short <b>NO_SORT</b><var><a name="index-NO_005fSORT-331"></a></var><br>
&mdash; Constant: const unsigned short <b>MAX_Z</b><var><a name="index-MAX_005fZ-332"></a></var><br>
&mdash; Constant: const unsigned short <b>MIN_Z</b><var><a name="index-MIN_005fZ-333"></a></var><br>
&mdash; Constant: const unsigned short <b>MEAN_Z</b><var><a name="index-MEAN_005fZ-334"></a></var><br>
<blockquote><p>These constants can be used for the <var>sort_value</var> argument in
<code>Picture::output()</code>, described in
<a href="#Picture-Output-Functions">Picture Reference; Outputting; Functions</a>,
below. 
</p></blockquote></div>

<div class="node">
<a name="Picture-Output-Functions"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Picture-Output-Namespaces">Picture Output Namespaces</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Outputting-Pictures">Outputting Pictures</a>

</div>

<h4 class="subsection">21.8.2 Output Functions</h4>

<div class="defun">
&mdash; Function: void <b>output</b> (<var>const Focus&amp; f, </var>[<var>const unsigned short projection = </var><code>Projections::PERSP</code><var>, </var>[<var>real factor = 1, </var>[<var>const unsigned short sort_value = </var><code>Sorting::MAX_Z</code><var>, </var>[<var>const bool do_warnings = </var><code>true</code><var>, </var>[<var>const real min_x_proj = -40, </var>[<var>const real max_x_proj = 40, </var>[<var>const real min_y_proj = -40, </var>[<var>const real max_y_proj = 40, </var>[<var>const real min_z_proj = -40, </var>[<var>const real max_z_proj = 40</var>]]]]]]]]]])<var><a name="index-output-335"></a></var><br>
&mdash; Function: void <b>output</b> ([<var>const unsigned short projection = </var><code>Projections::PERSP</code><var>, </var>[<var>real factor = 1, </var>[<var>const unsigned short sort_value = </var><code>Sorting::MAX_Z</code><var>, </var>[<var>const bool do_warnings = </var><code>true</code><var>, </var>[<var>const real min_x_proj = -40, </var>[<var>const real max_x_proj = 40, </var>[<var>const real min_y_proj = -40, </var>[<var>const real max_y_proj = 40, </var>[<var>const real min_z_proj = -40, </var>[<var>const real max_z_proj = 40</var>]]]]]]]]]])<var><a name="index-output-336"></a></var><br>
<blockquote><p>These functions create a two-dimensional projection of the objects on the
<code>Picture</code> and write MetaPost code to <code>out_stream</code> for
drawing it.

        <p>The arguments:

          <dl>
<dt><code>const Focus&amp;</code> <var>f</var><dd>The <code>Focus</code> used for projection, also known as the center of
projection, or the camera. 
This argument is used in the first version only. 
The second version, without a <code>const Focus&amp;</code> <var>f</var> argument,
merely calls the first version and passes it the global variable
<code>default_focus</code> as its first argument, so <code>default_focus</code> is
effectively the default for <var>f</var>.  Defining two versions in this way makes it
possible to call
<code>output()</code> with <code>projection</code> as its first (and possibly only)
argument.  If instead, <var>f</var> were an optional argument with
<code>default_focus</code> as its default, this wouldn't have been possible.  It
also wouldn't be possible to have <var>f</var> have a default in the first
version, and to retain the second version, because the compiler wouldn't
be able to resolve a call to <code>output()</code> with no arguments.

          <br><dt><code>const unsigned short</code> <var>projection</var><dd>Default: <code>Projections::PERSP</code>. 
The type of projection.  Valid values are <code>const unsigned shorts</code>
defined in <code>namespace Projections</code>
(see <a href="#Namespace-Projections">Namespace Projections</a>):<br>
<code>PERSP</code> for the perspective projection,<br>
<code>PARALLEL_X_Y</code> for parallel projection onto the x-y plane,<br>
<code>PARALLEL_X_Z</code> for parallel projection onto the x-z plane, and<br>
<code>PARALLEL_Z_Y</code> for parallel projection onto the z-y plane. 
%% !! TO DO:
I plan to add isometric and axionometric projections soon.

          <br><dt><code>real</code> <var>factor</var><dd>Default: 1. 
Passed from <code>output()</code> to
<code>extract()</code> and from there to <code>project()</code>.  The
<code>world_coordinates</code> of the <code>Points</code> that are projected are
multiplied by <var>factor</var>, which enlarges or shrinks the projected
image without altering the <code>Picture</code> itself.  <var>factor</var>
is probably most useful for parallel projections, where the <code>Focus</code>
<var>f</var> isn't used;  with a perspective projection, the parameters of
the <code>Focus</code> can be used to influence the size of the projected
image.

          <br><dt><code>const unsigned short</code> <var>sort_value</var><dd>Default: <code>Sorting::MAX_Z</code>. 
The value used should be one of the constants defined in
<code>namespace Sorting</code>, See <a href="#Namespace-Sorting">Namespace Sorting</a>, above. 
If <code>MAX_Z</code> (the default) is used, the <code>Shapes</code> on the
<code>Picture</code> are sorted according to the maximum z-value of the
<code>projective_extremes</code> of the <code>Points</code> belonging to the
<code>Shape</code>.  If <code>MIN_Z</code> is used,
they are sorted according to the minimum z-value, and
if <code>MEAN_Z</code> is used, they are sorted according to the  mean of
the maximum and minimum z-values.  If <code>NO_SORT</code> is used, the
<code>Shapes</code> are output in the order in which they were put onto the
<code>Picture</code>.

          <p>The surface hiding algorithm
implemented in 3DLDF is quite primitive, and doesn't always work right. 
For <code>Shapes</code> that intersect, it <em>can't</em> work right. 
<!-- !! TO DO: -->
I plan to work on improving the surface hiding algorithm soon.  This is
not a trivial problem.  To solve it properly, each <code>Shape</code> on a
<code>Picture</code> must be tested for intersection with every other
<code>Shape</code> on the <code>Picture</code>.  If two or more <code>Shapes</code> intersect,
they must be broken up into smaller objects until there are no more
intersections.  I don't expect to have a proper solution soon, but I
expect that I will be able to make some improvements. 
See <a href="#Surface-Hiding">Surface Hiding</a>.

          <br><dt><code>const bool</code> <var>do_warnings</var><dd>Default: <code>true</code>.  If <code>true</code>, <code>output()</code> issues warnings
to <code>stderr</code> (standard error output) if a <code>Shape</code> cannot be
output because it lies
outside the limits set by the following arguments.  Sometimes, a user
may only want to project a portion of a <code>Picture</code>, in which case
such warnings would not be helpful.  In this case, <var>do_warnings</var>
should be <code>false</code>.

          <br><dt><code>const real</code> <var>min_x_proj</var><dd>Default: -40.  The minimum x-coordinate of the projection of a
<code>Shape</code> such that the <code>Shape</code> can be output. 
If <code>projective_coordinates[0]</code> of any <code>Point</code> on a
<code>Shape</code> is less than <var>min_x_proj</var>, the <code>Shape</code> will not be
projected at all.

          <br><dt><code>const real</code> <var>max_x_proj</var><dd>Default: 40. 
The maximum x-coordinate of the projection of a
<code>Shape</code> such that the <code>Shape</code> can be output. 
If <code>projective_coordinates[0]</code> of any <code>Point</code> on a
<code>Shape</code> is greater than <var>max_x_proj</var>, the <code>Shape</code> will not be
projected at all.

          <br><dt><code>const real</code> <var>min_y_proj</var><dd>Default: -40. 
The minimum y-coordinate of the projection of a
<code>Shape</code> such that the <code>Shape</code> can be output. 
If <code>projective_coordinates[1]</code> of any <code>Point</code> on a
<code>Shape</code> is less than <var>min_y_proj</var>, the <code>Shape</code> will not be
projected at all.

          <br><dt><code>const real</code> <var>max_y_proj</var><dd>Default: 40. 
The maximum y-coordinate of the projection of a
<code>Shape</code> such that the <code>Shape</code> can be output. 
If <code>projective_coordinates[1]</code> of any <code>Point</code> on a
<code>Shape</code> is greater than <var>max_y_proj</var>, the <code>Shape</code> will not be
projected at all.

          <br><dt><code>const real</code> <var>min_z_proj</var><dd>Default: -40. 
The minimum z-coordinate of the projection of a
<code>Shape</code> such that the <code>Shape</code> can be output. 
If <code>projective_coordinates[2]</code> of any <code>Point</code> on a
<code>Shape</code> is less than <var>min_z_proj</var>, the <code>Shape</code> will not be
projected at all.

          <br><dt><code>const real</code> <var>max_z_proj</var><dd>Default: 40. 
The maximum z-coordinate of the projection of a
<code>Shape</code> such that the <code>Shape</code> can be output. 
If <code>projective_coordinates[2]</code> of any <code>Point</code> on a
<code>Shape</code> is greater than <var>max_z_proj</var>, the <code>Shape</code> will not be
projected at all. 
</dl>
        </p></blockquote></div>

<div class="defun">
&mdash; Function: void <b>suppress_labels</b> (<var>void</var>)<var><a name="index-suppress_005flabels-337"></a></var><br>
<blockquote><p>Suppresses output of the <code>Labels</code> on a <code>Picture</code> when
<code>output()</code> is called.  This can be useful when a <code>Picture</code> is
output, transformed, and output again, one or more times, in a single figure. 
Usually, it will not be desirable to have the <code>Labels</code> output more
than once.

        <p>In [next figure]
, <code>current_picture</code> is output three times, but the
<code>Labels</code> on it are only output once.

     <pre class="example">          Ellipse e(origin, 3, 5);
          e.label();
          e.draw();
          Point pt0(-3);
          Point pt1(3);
          pt0.draw(pt1);
          Point pt2(0, 0, -4);
          Point pt3(0, 0, 4);
          pt2.draw(pt3);
          pt0.dotlabel("0", "lft");
          pt1.dotlabel("1", "rt");
          pt2.dotlabel("2", "bot");
          pt3.dotlabel("3");
          current_picture.output(Projections::PARALLEL_X_Z);
          current_picture.rotate(0, 60);
          current_picture.suppress_labels();
          current_picture.output(Projections::PARALLEL_X_Z);
          current_picture.rotate(0, 60);
          current_picture.output(Projections::PARALLEL_X_Z);
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF79.png"
alt="[Figure 79. Not displayed.]" 
/>
<br>
<br>
Fig. 79. 
<br>
</p>

        </blockquote></div>

<div class="defun">
&mdash; Inline function: void <b>unsuppress_labels</b> (<var>void</var>)<var><a name="index-unsuppress_005flabels-338"></a></var><br>
<blockquote><p>Sets <code>do_labels</code> to <code>true</code>.  If a <code>Picture</code> contains
<code>Labels</code>, <code>unsuppress_labels()</code> ensures that they will be
output, when <code>Picture::output()</code> is called, so long as there is no
intervening call to <code>suppress_labels()</code> or <code>kill_labels()</code>. 
</p></blockquote></div>

<!-- point.texi -->
<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
<div class="node">
<a name="Point-Reference"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Focus-Reference">Focus Reference</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Picture-Reference">Picture Reference</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">22 Point Reference</h2>

<p><a name="index-Point-339"></a>Class <code>Point</code> is defined in <samp><span class="file">points.web</span></samp>. 
It is derived from <code>Shape</code> using <code>protected</code> derivation. 
The function
<code>Transform Transform::align_with_axis(Point, Point, char)</code>
is a <code>friend</code> of <code>Point</code>.

<ul class="menu">
<li><a accesskey="1" href="#Point-Data-Members">Point Data Members</a>
<li><a accesskey="2" href="#Point-Typedefs-and-Utility-Structures">Point Typedefs and Utility Structures</a>
<li><a accesskey="3" href="#Point-Global-Constants-and-Variables">Point Global Constants and Variables</a>
<li><a accesskey="4" href="#Point-Constructors-and-Setting-Functions">Point Constructors and Setting Functions</a>
<li><a accesskey="5" href="#Point-Destructor">Point Destructor</a>
<li><a accesskey="6" href="#Point-Operators">Point Operators</a>
<li><a accesskey="7" href="#Copying-Points">Copying Points</a>
<li><a accesskey="8" href="#Querying-Points">Querying Points</a>
<li><a accesskey="9" href="#Returning-Coordinates">Returning Coordinates</a>
<li><a href="#Returning-Information-for-Points">Returning Information for Points</a>
<li><a href="#Modifying-Points">Modifying Points</a>
<li><a href="#Affine-Transformations-for-Points">Affine Transformations for Points</a>
<li><a href="#Applying-Transformations-to-Points">Applying Transformations to Points</a>
<li><a href="#Projecting-Points">Projecting Points</a>
<li><a href="#Vector-Operations">Vector Operations</a>
<li><a href="#Points-and-Lines">Points and Lines</a>
<li><a href="#Point-Intersections">Point Intersections</a>
<li><a href="#Point-Drawing-Functions">Point Drawing Functions</a>
<li><a href="#Labelling-Points">Labelling Points</a>
<li><a href="#Showing-Points">Showing Points</a>
<li><a href="#Outputting-Points">Outputting Points</a>
</ul>

<div class="node">
<a name="Point-Data-Members"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Point-Typedefs-and-Utility-Structures">Point Typedefs and Utility Structures</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Point-Reference">Point Reference</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Point-Reference">Point Reference</a>

</div>

<h3 class="section">22.1 Data Members</h3>

<div class="defun">
&mdash; Private variable: valarray&lt;real&gt; <b>world_coordinates</b><var><a name="index-world_005fcoordinates-340"></a></var><br>
<blockquote><p>The set of four homogeneous coordinates x, y, z, and w that represent
the position of the <code>Point</code> within 3DLDF's global coordinate
system. 
</p></blockquote></div>

<div class="defun">
&mdash; Private variable: valarray&lt;real&gt; <b>projective_coordinates</b><var><a name="index-projective_005fcoordinates-341"></a></var><br>
<blockquote><p>The set of four homogeneous coordinates x, y, z, and w that represent
the position of the <em>projection</em> of the <code>Point</code> onto a
two-dimensional plane for output.  The x and y values are used in the
MetaPost code written to <code>out_stream</code>.  The z value is used
in the hidden surface algorithm (which is currently rather primitive and
doesn't work very well.  see <a href="#Surface-Hiding">Surface Hiding</a>).  The w value can be
!= 1
,
depending on the projection used;  the perspective projection is
non-affine, so w can take on other values. 
</p></blockquote></div>

<div class="defun">
&mdash; Private variable: valarray&lt;real&gt; <b>user_coordinates</b><var><a name="index-user_005fcoordinates-342"></a></var><br>
<blockquote><p>A set of four homogeneous coordinates x, y, z, and w.

        <p><code>user_coordinates</code> currently has no function. 
It is intended for use in user-defined coordinate systems.  For example,
a coordinate system could be defined with respect to a plane surface
that isn't parallel to one of the major planes.  Such a coordinate
system would be convenient for drawing on the plane.  A <code>Transform</code>
would make it possible to convert between <code>user_coordinates</code> and
<code>world_coordinates</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Private variable: valarray&lt;real&gt; <b>view_coordinates</b><var><a name="index-view_005fcoordinates-343"></a></var><br>
<blockquote><p>A set of four homogeneous coordinates x, y, z, and w.

        <p><code>view_coordinates</code> currently has no function.  It may be useful for
displaying multiple views in an interactive graphical user interface, or
for some other purpose. 
</p></blockquote></div>

<div class="defun">
&mdash; Private variable: Transform <b>transform</b><var><a name="index-transform-344"></a></var><br>
<blockquote><p>Contains the product of the transformations applied to the <code>Point</code>. 
When <code>apply_transform()</code> is called for the <code>Point</code>, directly
or indirectly, the <code>world_coordinates</code> are updated and
<code>transform</code> is reset to the identity <code>Transform</code>. 
See <a href="#Applying-Transformations-to-Points">Point Reference; Applying Transformations</a>. 
</p></blockquote></div>

<div class="defun">
&mdash; Private variable: bool <b>on_free_store</b><var><a name="index-on_005ffree_005fstore-345"></a></var><br>
<blockquote><p>Returns <code>on_free_store</code>.  This should only be <code>true</code> if
the <code>Point</code> was dynamically allocated on the
free store.  <code>Points</code> should only ever be dynamically
allocated by <code>create_new&lt;Point&gt;()</code>, which
uses <code>set_on_free_store()</code> to set <code>on_free_store</code>
to <code>true</code>. 
See <a href="#Point-Constructors-and-Setting-Functions">Point Reference; Constructors and Setting Functions</a>, and
<a href="#Modifying-Points">Point Reference; Modifying</a>. 
</p></blockquote></div>

<div class="defun">
&mdash; Private variable: signed short <b>drawdot_value</b><var><a name="index-drawdot_005fvalue-346"></a></var><br>
<blockquote><p>Used to tell <code>Point::output()</code> what MetaPost drawing command
(<code>drawdot()</code> or <code>undrawdot()</code>) to write to <code>out_stream</code>
when outputting a <code>Point</code>.

        <p>When <code>drawdot()</code> or <code>undrawdot()</code> is called on a <code>Point</code>,
the <code>Point</code> is copied and put onto the <code>Picture</code>, which was
passed to
<code>drawdot()</code> or <code>undrawdot()</code> as an argument
(<code>current_picture</code> by
default).  <code>drawdot_value</code> is either set to <code>Shape::DRAWDOT</code>
or <code>Shape::UNDRAWDOT</code> on the copy; <code>this-&gt;drawdot</code> is
not set. 
</p></blockquote></div>

<div class="defun">
&mdash; Private variable: const Color* <b>drawdot_color</b><var><a name="index-drawdot_005fcolor-347"></a></var><br>
<blockquote><p>Used to tell <code>Point::output()</code> what string to write to <code>out_stream</code>
for the color when outputting a <code>Point</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Private variable: string <b>pen</b><var><a name="index-pen-348"></a></var><br>
<blockquote><p>Used to tell <code>Point::output()</code> what string to write to <code>out_stream</code>
for the pen when outputting a <code>Point</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Protected variable: valarray&lt;real&gt; <b>projective_extremes</b><var><a name="index-projective_005fextremes-349"></a></var><br>
<blockquote><p>A set of 6 <code>real</code> values indicating the maximum and minumum x, y,
and
z-coordinates of the <code>Point</code>. 
Used for determining whether a <code>Point</code> is projectable with the
parameters of a particular invocation of <code>Picture::output()</code>. 
See <a href="#Outputting-Pictures">Picture Reference; Outputting</a>.

        <p>Obviously, the maxima and minima
will always be the same for a <code>Point</code>, namely the x, y, and
z-coordinates. 
However, <code>set_extremes()</code> and <code>get_extremes()</code>,
the functions that access <code>projective_extremes</code>, are pure virtual
functions in <code>class Shape</code>,
so the <code>Point</code> versions must be consistent with the versions for
other types derived from <code>Shape</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Protected variable: bool <b>do_output</b><var><a name="index-do_005foutput-350"></a></var><br>
<blockquote><p><code>true</code> by default.  Set to <code>false</code> by <code>suppress_output()</code>,
which is called on a <code>Shape</code> by <code>Picture::output()</code>, if the
<code>Shape</code> is not projectable. 
See <a href="#Outputting-Pictures">Picture Reference; Outputting</a>. 
</p></blockquote></div>

<div class="defun">
&mdash; Public static variable: string <b>measurement_units</b><var><a name="index-measurement_005funits-351"></a></var><br>
<blockquote><p>The unit of measurement for all distances within a <code>Picture</code>,
<code>"cm"</code> (for centimeters) by default.  The x and y-coordinates of
the  projected <code>Points</code> are always followed by <code>measurement_units</code>
when they're written to <code>out_stream</code>.  Unlike Metafont, units of
measurement cannot be indicated for individual coordinates.  Nor can
<code>measurement_unit</code> be changed within a <code>Picture</code>.

        <p>When I write an input routine, I plan to make it behave the way Metafont
does, however, 3DLDF will probably also convert all of the input values
to a standard unit, as Metafont does. 
</p></blockquote></div>

<div class="defun">
&mdash; Public static variable: real <b>CURR_Y</b><var><a name="index-CURR_005fY-352"></a></var><br>
&mdash; Public static variable: real <b>CURR_Z</b><var><a name="index-CURR_005fZ-353"></a></var><br>
<blockquote><p>Default values for the y and z-coordinate of <code>Points</code>, when the
x-coordinate, or the x and y-coordinates only are specified. 
Both are 0 by default.

        <p>These values only used in the constructor and setting function taking
one required <code>real</code> value (for the x-coordinate), and two optional
<code>real</code> values (for the y and z-coordinates).  They are not used
when a <code>Point</code> is declared using the
default constructor with no arguments.  In this case, the x, y, and
z-coordinates will all be 0. 
See <a href="#Point-Constructors-and-Setting-Functions">Point Reference; Constructors and Setting Functions</a>.

     <pre class="example">          Point A(1);
          A.show("A:");
          -| A: (1, 0, 0);
          CURR_Y = 5;
          A.set(2);
          A.show("A:");
          -| A: (2, 5, 0);
          CURR_Z = 12;
          Point B(3);
          B.show("B:");
          -| B: (3, 5, 12);
          Point C;
          C.show("C:");
          -| C: (0, 0, 0);
</pre>
        </blockquote></div>

<div class="node">
<a name="Point-Typedefs-and-Utility-Structures"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Point-Global-Constants-and-Variables">Point Global Constants and Variables</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Point-Data-Members">Point Data Members</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Point-Reference">Point Reference</a>

</div>

<h3 class="section">22.2 Typedefs and Utility Structures</h3>

<div class="defun">
&mdash; typedef: <b>point_pair</b><var> first second<a name="index-point_005fpair-354"></a></var><br>
<blockquote><p>Synonymous with <code>pair&lt;Point, Point&gt;</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; struct: <b>bool_point</b><var> b pt<a name="index-bool_005fpoint-355"></a></var><br>
<blockquote><p><code>b</code> is a <code>bool</code> and <code>pt</code> is a <code>Point</code>. 
<code>bool_point</code> also contains two constructors and an assignment
operator, described below. 
</p></blockquote></div>

<div class="defun">
&mdash; Default constructor: void <b>bool_point</b> (<var>void</var>)<var><a name="index-bool_005fpoint-356"></a></var><br>
<blockquote><p>Creates a <code>bool_point</code> and sets <code>b</code> to <code>false</code> and
<code>pt</code> to <code>INVALID_POINT</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Default constructor: void <b>bool_point</b> (<var>bool bb, const Point&amp; ppt</var>)<var><a name="index-bool_005fpoint-357"></a></var><br>
<blockquote><p>Creates a <code>bool_point</code> and sets <code>b</code> to <var>bb</var> and <code>pt</code>
to <var>ppt</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; Assignment operator: void <b>bool_point::operator=</b> (<var>const bool_point&amp; bp</var>)<var><a name="index-bool_005fpoint_003a_003aoperator_003d-358"></a></var><br>
<blockquote><p>Sets <code>b</code> to
<var>bp</var>.<code>b</code> and <code>pt</code> to <var>bp</var>.<code>pt</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; typedef: <b>bool_point_pair</b><var> first second<a name="index-bool_005fpoint_005fpair-359"></a></var><br>
<blockquote><p>Synonymous with <code>pair &lt;bool_point, bool_point&gt;</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; struct: <b>bool_point_quadruple</b><var> first second third fourth<a name="index-bool_005fpoint_005fquadruple-360"></a></var><br>
<blockquote><p>This structure contains four <code>bool_points</code>.  It also has two
constructors and an assignment operator, described below. 
</p></blockquote></div>

<div class="defun">
&mdash; Default constructor: void <b>bool_point_quadruple</b> (<var>void</var>)<var><a name="index-bool_005fpoint_005fquadruple-361"></a></var><br>
<blockquote><p>Creates a <code>bool_point_quadruple</code>, and sets
<code>first</code>, <code>second</code>, <code>third</code>, and <code>fourth</code> all to
<code>INVALID_BOOL_POINT</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Constructor: void <b>bool_point_quadruple</b> (<var>bool_point a, bool_point b, bool_point c, bool_point d</var>)<var><a name="index-bool_005fpoint_005fquadruple-362"></a></var><br>
<blockquote><p>Creates a <code>bool_point_quadruple</code> and sets
<code>first</code> to <var>a</var>, <code>second</code> to <var>b</var>, <code>third</code> to
<var>c</var>, and <code>fourth</code> to <var>d</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; Assignment operator: void <b>bool_point_quadruple::operator=</b> (<var>const bool_point_quadruple&amp; arg</var>)<var><a name="index-bool_005fpoint_005fquadruple_003a_003aoperator_003d-363"></a></var><br>
<blockquote><p>Makes <code>*this</code> a copy of <var>arg</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; struct: <b>bool_real_point</b><var> b r pt<a name="index-bool_005freal_005fpoint-364"></a></var><br>
<blockquote><p><code>b</code> is a <code>bool</code>, <code>r</code> is a <code>real</code>, and <code>pt</code> is a
<code>Point</code>.  <code>bool_real_point</code> also contains three constructors
and an assignment operator, described below. 
</p></blockquote></div>

<div class="defun">
&mdash; Default constructor: void <b>bool_real_point</b> (<var>void</var>)<var><a name="index-bool_005freal_005fpoint-365"></a></var><br>
<blockquote><p>Creates a <code>bool_real_point</code> and sets <code>b</code> to <code>false</code>,
<code>r</code> to <code>INVALID_REAL</code> and  <code>pt</code> to <code>INVALID_POINT</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Copy constructor: void <b>bool_real_point</b> (<var>const bool_real_point&amp; brp</var>)<var><a name="index-bool_005freal_005fpoint-366"></a></var><br>
<blockquote><p>Creates a <code>bool_real_point</code> and sets <code>b</code> to <var>brp</var>.<code>b</code>,
<code>r</code> to <var>brp</var>.<code>r</code>, and  <code>pt</code> to <var>brp</var>.<code>pt</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Constructor: void <b>bool_real_point</b> (<var>const bool&amp; bb, const real&amp; rr, const Point&amp; ppt</var>)<var><a name="index-bool_005freal_005fpoint-367"></a></var><br>
<blockquote><p>Creates a <code>bool_real_point</code> and sets <code>b</code> to <var>bb</var>,
<code>r</code> to <var>rr</var>, and  <code>pt</code> to <var>ppt</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; Assignment operator: void <b>bool_real_point::operator=</b> (<var>const bool_real_point&amp; brp</var>)<var><a name="index-bool_005freal_005fpoint_003a_003aoperator_003d-368"></a></var><br>
<blockquote><p>Makes <code>*this</code> a copy of <var>brp</var>. 
</p></blockquote></div>

<div class="node">
<a name="Point-Global-Constants-and-Variables"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Point-Constructors-and-Setting-Functions">Point Constructors and Setting Functions</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Point-Typedefs-and-Utility-Structures">Point Typedefs and Utility Structures</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Point-Reference">Point Reference</a>

</div>

<h3 class="section">22.3 Global Constants and Variables</h3>

<div class="defun">
&mdash; Constant: Point <b>INVALID_POINT</b><var><a name="index-INVALID_005fPOINT-369"></a></var><br>
<blockquote><p>The x, y, and z-values in <code>world_coordinates</code> are all <code>INVALID_REAL</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Constant: Point <b>origin</b><var><a name="index-origin-370"></a></var><br>
<blockquote><p>The x, y, and z-values in <code>world_coordinates</code> are all 0. 
</p></blockquote></div>

<div class="defun">
&mdash; Constant: bool_point <b>INVALID_BOOL_POINT</b><var><a name="index-INVALID_005fBOOL_005fPOINT-371"></a></var><br>
<blockquote><p><code>b</code> is <code>false</code> and <code>pt</code> is <code>INVALID_POINT</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Constant: bool_point_pair <b>INVALID_BOOL_POINT_PAIR</b><var><a name="index-INVALID_005fBOOL_005fPOINT_005fPAIR-372"></a></var><br>
<blockquote><p><code>first</code> and <code>second</code> are both <code>INVALID_BOOL_POINT</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Constant: bool_real_point <b>INVALID_BOOL_REAL_POINT</b><var><a name="index-INVALID_005fBOOL_005fREAL_005fPOINT-373"></a></var><br>
<blockquote><p><code>b</code> is <code>false</code>, <code>r</code> is <code>INVALID_REAL</code>, and <code>pt</code>
is <code>INVALID_POINT</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Constant: bool_point_quadruple <b>INVALID_BOOL_POINT_QUADRUPLE</b><var><a name="index-INVALID_005fBOOL_005fPOINT_005fQUADRUPLE-374"></a></var><br>
<blockquote><p><code>first</code>, <code>second</code>, <code>third</code>, and <code>fourth</code> are all
<code>INVALID_BOOL_POINT</code>. 
</p></blockquote></div>

<div class="node">
<a name="Point-Constructors-and-Setting-Functions"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Point-Destructor">Point Destructor</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Point-Global-Constants-and-Variables">Point Global Constants and Variables</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Point-Reference">Point Reference</a>

</div>

<h3 class="section">22.4 Constructors and Setting Functions</h3>

<div class="defun">
&mdash; Default constructor: void <b>Point</b> (<var>void</var>)<var><a name="index-Point-375"></a></var><br>
<blockquote><p>Creates a <code>Point</code> and initializes its x, y, and z-coordinates
to 0. 
</p></blockquote></div>

<div class="defun">
&mdash; Constructor: void <b>Point</b> (<var>const real x, </var>[<var>const real y = </var><code>CURR_Y</code><var>, </var>[<var>const real z = </var><code>CURR_Z</code>]])<var><a name="index-Point-376"></a></var><br>
<blockquote><p>Creates a <code>Point</code> and initializes its x, y, and z-coordinates
to the values of the arguments <var>x</var>, <var>y</var>, and <var>z</var>.  The
arguments <var>y</var> and <var>z</var> are optional.  If they are not specified,
the values of <code>CURR_Y</code> and <code>CURR_Z</code> are used.  They are 0 by
default, but can be changed by the user.  This can be convenient, if all
of the <code>Points</code> being drawn in a particular section of a program
have the same z or y and z values. 
</p></blockquote></div>

<div class="defun">
&mdash; Setting function: void <b>set</b> (<var>const real x, </var>[<var>const real y = </var><code>CURR_Y</code><var>, </var>[<var>const real z = </var><code>CURR_Z</code>]])<var><a name="index-set-377"></a></var><br>
<blockquote><p>Corresponds to the constructor above, but is used for resetting the coordinates of an existing
<code>Point</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Copy constructor: void <b>Point</b> (<var>const Point&amp; p</var>)<var><a name="index-Point-378"></a></var><br>
<blockquote><p>Creates a <code>Point</code> and copies the values for its x, y, and z-coordinates
from <var>p</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; Setting function: void <b>set</b> (<var>const Point&amp; p</var>)<var><a name="index-set-379"></a></var><br>
<blockquote><p>Corresponds to the copy constructor above, but is used for resetting the coordinates
of an existing <code>Point</code>.  This function exists purely as a convenience;
the operator <code>operator=()</code>
(see <a href="#Point-Operators">Point Reference; Operators</a>)
performs exactly the
same function. 
</p></blockquote></div>

<div class="defun">
&mdash; Template specializations: Point* <b>create_new&lt;Point&gt;</b> (<var>const Point* p</var>)<var><a name="index-create_005fnew_003cPoint_003e-380"></a></var><br>
&mdash; : Point* <b>create_new&lt;Point&gt;</b> (<var>const Point&amp; p</var>)<var><a name="index-create_005fnew_003cPoint_003e-381"></a></var><br>
<blockquote><p>Pseudo-constructors for dynamic allocation of <code>Points</code>. 
They create a <code>Point</code> on the free store and allocate memory for it using
<code>new(Point)</code>.  They return a pointer to the new <code>Point</code>.

        <p>If <var>p</var> is a non-zero pointer or a reference,
the new <code>Point</code> will be a copy of
<var>p</var>.  If the new object is not meant to be a
copy of an existing one, &lsquo;<samp><span class="samp">0</span></samp>&rsquo; must be passed to
<code>create_new&lt;Point&gt;()</code> as its argument. 
See <a href="#Dynamic-Allocation-of-Shapes">Dynamic Allocation of Shapes</a>, for more information.

        <p>One use for <code>create_new&lt;Point&gt;</code> is in the constructors for
<code>classes</code> of
objects that can contain a variable number of <code>Points</code>, such as
<code>Path</code> and <code>Polygon</code>.  Another use is in the drawing and
filling functions, where objects are copied and the copies put onto a
<code>Picture</code>.

        <p>Programmers who dynamically allocate <code>Points</code> must ensure that they
are deallocated properly using <code>delete</code>! 
</p></blockquote></div>

<div class="node">
<a name="Point-Destructor"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Point-Operators">Point Operators</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Point-Constructors-and-Setting-Functions">Point Constructors and Setting Functions</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Point-Reference">Point Reference</a>

</div>

<h3 class="section">22.5 Destructor</h3>

<div class="defun">
&mdash; <code>virtual</code> Destructor: void <b>~Point</b> (<code>void</code>)<var><a name="index-g_t_007ePoint-382"></a></var><br>
<blockquote><p>This function currently has an empty definition, but its existence
prevents GCC 3.3 from issuing the following warning:
&ldquo;`class Point' has virtual functions but non-virtual destructor&rdquo;. 
</p></blockquote></div>

<div class="node">
<a name="Point-Operators"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Copying-Points">Copying Points</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Point-Destructor">Point Destructor</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Point-Reference">Point Reference</a>

</div>

<h3 class="section">22.6 Operators</h3>

<div class="defun">
&mdash; Assignment operator: void <b>operator=</b> (<var>const Point&amp; p</var>)<var><a name="index-operator_003d-383"></a></var><br>
<blockquote><p>Makes <code>*this</code> a copy of <var>p</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; Operator: Transform <b>operator*=</b> (<var>const Transform&amp; t</var>)<var><a name="index-operator_002a_003d-384"></a></var><br>
<blockquote><p>Multiplies <code>transform</code> by <var>t</var>. 
By multiplying a <code>Point</code> successively by
one or more <code>Transforms</code>, the effect of the transformations is
&ldquo;saved up&rdquo; in <code>transform</code>.  Only when an operation that needs
updated values for the <code>world_coordinates</code> is called on a
<code>Point</code>, or the <code>Point</code> is passed as an argument to such an
operation, is the transformation stored in <code>transform</code> applied to
<code>world_coordinates</code> by <code>apply_transform()</code>,
which subsequently, resets <code>transform</code> to
the identity <code>Transform</code>. 
See <a href="#Applying-Transformations-to-Points">Point Reference; Applying Transformations</a>. 
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> operator: Point <b>operator+</b> (<var>Point p</var>)<var><a name="index-operator_002b-385"></a></var><br>
<blockquote><p>Returns a <code>Point</code> with <code>world_coordinates</code> that are the sums of
the corresponding <code>world_coordinates</code> of <code>*this</code> and <var>p</var>,
after they've been updated. 
<code>*this</code> remains unchanged; as in many other functions with
<code>Point</code> arguments, <var>p</var> is passed by value, because
<code>apply_transform()</code> must be called on it, in order to update its
<code>world_coordinates</code>.  If <var>p</var> were a <code>const Point&amp;</code>, it
would have to copied within the function anyway, because
<code>apply_transform()</code> is a non-<code>const</code> operation.

     <pre class="example">          Point p0(-2, -6, -28);
          Point p1(3, 14, 92);
          Point p2(p0 + p1);
          p2.show("p2:");
          -| p2: (1, 8, 64)
</pre>
        </blockquote></div>

<div class="defun">
&mdash; Operator: void <b>operator+=</b> (<var>Point p</var>)<var><a name="index-operator_002b_003d-386"></a></var><br>
<blockquote><p>Adds the updated <code>world_coordinates</code> of <var>p</var> to those of
<code>*this</code>. 
Equivalent in effect to <code>shift(</code><var>p</var><code>)</code>
In fact, this
function merely calls <code>p.apply_transform()</code> and
<code>Point::shift(real, real, real)</code> with <var>p</var>'s x, y, and z
coordinates (from <code>world_coordinates</code>) as its arguments. 
See <a href="#Affine-Transformations-for-Points">Point Reference; Affine Transformations</a>. 
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> operator: Point <b>operator-</b> (<var>Point p</var>)<var><a name="index-operator_002d-387"></a></var><br>
<blockquote><p>Returns a <code>Point</code> with <code>world_coordinates</code> representing the
difference between the updated values of
<code>this-&gt;world_coordinates</code><!-- /@w --> and
<var>p</var><code>.world_coordinates</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Operator: void <b>operator-=</b> (<var>Point p</var>)<var><a name="index-operator_002d_003d-388"></a></var><br>
<blockquote><p>Subtracts the updated values of <var>p</var><code>.world_coordinates</code> from
those of <code>this-&gt;world_coordinates</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Operator: real <b>operator*=</b> (<var>const real r</var>)<var><a name="index-operator_002a_003d-389"></a></var><br>
<blockquote><p>Multiplies the updated x, y, and z coordinates (<code>world_coordinates</code>) of
the <code>Point</code> by <var>r</var> and returns <var>r</var>.  This makes it possible to
chain invocations of this function.

        <p>If <code>P</code> is a <code>Point</code> then
<code>P *= </code><var>r</var> is
equivalent in its effect to <code>P.scale(</code><var>r</var><code>, </code><var>r</var><code>, </code><var>r</var><code>)</code>,
except that
<code>P.world_coordinates</code> is modified directly and immediately,
without changing <code>P.transform</code>.  This is possible, because this
function calls <code>apply_transform()</code> to update the
<code>world_coordinates</code> before multiplying them <code>r</code>, so
<code>transform</code> is the identity <code>Transform</code>.

     <pre class="example">          Point P(1, 2, 3);
          P *= 7;
          P.show("P:");
          -| P: (7, 14, 21);
          Point Q(1.5, 2.7, 13.82);
          Q *= P *= -1.28;
          P.show("P:");
          -| P: (-8.96, -17.92, -26.88)
          Q.show("Q:");
          -| Q: (-1.92, -3.456, -17.6896)
</pre>
        </blockquote></div>

<div class="defun">
&mdash; <code>const</code> operator: Point <b>operator*</b> (<var>const real r</var>)<var><a name="index-operator_002a-390"></a></var><br>
<blockquote><p>Returns a <code>Point</code> with x, y, and z coordinates
(<code>world_coordinates</code>) equal to the updated x, y, and z coordinates
of <code>*this</code> multiplied by <var>r</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; Non-member operator: Point <b>operator*</b> (<var>const real r, const Point&amp; p</var>)<var><a name="index-operator_002a-391"></a></var><br>
<blockquote><p>Equivalent to <code>Point::operator*(const real </code><var>r</var><code>)</code> (see above),
but with <var>r</var> placed first.
     <pre class="example">          Point p0(10, 11, 12);
          real r = 2.5;
          Point p1 = r * p0;
          p1.show();
          -|Point:
          -|(25, 27.5, 30)
</pre>
        </blockquote></div>

<div class="defun">
&mdash; <code>const</code> operator: Point <b>operator-</b> (<var>void</var>)<var><a name="index-operator_002d-392"></a></var><br>
<blockquote><p>Unary minus (prefix).  Returns a <code>Point</code> with x, y, and z
coordinates (<code>world_coordinates</code>) equal to the
the x, y, and z-coordinates (<code>world_coordinates</code>) of
<code>*this</code> multiplied by -1. 
</p></blockquote></div>

<div class="defun">
&mdash; Operator: void <b>operator/=</b> (<var>const real r</var>)<var><a name="index-operator_002f_003d-393"></a></var><br>
<blockquote><p>Divides the updated x, y, and z coordinates (<code>world_coordinates</code>) of
the <code>Point</code> by <var>r</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> operator: Point <b>operator/</b> (<var>const real r</var>)<var><a name="index-operator_002f-394"></a></var><br>
<blockquote><p>Returns a <code>Point</code> with x, y, and z coordinates
(<code>world_coordinates</code>) equal to the updated x, y, and z coordinates
of <code>*this</code>
divided by <var>r</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; Operator: bool <b>operator==</b> (<var>Point p</var>)<var><a name="index-operator_003d_003d-395"></a></var><br>
&mdash; <code>const</code> operator: bool <b>operator==</b> (<var>const Point&amp; p</var>)<var><a name="index-operator_003d_003d-396"></a></var><br>
<blockquote><p>Equality comparison for <code>Points</code>.  These functions return
<code>true</code> if the updated values of the <code>world_coordinates</code> of the two
<code>Points</code> differ by less than the value returned by
<code>Point::epsilon()</code>, otherwise <code>false</code>. 
See <a href="#Returning-Information-for-Points">Point Reference; Returning Information</a>. 
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> operator: bool <b>operator!=</b> (<var>const Point&amp; p</var>)<var><a name="index-operator_0021_003d-397"></a></var><br>
<blockquote><p>Inequality comparison for <code>Points</code>.  Returns <code>false</code> if
<code>*this == </code><var>p</var>, otherwise <code>true</code>. 
</p></blockquote></div>

<div class="node">
<a name="Copying-Points"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Querying-Points">Querying Points</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Point-Operators">Point Operators</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Point-Reference">Point Reference</a>

</div>

<h3 class="section">22.7 Copying</h3>

<div class="defun">
&mdash; <code>const</code> function: Shape* <b>get_copy</b> (<var>void</var>)<var><a name="index-get_005fcopy-398"></a></var><br>
<blockquote><p>Creates a copy of the <code>Point</code>, and allocates memory for it on the
free store using <code>create_new&lt;Point&gt;()</code>. 
It returns a pointer to <code>Shape</code> that points to the new <code>Point</code>. 
This function is used in the drawing commands for putting <code>Points</code>
onto <code>Pictures</code>. 
See <a href="#Point-Drawing-Functions">Point Reference; Drawing</a>. 
</p></blockquote></div>

<div class="node">
<a name="Querying-Points"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Returning-Coordinates">Returning Coordinates</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Copying-Points">Copying Points</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Point-Reference">Point Reference</a>

</div>

<h3 class="section">22.8 Querying</h3>

<div class="defun">
&mdash; <code>inline</code> function: bool <b>is_identity</b> (<var>void</var>)<var><a name="index-is_005fidentity-399"></a></var><br>
<blockquote><p>Returns <code>true</code> if <code>transform</code> is the identity <code>Transform</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> inline function: Transform <b>get_transform</b> (<var>void</var>)<var><a name="index-get_005ftransform-400"></a></var><br>
<blockquote><p>Returns <code>transform</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> function: bool <b>is_on_free_store</b> (<var>void</var>)<var><a name="index-is_005fon_005ffree_005fstore-401"></a></var><br>
<blockquote><p>Returns <code>true</code> if memory for the <code>Point</code> has been dynamically
allocated on the
free store, i.e., if the <code>Point</code> has been created using
<code>create_new&lt;Point&gt;()</code>. 
See <a href="#Point-Constructors-and-Setting-Functions">Point Reference; Constructors and Setting Functions</a>. 
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> function: bool <b>is_on_plane</b> (<var>const Plane&amp; p</var>)<var><a name="index-is_005fon_005fplane-402"></a></var><br>
<blockquote><p>Returns <code>true</code>, if the <code>Point</code> lies on the
<code>Plane</code> <var>p</var>, otherwise <code>false</code>.

        <p>Planes are conceived of as having infinite extension, so while
the <code>Point</code> C in [next figure]
 does not lie within
the <code>Rectangle</code> r, it does lie on q, so
<code>C.is_on_plane(q)</code> returns
<code>true</code>.<a rel="footnote" href="#fn-33" name="fnd-33"><sup>33</sup></a>

     <pre class="example">          Point P(1, 1, 1);
          Rectangle r(P, 4, 4, 20, 45, 35);
          Plane q = r.get_plane();
          Point A(2, 0, 2);
          Point B(2, 1.64143, 2);
          Point C(0.355028, 2.2185, 6.48628);
          cout &lt;&lt; A.is_on_plane(q);
          -| 0
          cout &lt;&lt; B.is_on_plane(q);
          -| 1
          cout &lt;&lt; "C.is_on_plane(q)";
          -| 1
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF80.png"
alt="[Figure 80. Not displayed.]" 
/>
<br>
<br>
Fig. 80. 
<br>
</p>

        </blockquote></div>

<div class="defun">
&mdash; <code>const</code> function: bool <b>is_in_triangle</b> (<var>const Point&amp; p0, const Point&amp; p1, const Point&amp; p2, </var>[<var>bool verbose = </var><code>false</code><var>, </var>[<var>bool test_points = </var><code>true</code>]])<var><a name="index-is_005fin_005ftriangle-403"></a></var><br>
<blockquote><p>Returns <code>true</code>, if <code>*this</code> lies within the triangle determined by
the three <code>Point</code> arguments, otherwise <code>false</code>.

        <p>If the code calling <code>is_in_triangle()</code> has ensured that
p_0, p_1, and p_2 determine a plane, i.e., that they are not
colinear, and that <code>*this</code> lies in that plane, then
<code>false</code> can be passed to <code>is_in_triangle()</code> as its
<var>test_points</var> argument.

        <p>If the <var>verbose</var> argument is <code>true</code>, information resulting from
the execution of the function are printed to standard output or standard
error.

        <p>This function is needed for determining whether a line intersects with a
polygon. 
</p></blockquote></div>

<div class="node">
<a name="Returning-Coordinates"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Returning-Information-for-Points">Returning Information for Points</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Querying-Points">Querying Points</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Point-Reference">Point Reference</a>

</div>

<h3 class="section">22.9 Returning Coordinates</h3>

<p>The functions in this section return either a single coordinate or a set of
coordinates.  Each has
a <code>const</code> and a non-<code>const</code> version.

   <p>The arguments are the same, with one exception:

     <dl>
<dt><code>char</code><var> c</var><dd>Only in <code>get_coord()</code>.  Indicates which coordinate should be
returned.  Valid values are <code>'x'</code>, <code>'X'</code>, <code>'y'</code>,
<code>'Y'</code>, <code>'z'</code>, <code>'Z'</code>, <code>'w'</code>, and <code>'W'</code>.

     <br><dt><code>char </code><var>coords</var><dd>Indicates the set of coordinates which should be returned or from which
the coordinate to be returned should be chosen from.  Valid values are
<code>'w'</code> for <code>world_coordinates</code> (the default), <code>'p'</code> for
<code>projective_coordinates</code>, <code>'u'</code> for <code>user_coordinates</code>,
and <code>'v'</code> for <code>view_coordinates</code>.

     <br><dt><code>const bool</code><var> do_persp</var><dd>Only relevant if <code>projective_coordinates</code>, or one of its elements
is to be returned.  If <code>true</code>, the
default, then <code>project()</code> is called, thereby generating values for
<code>projective_coordinates</code>.  If <var>do_persp</var> is <code>false</code>, then
<code>projective_coordinates</code>, or one of its elements, is
returned unchanged, which may sometimes be useful.

     <br><dt><code>const bool</code><var> do_apply</var><dd>If <code>true</code> (the default), <code>apply_transform()</code> is called,
thereby updating the <code>world_coordinates</code>.  Otherwise, it's not, so
that the values stored in <code>world_coordinates</code> remain unchanged. 
Note that if <var>coords</var> is <code>'p'</code> and <var>do_persp</var> is <code>true</code>,
<code>apply_transform()</code> will be called in <code>project()</code>
whether <code>do_apply</code> is <code>true</code> or <code>false</code>.  If for some
reason, one wanted get <code>projective_coordinates</code>, or one of its
values, based on the
projection of <code>world_coordinates</code> without first updating them, one
would have to call <code>reset_transform()</code> before calling one of
these functions.  It would probably be a good idea to save <code>transform</code>
before doing so.

     <br><dt><code>Focus*</code><var> f</var><dd>Indicates what <code>Focus</code> is to be used for projection. 
Only relevant if <code>coords</code> is <code>'p'</code>, i.e.,
<code>projective_coordinates</code>, or one of its elements, is to be
returned.  The default is 0, in which case <var>f</var> points to the global
variable <code>default_focus</code>.

     <br><dt><code>const unsigned short</code><var> proj</var><dd>Indicates what form of projection is to be used. 
Only relevant if <code>coords</code> is <code>'p'</code>, i.e.,
<code>projective_coordinates</code>, or one of its elements, is to be
returned.  The default is <code>Projections::PERSP</code>, which causes the
perspective projection to be applied.

     <br><dt><code>real</code><var> factor</var><dd>Passed to <code>project()</code>.  The values of the x and y coordinates in
<code>projective_coordinates</code> are multiplied by <var>factor</var>. 
Only relevant if <code>coords</code> is <code>'p'</code>, i.e.,
<code>projective_coordinates</code>, or one of its elements, is to be
returned.  The default is 1. 
</dl>

<div class="defun">
&mdash; Function: valarray &lt;real&gt; <b>get_all_coords</b> ([<var>char coords = 'w', </var>[<var>const bool do_persp = true, </var>[<var>const bool do_apply = true, </var>[<var>Focus* f = 0, </var>[<var>const unsigned short proj = Projections::PERSP, </var>[<var>real factor = 1</var>]]]]]])<var><a name="index-get_005fall_005fcoords-404"></a></var><br>
<blockquote><p>Returns one of the sets of coordinates;  <code>world_coordinates</code> by
default. 
Returns a complete set of coordinates:  <code>'w'</code> for <code>world_coordinates</code>,
<code>'p'</code> for <code>projective_coordinates</code>, <code>'u'</code> for
<code>user_coordinates</code>, or<code>'v'</code> for  <code>view_coordinates</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: real <b>get_coord</b> (<var>char c, </var>[<var>char coords = 'w', </var>[<var>const bool do_persp = true, </var>[<var>const bool do_apply = true, </var>[<var>Focus* f = 0, </var>[<var>const unsigned short proj = </var><code>Projections::PERSP</code><var>, </var>[<var>real factor = 1</var>]]]]]])<var><a name="index-get_005fcoord-405"></a></var><br>
<blockquote><p>Returns one <code>coordinate</code>, x, y, z, or w, from the set of
coordinates indicated (or <code>world_coordinates</code>, by default). 
</p></blockquote></div>

<div class="defun">
&mdash; Function: real <b>get_x</b> ([<var>char coords = 'w', </var>[<var>const bool do_persp = true, </var>[<var>const bool do_apply = true, </var>[<var>Focus* f = 0, </var>[<var>const unsigned short proj = Projections::PERSP, </var>[<var>real factor = 1</var>]]]]]])<var><a name="index-get_005fx-406"></a></var><br>
<blockquote><p>Returns the x-coordinate from the set of coordinates indicated (or
<code>world_coordinates</code>, by default). 
</p></blockquote></div>

<div class="defun">
&mdash; Function: real <b>get_y</b> ([<var>char coords = 'w', </var>[<var>const bool do_persp = true, </var>[<var>const bool do_apply = true, </var>[<var>Focus* f = 0, </var>[<var>const unsigned short proj = Projections::PERSP, </var>[<var>real factor = 1</var>]]]]]])<var><a name="index-get_005fy-407"></a></var><br>
<blockquote><p>Returns the y-coordinate from the set of coordinates indicated (or
<code>world_coordinates</code>, by default). 
</p></blockquote></div>

<div class="defun">
&mdash; Function: real <b>get_z</b> ([<var>char coords = 'w', </var>[<var>const bool do_persp = true, </var>[<var>const bool do_apply = true, </var>[<var>Focus* f = 0, </var>[<var>const unsigned short proj = Projections::PERSP, </var>[<var>real factor = 1</var>]]]]]])<var><a name="index-get_005fz-408"></a></var><br>
<blockquote><p>Returns the z-coordinate from the set of coordinates indicated (or
<code>world_coordinates</code>, by default). 
</p></blockquote></div>

<div class="defun">
&mdash; Function: real <b>get_w</b> ([<var>char coords = 'w', </var>[<var>const bool do_persp = true, </var>[<var>const bool do_apply = true, </var>[<var>Focus* f = 0, </var>[<var>const unsigned short proj = Projections::PERSP, </var>[<var>real factor = 1</var>]]]]]])<var><a name="index-get_005fw-409"></a></var><br>
<blockquote><p>Returns the w-coordinate from the set of coordinates indicated (or
<code>world_coordinates</code>, by default). 
</p></blockquote></div>

<div class="node">
<a name="Returning-Information-for-Points"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Modifying-Points">Modifying Points</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Returning-Coordinates">Returning Coordinates</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Point-Reference">Point Reference</a>

</div>

<h3 class="section">22.10 Returning Information</h3>

<div class="defun">
&mdash; Static function: real <b>epsilon</b> (<var>void</var>)<var><a name="index-epsilon-410"></a></var><br>
<blockquote><p>Returns the positive <code>real</code> value of smallest magnitude
\epsilon that should be used as a coordinate value in a
<code>Point</code>. 
A coordinate of a <code>Point</code> may also contain
-\epsilon.

        <p>The value \epsilon is used for testing the equality of
<code>Points</code> in <code>Point::operator==()</code>
(see <a href="#Point-Operators">Point Reference; Operators</a>):

        <p>Let \epsilon be the value returned by <code>epsilon()</code>,
P and Q be
<code>Points</code>, and P_x, Q_x, P_y, Q_y,
P_z, and Q_z the updated x, y, and z-coordinates of P and Q,
respectively. 
If and only if
||P_x| - |Q_x|| &lt; \epsilon, ||P_y| - |Q_y|| &lt; \epsilon,
and
||P_z| - |Q_z|| &lt; \epsilon, then
P = Q.

        <p><code>epsilon()</code> returns different values, depending on whether
<code>real</code> is <code>float</code> or <code>double</code>:
If <code>real</code> is <code>float</code> (the default), <code>epsilon()</code>
returns 0.00001. 
If <code>real</code> is <code>double</code>, it returns 0.000000001.

        <p><b>Please note</b>:  I haven't tested whether 0.000000001 is a good
value yet, so users should be aware of this if they set <code>real</code> to
<code>double</code>!<a rel="footnote" href="#fn-34" name="fnd-34"><sup>34</sup></a>
The way to test this is to start with two <code>Points</code>
P and Q at different locations. 
Then they should be transformed using different rotations in such a way
that they should end up at the same location. 
Let \epsilon stand for the value returned by <code>epsilon()</code>,
and let x, y, and y stand for
the <code>world_coordinates</code> of the <code>Points</code> after
<code>apply_transform()</code> has been called on them. 
If x_P = x_Q, y_P = y_Q, and
z_P = z_Q,
\epsilon is a good value.

        <p>Rotation causes a significant loss of precision to due to the use of the
<code>sin()</code> and <code>cos()</code> functions.  Therefore, neither
<code>Point::epsilon()</code> nor <code>Transform::epsilon()</code>
(see <a href="#Returning-Information-for-Transforms">Tranform Reference; Returning Information</a>)
can be as small as I'd like them to be.  If they are two
small, operations that test for equality of <code>Transforms</code> and
<code>Points</code> will return <code>false</code> for objects that should be
equal. 
</p></blockquote></div>

<div class="node">
<a name="Modifying-Points"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Affine-Transformations-for-Points">Affine Transformations for Points</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Returning-Information-for-Points">Returning Information for Points</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Point-Reference">Point Reference</a>

</div>

<h3 class="section">22.11 Modifying</h3>

<div class="defun">
&mdash; Virtual function: bool <b>set_on_free_store</b> ([<var>bool b = true</var>])<var><a name="index-set_005fon_005ffree_005fstore-411"></a></var><br>
<blockquote><p>This function is used in the template function
<code>create_new()</code>.  It sets <code>on_free_store</code> to <code>true</code>. 
See <a href="#Point-Data-Members">Point Reference; Data Members</a>, and
<a href="#Point-Constructors-and-Setting-Functions">Point Reference; Constructors and Setting Functions</a>. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: void <b>clear</b> (<var>void</var>)<var><a name="index-clear-412"></a></var><br>
<blockquote><p>Sets all of the coordinates in all of the sets of coordinates (i.e.,
<code>world_coordinates</code>, <code>user_coordinates</code>, <code>view_coordinates</code>, and
<code>projective_coordinates</code>) to 0 and resets <code>transform</code>
</p></blockquote></div>

<div class="defun">
&mdash; Function: void <b>clean</b> ([<var>int factor = 1</var>])<var><a name="index-clean-413"></a></var><br>
<blockquote><p>Calls <code>apply_transform()</code> and sets the values of
<code>world_coordinates</code> to 0, whose absolute values are less than
<code>epsilon()</code> * <var>factor</var>
. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: void <b>reset_transform</b> (<var>void</var>)<var><a name="index-reset_005ftransform-414"></a></var><br>
<blockquote><p>Sets <code>Transform</code> to the identity <code>Transform</code>.  Performed in
<code>apply_transform()</code>, after the latter updates <code>world_coordinates</code>. 
<a href="#Applying-Transformations-to-Points">Point Reference; Applying Transformations</a>. 
</p></blockquote></div>

<div class="node">
<a name="Affine-Transformations-for-Points"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Applying-Transformations-to-Points">Applying Transformations to Points</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Modifying-Points">Modifying Points</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Point-Reference">Point Reference</a>

</div>

<h3 class="section">22.12 Affine Transformations</h3>

<div class="defun">
&mdash; Function: Transform <b>rotate</b> (<var>const real x, </var>[<var>const real y = 0, </var>[<var>const real z = 0</var>]])<var><a name="index-rotate-415"></a></var><br>
&mdash; Function: Transform <b>rotate</b> (<var>const Point&amp; p0, const Point&amp; p1, </var>[<var>const real angle = 180</var>])<var><a name="index-rotate-416"></a></var><br>
&mdash; Function: Transform <b>rotate</b> (<var>const Path&amp; p, </var>[<var>const real angle = 180</var>])<var><a name="index-rotate-417"></a></var><br>
<blockquote><p>Each of these functions calls the corresponding version of
<code>Transform::rotate()</code>, and returns its
return value, namely, a <code>Transform</code> representing the rotation
only.

        <p>In the first version, taking three <code>real</code> arguments, the
<code>Point</code> is rotated <var>x</var> degrees around the x-axis, <var>y</var>
degrees around the y-axis, and <var>z</var> degrees around the z-axis in
that order.

     <pre class="example">          Point p0(1, 0, 2);
          p0.rotate(90);
          p0.show("p0:")
          -| p0: (1, 2, 0)
          Point p1(-1, 1, 1);
          p1.rotate(-90, 90, 90);
          p1.show("pt1:");
          -| p1: (1, -1, -1)
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF81.png"
alt="[Figure 81. Not displayed.]" 
/>
<br>
<br>
Fig. 81. 
<br>
</p>

        <p>Please note that rotations are not commutative operations.  Nor are they
commutative with other transformations. 
So, if you want to rotate a <code>Point</code> about the x, y and z-axes in
that order,
you can do so with a single invocation of <code>rotate()</code>, as in
the previous example. 
However, if you want to rotate a <code>Point</code> first about the
y-axis and then about the x-axis, you must invoke <code>rotate()</code> twice.

     <pre class="example">          Point pt0(1, 1, 1);
          pt0.rotate(0, 45);
          pt0.rotate(45);
          pt0.show("pt0:");
          -| pt0: (0, 1.70711, 0.292893)
</pre>
        <p>In the version taking two <code>Point</code> arguments <var>p0</var> and <var>p1</var>,
and a <code>real</code> argument <var>angle</var>, the <code>Point</code> is rotated
<code>angle</code> degrees around the axis determined
by <var>p0</var> and <var>p1</var>, 180 degrees
 by default.

     <pre class="example">          Point P(2, 0, 0);
          Point A;
          Point B(2, 2, 2);
          P.rotate(A, B, 180);
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF82.png"
alt="[Figure 82. Not displayed.]" 
/>
<br>
<br>
Fig. 82. 
<br>
</p>

     </blockquote></div>

<div class="defun">
&mdash; Function: Transform <b>scale</b> (<var>real x, </var>[<var>real y = 1, </var>[<var>real z = 1</var>]])<var><a name="index-scale-418"></a></var><br>
<blockquote><p>Calls <code>transform.scale(</code><var>x</var><code>, </code><var>y</var><code>, </code><var>z</var><code>)</code> and returns its
return value, namely, a <code>Transform</code> representing the scaling operation
only.

        <p>Scaling causes the x-coordinate of the <code>Point</code> to be multiplied by
<var>x</var>, the y-coordinate of the <code>Point</code> to be multiplied by
<var>y</var>, and the z-coordinate of the <code>Point</code> to be multiplied by
<var>z</var>.

     <pre class="example">          Point p0(1, 0, 3);
          p0.scale(4);
          p0.show("p0:");
          -| p0: (4, 0, 3)
          Point p1(-2, -1, -2);
          p1.scale(-2, -3, -4);
          p1.show("p1:");
          -| p1: (4, 3, 8)
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF83.png"
alt="[Figure 83. Not displayed.]" 
/>
<br>
<br>
Fig. 83. 
<br>
</p>

        </blockquote></div>

<div class="defun">
&mdash; Function: Transform <b>shear</b> (<var>real xy, </var>[<var>real xz = 0, </var>[<var>real yx = 0, </var>[<var>real yz = 0, </var>[<var>real zx = 0, </var>[<var>real zy = 0</var>]]]]])<var><a name="index-shear-419"></a></var><br>
<blockquote><p>Calls <code>transform.shear()</code> with the same arguments
and returns its
return value, namely, a <code>Transform</code> representing the shearing operation
only.

        <p>Shearing modifies each coordinate of a <code>Point</code>
proportionately to the values of the other two coordinates. 
Let x_0, y_0, and z_0 stand for the coordinates of
a <code>Point</code> P before <code>P.shear(</code>\alpha, \beta,
\gamma, \delta, \epsilon, \zeta
<code>)</code>,
and x_1, y_1, and z_1
for its coordinates afterwards.

     <pre class="display">          x_1 == x_0 + \alpha y + \beta z
          y_1 == y_0 + \gamma x + \delta z
          z_1 == z_0 + \epsilon x + \zeta y
</pre>
        <p>[next figure]
 demonstrates the effect of shearing the four
<code>Points</code> of a
3 * 3

        <p><code>Rectangle</code> (i.e., a square) r in the x-y plane using only an
<var>xy</var> argument, making it non-rectangular.

     <pre class="example">          Point P0;
          Point P1(3);
          Point P2(3, 3);
          Point P3(0, 3);
          Rectangle r(p0, p1, p2, p3);
          r.draw();
          r.shear(1.5);
          r.draw(black, "evenly");
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF84.png"
alt="[Figure 84. Not displayed.]" 
/>
<br>
<br>
Fig. 84. 
<br>
</p>

        </blockquote></div>

<div class="defun">
&mdash; Function: Transform <b>shift</b> (<var>real x, </var>[<var>real y = 0, </var>[<var>real z = 0</var>]])<var><a name="index-shift-420"></a></var><br>
&mdash; Function: Transform <b>shift</b> (<var>const Point&amp; p</var>)<var><a name="index-shift-421"></a></var><br>
<blockquote><p>Each of these functions calls the corresponding version of
<code>Transform::shift()</code> on <code>transform</code>, and returns its return
value, namely, a <code>Transform</code> representing the shifting operation
only.

        <p>The <code>Point</code> is shifted <var>x</var> units in the direction of the
positive x-axis, <var>y</var> units in the direction of the
positive y-axis, and <var>z</var> units in the direction of the
positive z-axis.

     <pre class="example">          p0(1, 2, 3);
          p0.shift(2, 3, 5);
          p0.show("p0:");
          -| p0: (3, 5, 8)
</pre>
        </blockquote></div>

<div class="defun">
&mdash; Function: Transform <b>shift_times</b> (<var>real x, </var>[<var>real y = 1, </var>[<var>real z = 1</var>]])<var><a name="index-shift_005ftimes-422"></a></var><br>
&mdash; Function: Transform <b>shift_times</b> (<var>const Point&amp; p</var>)<var><a name="index-shift_005ftimes-423"></a></var><br>
<blockquote><p>Each of these functions calls the corresponding version of
<code>Transform::shift_times()</code> on <code>transform</code> and
returns its return value, namely the new value of <code>transform</code>.

        <p><code>shift_times()</code> makes it possible to increase the magnitude of a
shift applied to a <code>Point</code>, while maintaining its direction. 
Please note that <code>shift_times()</code> will only have an effect
if it's called after a call to
<code>shift()</code> and before <code>transform</code> is reset. 
This is performed by <code>reset_transform()</code>, which is called in
<code>apply_transform()</code>, and can also be called directly. 
See <a href="#Resetting-Transforms">Transform Reference; Resetting</a>, and
<a href="#Applying-Transformations-to-Points">Point Reference; Applying Transformations</a>.

     <pre class="example">          Point P;
          P.drawdot();
          P.shift(1, 1, 1);
          P.drawdot();
          P.shift_times(2, 2, 2);
          P.drawdot();
          P.shift_times(2, 2, 2);
          P.drawdot();
          P.shift_times(2, 2, 2);
          P.drawdot();
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF85.png"
alt="[Figure 85. Not displayed.]" 
/>
<br>
<br>
Fig. 85. 
<br>
</p>

        </blockquote></div>

<div class="node">
<a name="Applying-Transformations-to-Points"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Projecting-Points">Projecting Points</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Affine-Transformations-for-Points">Affine Transformations for Points</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Point-Reference">Point Reference</a>

</div>

<h3 class="section">22.13 Applying Transformations</h3>

<div class="defun">
&mdash; Function: void <b>apply_transform</b> (<var>void</var>)<var><a name="index-apply_005ftransform-424"></a></var><br>
<blockquote><p>Updates <code>world_coordinates</code> by multiplying it by <code>transform</code>,
which is subsequently reset to the identity <code>Transform</code>. 
</p></blockquote></div>

<div class="node">
<a name="Projecting-Points"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Vector-Operations">Vector Operations</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Applying-Transformations-to-Points">Applying Transformations to Points</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Point-Reference">Point Reference</a>

</div>

<h3 class="section">22.14 Projecting</h3>

<div class="defun">
&mdash; Function: bool <b>project</b> (<var>const Focus&amp; f, </var>[<var>const unsigned short proj = Projections::PERSP, </var>[<var>real factor = 1</var>]])<var><a name="index-project-425"></a></var><br>
&mdash; Function: bool <b>project</b> ([<var>const unsigned short&amp; proj = Projections::PERSP, </var>[<var>real factor = 1</var>]])<var><a name="index-project-426"></a></var><br>
<blockquote><p>These functions calculate <code>projective_coordinates</code>. 
<var>proj</var> indicates which projection is to be performed. 
If it is <code>Projections::PERSP</code>, then <var>f</var> indicates which
<code>Focus</code> is to be used (in the first version), or the global variable
<code>default_focus</code> is used (in the second).  If
<code>Projections::PARALLEL_X_Y</code>, <code>Projections::PARALLEL_X_Z</code>, or
<code>Projections::PARALLEL_Z_Y</code> is used, <var>f</var> is ignored, since
these projections don't use a <code>Focus</code>.  Currently, no other
projections are defined.  The x and y coordinates in
<code>projective_coordinates</code> are multiplied by <var>factor</var> with the default
being 1. 
</p></blockquote></div>

<div class="node">
<a name="Vector-Operations"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Points-and-Lines">Points and Lines</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Projecting-Points">Projecting Points</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Point-Reference">Point Reference</a>

</div>

<h3 class="section">22.15 Vector Operations</h3>

<p>Mathematically speaking, vectors and points are not the same.  However,
they can both be represented as triples of real numbers (in a
three-dimensional Cartesian space).  It is sometimes convenient to treat
points as though they were vectors, and vice versa.  In particular, it
is convenient to use the same data type, namely <code>class Point</code>, to
represent both points and vectors in 3DLDF.

<div class="defun">
&mdash; <code>const</code> function: real <b>dot_product</b> (<var>Point p</var>)<var><a name="index-dot_005fproduct-427"></a></var><br>
<blockquote><p>Returns the dot or scalar product of <code>*this</code> and <var>p</var>.

        <p>If P and Q are <code>Points</code>,
     <pre class="display">          P \dot Q = x_P * x_Q + y_P * y_Q + z_P * z_Q = |P||Q| * cos(\theta)
</pre>
        <p>where  |P|
and |Q| are the magnitudes of
P and Q, respectively, and \theta
is the angle between P and Q.

        <p>Since
     <pre class="display">          \theta = arccos(P \dot Q / |P||Q|),
</pre>
        <p>the dot product can be used for finding the angle between two vectors.

     <pre class="example">          Point P(1, -1, -1);
          Point Q(3, 2, 5);
          cout &lt;&lt; P.angle(Q);
          -| 112.002
          cout &lt;&lt; P.dot_product(Q);
          -| -4
          real P_Q_angle = (180.0 / PI)
                           * acos(P.dot_product(Q)
                           / (P.magnitude() * Q.magnitude()));
          cout &lt;&lt; P_Q_angle;
          -| 112.002
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF86.png"
alt="[Figure 86. Not displayed.]" 
/>
<br>
<br>
Fig. 86. 
<br>
</p>

        <p>If the angle \theta between two vectors P and Q is
90 degrees
, then
\cos(\theta) is 0, so
P \dot Q
will also be 0.  Therefore,
<code>dot_product()</code> can be used as a test for the orthogonality of vectors.

     <pre class="example">          Point P(2);
          Point Q(P);
          Point Q0(P0);
          Q0 *= Q.rotate(0, 0, 90);
          P *= Q.rotate(0, 45, 45);
          P *= Q.rotate(45);
          cout &lt;&lt; P.angle(Q);
          -| 90
          cout &lt;&lt; P.dot_product(Q);
          -| 0
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF87.png"
alt="[Figure 87. Not displayed.]" 
/>
<br>
<br>
Fig. 87. 
<br>
</p>

        </blockquote></div>

<div class="defun">
&mdash; <code>const</code> function: Point <b>cross_product</b> (<var>Point p</var>)<var><a name="index-cross_005fproduct-428"></a></var><br>
<blockquote><p>Returns the cross or vector product of <code>*this</code> and <var>p</var>.

        <p>If P and Q are <code>Points</code>,

     <pre class="display">          P * Q = ((y_P * z_Q - z_P * y_Q), (z_P * x_Q - x_P * z_Q),
          (x_P * y_Q - y_P * x_Q)) = |P||Q| * sin(\theta) * n,
</pre>
        <p>where |P| and |Q| are the magnitudes of
P and Q, respectively,
\theta is the angle between P and Q, and n
is a unit vector
perpendicular to both P and Q in the direction of a
right-hand screw from P towards Q.  Therefore,
<code>cross_product()</code> can be used to find the normals to planes.

     <pre class="example">          Point P(2, 2, 2);
          Point Q(-2, 2, 2);
          Point n = P.cross_product(Q);
          n.show("n:");
          -| n: (0, -8, 8)
          real theta = (PI / 180.0) * P.angle(Q);
          cout &lt;&lt; theta;
          -| 1.23096
          real n_mag = P.magnitude() * Q.magnitude() * sin(theta);
          cout &lt;&lt; n_mag;
          -| 11.3137
          n /= n_mag;
          cout &lt;&lt; n.magnitude();
          -| 1
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF88.png"
alt="[Figure 88. Not displayed.]" 
/>
<br>
<br>
Fig. 88. 
<br>
</p>

        <p>If
\theta = 0 degrees or 180 degrees,
\sin(\theta) will be 0, and
P * Q
 will be (0, 0, 0). 
The cross product thus provides a test for parallel vectors.

     <pre class="example">          Point P(1, 2, 1);
          Point Q(P);
          Point R;
          R *= Q.shift(-3, -1, 1);
          Point s(Q - R);
          Point n = P.cross_product(s);
          n.show("n:");
          -| n: (0, 0, 0)
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF89.png"
alt="[Figure 89. Not displayed.]" 
/>
<br>
<br>
Fig. 89. 
<br>
</p>

        </blockquote></div>

<div class="defun">
&mdash; <code>const</code> function: real <b>magnitude</b> (<var>void</var>)<var><a name="index-magnitude-429"></a></var><br>
<blockquote><p>Returns the magnitude of the <code>Point</code>.  This is its distance from
<code>origin</code> and is equal to
sqrt(x^2 + y^2 + z^2).

     <pre class="example">          Point P(13, 15.7, 22);
          cout &lt;&lt; P.magnitude();
          -| 29.9915
</pre>
        </blockquote></div>

<div class="defun">
&mdash; <code>const</code> function: real <b>angle</b> (<var>Point p</var>)<var><a name="index-angle-430"></a></var><br>
<blockquote><p>Returns the angle in degrees between two <code>Points</code>.

     <pre class="example">          Point P(3.75, -1.25, 6.25);
          Point Q(-5, 2.5, 6.25);
          real angle = P.angle(Q);
          cout &lt;&lt; angle;
          -| 73.9084
          Point n = origin.get_normal(P, Q);
          n.show("n:");
          -| n: (0.393377, 0.91788, -0.0524503)
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF90.png"
alt="[Figure 90. Not displayed.]" 
/>
<br>
<br>
Fig. 90. 
<br>
</p>

        </blockquote></div>

<div class="defun">
&mdash; Function: Point <b>unit_vector</b> (<var>const bool assign, </var>[<var>const bool silent = false</var>])<var><a name="index-unit_005fvector-431"></a></var><br>
&mdash; <code>const</code> function: Point <b>unit_vector</b> (<var>void</var>)<var><a name="index-unit_005fvector-432"></a></var><br>
<blockquote><p>These functions return a <code>Point</code> with the x, y, and z-coordinates
of <code>world_coordinates</code> divided by the magnitude of the <code>Point</code>. 
The magnitude of the resulting <code>Point</code> is thus 1.  The first
version assigns the result to <code>*this</code> and should only ever be
called with <var>assign</var> = <code>true</code>.  Calling it with the
argument <code>false</code> is equivalent to calling the <code>const</code> version,
with no assignment.  If <code>unit_vector()</code> is called with <var>assign</var>
and <var>silent</var> both <code>false</code>, it issues a warning message is
issued and the <code>const</code> version is called.  If <var>silent</var> is
<code>true</code>, the message is suppressed.

     <pre class="example">          Point P(21, 45.677, 91);
          Point Q = P.unit_vector();
          Q.show("Q:");
          -| Q: (0.201994, 0.439357, 0.875308)
          P.rotate(30, 25, 10);
          P.show("P:");
          P: (-19.3213, 82.9627, 59.6009)
          cout &lt;&lt; P.magnitude();
          -| 103.963
          P.unit_vector(true);
          P.show("P:");
          -| P: (-0.185847, 0.797999, 0.573287)
          cout &lt;&lt; P.magnitude();
          -| 1
</pre>
        </blockquote></div>

<div class="node">
<a name="Points-and-Lines"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Point-Intersections">Point Intersections</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Vector-Operations">Vector Operations</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Point-Reference">Point Reference</a>

</div>

<h3 class="section">22.16 Points and Lines</h3>

<div class="defun">
&mdash; <code>const</code> function: Line <b>get_line</b> (<var>const Point&amp; p</var>)<var><a name="index-get_005fline-433"></a></var><br>
<blockquote><p>Returns the <code>Line</code> <var>l</var> corresponding to the line from <code>*this</code> to
<var>p</var>.  <var>l</var>.<code>position</code> will be <code>*this</code>, and
<var>l</var>.<code>direction</code> will be <var>p</var> - <code>*this</code>. 
See <a href="#Line-Reference">Line Reference</a>. 
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> function: real <b>slope</b> (<var>Point p, </var>[<var>char m = 'x', </var>[<var>char n = 'y'</var>]])<var><a name="index-slope-434"></a></var><br>
<blockquote><p>Returns a <code>real</code> number representing the slope of the <em>trace</em>
of the line defined by
<code>*this</code> and <var>p</var> on the plane indicated by the arguments <var>m</var>
and <var>n</var>.

     <pre class="example">          Point p0(3, 4, 5);
          Point p1(2, 7, 12);
          real r = p0.slope(p1, 'x', 'y');
          &rArr; r == -3
          r = p0.slope(p1, 'x', 'z');
          &rArr; r == -7
          r = p0.slope(p1, 'z', 'y');
          &rArr; r == 0.428571
</pre>
        </blockquote></div>

<div class="defun">
&mdash; Function: bool_real <b>is_on_segment</b> (<var>Point p0, Point p1</var>)<var><a name="index-is_005fon_005fsegment-435"></a></var><br>
&mdash; <code>const</code> function: bool_real <b>is_on_segment</b> (<var>const Point&amp; p0, const Point&amp; p1</var>)<var><a name="index-is_005fon_005fsegment-436"></a></var><br>
<blockquote><p>These functions return a <code>bool_real</code>, where the <code>bool</code> part is
<code>true</code>, if
the <code>Point</code> lies on the line segment between <var>p0</var> and <var>p1</var>,
otherwise <code>false</code>.  If the <code>Point</code> lies on the line segment, the
<code>real</code> part is a value
r such that
0 &lt;= r &lt;= 1
indicating how far the <code>Point</code> is along the way from
<var>p0</var> to <var>p1</var>.  For example, if the <code>Point</code> is half of the way
from <var>p0</var> to <var>p1</var>, r will be .5.  If the <code>Point</code>
does not lie on the line
segment, but on the <em>line</em> passing through <var>p0</var> and <var>p1</var>,
r will be &lt;0 or &gt;1.

        <p>If the <code>Point</code> doesn't lie on the line passing through <var>p0</var> and
<var>p1</var>,
r will be <code>INVALID_REAL</code>.

     <pre class="example">          Point p0(-1, -2, 1);
          Point p1(3, 2, 5);
          Point p2(p0.mediate(p1, .75));
          Point p3(p0.mediate(p1, 1.5));
          Point p4(p2);
          p4.shift(-2, 1, -1);
          bool_real br = p2.is_on_segment(p0, p1);
          cout &lt;&lt; br.first;
          -| 1
          cout &lt;&lt; br.second;
          -| 0.75
          bool_real br = p3.is_on_segment(p0, p1);
          cout &lt;&lt; br.first;
          -| 0
          cout &lt;&lt; br.second;
          -| 1.5
          bool_real br = p4.is_on_segment(p0, p1);
          cout &lt;&lt; br.first;
          -| 0
          cout &lt;&lt; br.second;
          -| 3.40282e+38
          cout &lt;&lt; (br.second == INVALID_REAL)
          -| 1
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF91.png"
alt="[Figure 91. Not displayed.]" 
/>
<br>
<br>
Fig. 91. 
<br>
</p>

        </blockquote></div>

<div class="defun">
&mdash; <code>const</code> function: bool_real <b>is_on_line</b> (<var>const Point&amp; p0, const Point&amp; p1</var>)<var><a name="index-is_005fon_005fline-437"></a></var><br>
<blockquote><p>Returns a <code>bool_real</code> where the <code>bool</code> part is <code>true</code>, if
the <code>Point</code> lies on the line passing through <var>p0</var> and <var>p1</var>,
otherwise <code>false</code>.  If the <code>Point</code> lies on the line, the
<code>real</code> part is a value r indicating how how far the <code>Point</code>
is along the way from <var>p0</var> to <var>p1</var>, otherwise
<code>INVALID_REAL</code>.  The following
values of r are possible for a call to <code>P.is_on_line(A, B)</code>,
where the <code>Point</code> P lies on the line
AB:

     <pre class="display">          P == A &mdash;&gt; r== 0.
          
          P == B &mdash;&gt; r== 1.
          
          P lies on the opposite side of A from B &mdash;&gt; r &lt; 0.
          
          P lies between A and B &mdash;&gt; 0 &lt;  r &lt; 1.
          
          P lies on the opposite side of A from B &mdash;&gt; r &gt; 1
</pre>
        <pre class="example">          Point A(-1, -2);
          Point B(2, 3);
          Point C(B.mediate(A, 1.25));
          bool_real br = C.is_on_line(A, B);
          Point D(A.mediate(B));
          br = D.is_on_line(A, B);
          Point E(A.mediate(B, 1.25));
          br = E.is_on_line(A, B);
          Point F(D);
          F.shift(-1, 1);
          br = F.is_on_line(A, B);
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF92.png"
alt="[Figure 92. Not displayed.]" 
/>
<br>
<br>
Fig. 92. 
<br>
</p>

        </blockquote></div>

<div class="defun">
&mdash; <code>const</code> function: Point <b>mediate</b> (<var>Point p, </var>[<var>const real r = .5</var>])<var><a name="index-mediate-438"></a></var><br>
<blockquote><p>Returns a <code>Point</code> <var>r</var> of the way from <code>*this</code> to <var>p</var>.

     <pre class="example">          Point p0(-1, 0, -1);
          Point p1(10, 0, 10);
          Point p2(5, 5, 5);
          Point p3 = p0.mediate(p1, 1.5);
          p3.show("p3:");
          -| p3: (15.5, 0, 15.5)
          Point p4 = p0.mediate(p2, 1/3.0);
          p4.show("p4:");
          -| p4: (1, 1.66667, 1)
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF93.png"
alt="[Figure 93. Not displayed.]" 
/>
<br>
<br>
Fig. 93. 
<br>
</p>

        </blockquote></div>

<div class="node">
<a name="Point-Intersections"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Point-Drawing-Functions">Point Drawing Functions</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Points-and-Lines">Points and Lines</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Point-Reference">Point Reference</a>

</div>

<h3 class="section">22.17 Intersections</h3>

<div class="defun">
&mdash; Static function: bool_point <b>intersection_point</b> (<var>Point p0, Point p1, Point q0, Point q1</var>)<var><a name="index-intersection_005fpoint-439"></a></var><br>
&mdash; Static function: bool_point <b>intersection_point</b> (<var>Point p0, Point p1, Point q0, Point q1, const bool trace</var>)<var><a name="index-intersection_005fpoint-440"></a></var><br>
<blockquote><p>These functions find the intersection point, if any, of the lines determined by
<var>p0</var> and <var>p1</var> on the one hand, and <var>q0</var> and <var>q1</var> on the other.

        <p>Let <code>bp</code> be the <code>bool_point</code> returned by
<code>intersection_point()</code>.  If an intersection point is found, the
corresponding <code>Point</code> will be stored in <code>bp.pt</code>, otherwise,
<code>bp.pt</code> will be set to <code>INVALID_POINT</code>.  If the intersection
point lies on both of the line segments, <code>bp.b</code> will be
<code>true</code>, otherwise, <code>false</code>.

        <p>The two versions use different methods of finding the intersection
point.  The first uses a vector calculation, the second looks for the
intersections of the traces of the lines on the major planes.  If the
<var>trace</var> argument is used, the second version will be called, whether
<var>trace</var> is <code>true</code> or <code>false</code>.  Ordinarily, there should be
no need to use the trace version.

     <pre class="example">          Point A(-1, -1);
          Point B(1, 1);
          Point C(-1, 1);
          Point D(1, -1);
          bool_point bp = Point::intersection_point(A, B, C, D);
          bp.pt.dotlabel("$i$");
          cout &lt;&lt; "bp.b == " &lt;&lt; bp.b &lt;&lt; endl &lt;&lt; flush;
          -| bp.b == 1
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF94.png"
alt="[Figure 94. Not displayed.]" 
/>
<br>
<br>
Fig. 94. 
<br>
</p>

     <pre class="example">          Point A(.5, .5);
          Point B(1.5, 1.5);
          Point C(-1, 1);
          Point D(1, -1);
          bool_point bp = Point::intersection_point(A, B, C, D, true);
          bp.pt.dotlabel("$i$");
          cout &lt;&lt; "bp.b == " &lt;&lt; bp.b &lt;&lt; endl &lt;&lt; flush;
          -| bp.b == 0
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF95.png"
alt="[Figure 95. Not displayed.]" 
/>
<br>
<br>
Fig. 95. 
<br>
</p>

     </blockquote></div>

<div class="node">
<a name="Point-Drawing-Functions"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Labelling-Points">Labelling Points</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Point-Intersections">Point Intersections</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Point-Reference">Point Reference</a>

</div>

<h3 class="section">22.18 Drawing</h3>

<p>There are two versions for each of the drawing functions.  The second
one has the <code>Picture</code> argument <var>picture</var> at the beginning of the
argument list, rather than at the end.  This is convenient when passing
a <code>picture</code> argument.  Where <var>picture</var> is optional, the default
is always <code>current_picture</code>.

   <p><a name="index-output-file-441"></a><a name="index-file_002c-output-442"></a><a name="index-pen-expression-443"></a>

<div class="defun">
&mdash; <code>const</code> function: void <b>drawdot</b> ([<var>const Color&amp; ddrawdot_color = </var><code>*Colors::default_color</code><var>, </var>[<var>const string ppen = "", </var>[<var>Picture&amp; picture = </var><code>current_picture</code>]]])<var><a name="index-drawdot-444"></a></var><br>
&mdash; <code>const</code> function: void <b>drawdot</b> ([<var>Picture&amp; picture = </var><code>current_picture</code><var>, </var>[<var>const Color&amp; ddrawdot_color = </var><code>*Colors::default_color</code><var>, </var>[<var>const string ppen = "", </var>]]])<var><a name="index-drawdot-445"></a></var><br>
<blockquote><p>Draws a dot on <var>picture</var>.  If <var>ppen</var> is specified, a &ldquo;pen
expression&rdquo; is included in the <code>drawdot</code> command written to
<code>out_stream</code>.  Otherwise, MetaPost's <code>currentpen</code> is used. 
If <var>ddrawdot_color</var> is specified, the dot will be drawn using that
<code>Color</code>.  Otherwise, the <code>Color</code> currently pointed to by the pointer
<code>Colors::default_color</code> will be used.  This will normally be
<code>Colors::black</code>.  See <a href="#Color-Reference">Color Reference</a>, for more information
about <code>Colors</code> and the <code>namespace Colors</code>.

        <p>Please note that the &ldquo;dot&rdquo; will always be parallel to the plane of
projection.  Even where it appears to be a surface, as in [next figure]
, it
is never put into perspective, but will always have the same size and
shape.

     <pre class="example">          Point P(1, 1);
          P.drawdot(gray, "pensquare scaled 1cm");
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF96.png"
alt="[Figure 96. Not displayed.]" 
/>
<br>
<br>
Fig. 96. 
<br>
</p>

        </blockquote></div>

<div class="defun">
&mdash; Function: void <b>undrawdot</b> ([<var>string pen = "", </var>[<var>Picture&amp; picture = </var><code>current_picture</code>]])<var><a name="index-undrawdot-446"></a></var><br>
&mdash; Function: void <b>undrawdot</b> ([<var>Picture&amp; picture = </var><code>current_picture</code><var>, </var>[<var>string pen = ""</var>]])<var><a name="index-undrawdot-447"></a></var><br>
<blockquote><p>Undraws a dot on <var>picture</var>.  If <var>ppen</var> is specified, a &ldquo;pen
expression&rdquo; is included in the <code>undrawdot</code> command written to
<code>out_stream</code>.  Otherwise, MetaPost's <code>currentpen</code> is used.

     <pre class="example">          Point P(1, 1);
          P.drawdot(gray, "pensquare scaled 1cm");
          P.undrawdot("pencircle scaled .5cm");
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF97.png"
alt="[Figure 97. Not displayed.]" 
/>
<br>
<br>
Fig. 97. 
<br>
</p>

        </blockquote></div>

<div class="defun">
&mdash; Function: void <b>draw</b> (<var>const Point&amp; p, </var>[<var>const Color&amp; ddraw_color = </var><code>*Colors::default_color</code><var>, </var>[<var>string ddashed = "", </var>[<var>string ppen = "", </var>[<var>Picture&amp; picture = </var><code>current_picture</code><var>, </var>[<var>bool aarrow = </var><code>false</code>]]]]])<var><a name="index-draw-448"></a></var><br>
&mdash; Function: void <b>draw</b> (<var>Picture&amp; picture = </var><code>current_picture</code><var>, const Point&amp; p, </var>[<var>const Color&amp; ddraw_color = </var><code>*Colors::default_color</code><var>, </var>[<var>string ddashed = "", </var>[<var>string ppen = "", </var>[<var>bool aarrow = </var><code>false</code>]]]])<var><a name="index-draw-449"></a></var><br>
<blockquote><p>Draws a line from <code>*this</code> to <var>p</var>. 
Returns the <code>Path *this -- p1</code>. 
See <a href="#Drawing-and-Filling-Paths">Path Reference; Drawing and Filling</a>,
for more information.

     <pre class="example">          Point P(-1, -1, -1);
          Point Q(2, 3, 5);
          P.draw(Q, Colors::gray, "", "pensquare scaled .5cm");
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF98.png"
alt="[Figure 98. Not displayed.]" 
/>
<br>
<br>
Fig. 98. 
<br>
</p>

        </blockquote></div>

<div class="defun">
&mdash; Function: void <b>undraw</b> (<var>const Point&amp; p, </var>[<var>string ddashed = "", </var>[<var>string ppen = "", </var>[<var>Picture&amp; picture = </var><code>current_picture</code>]]])<var><a name="index-undraw-450"></a></var><br>
&mdash; Function: void <b>undraw</b> (<var>Picture&amp; picture, const Point&amp; p, </var>[<var>string ddashed = "", </var>[<var>string ppen = ""</var>]])<var><a name="index-undraw-451"></a></var><br>
<blockquote><p>Undraws a line from <code>*this</code> to <var>p</var>. 
Returns the <code>Path *this -- p1</code>. 
See <a href="#Drawing-and-Filling-Paths">Path Reference; Drawing and Filling</a>,
for more information.

     <pre class="example">          Point P(-1, -1, -1);
          Point Q(2, 3, 5);
          P.draw(Q, Colors::gray, "", "pensquare scaled .5cm");
          P.undraw(Q, "evenly scaled 6", "pencircle scaled .3cm");
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF99.png"
alt="[Figure 99. Not displayed.]" 
/>
<br>
<br>
Fig. 99. 
<br>
</p>

        </blockquote></div>

   <p><a name="index-help-lines-452"></a>

<div class="defun">
&mdash; Function: Path <b>draw_help</b> (<var>const Point&amp; p, </var>[<var>const Color&amp; ddraw_color = *Colors::help_color, </var>[<var>string ddashed = "", </var>[<var>string ppen = "", </var>[<var>Picture&amp; picture = current_picture</var>]]]])<var><a name="index-draw_005fhelp-453"></a></var><br>
&mdash; Function: Path <b>draw_help</b> (<var>Picture&amp; picture, const Point&amp; p, </var>[<var>const Color&amp; ddraw_color = *Colors::help_color, </var>[<var>string ddashed = "", </var>[<var>string ppen = ""</var>]]])<var><a name="index-draw_005fhelp-454"></a></var><br>
<blockquote><p>Draws a &ldquo;help line&rdquo; from <code>*this to </code><var>p</var>, but only if the
<code>static Path</code> data member <code>do_help_lines</code> is <code>true</code>. 
See <a href="#Path-Data-Members">Path Reference; Data Members</a>.

        <p>&ldquo;Help lines&rdquo; are lines that are used when constructing a drawing, but
that should not be printed in the final version. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: Path <b>drawarrow</b> (<var>const Point&amp; p, </var>[<var>const Color&amp; ddraw_color = </var><code>*Colors::default_color</code><var>, </var>[<var>string ddashed = "", </var>[<var>string ppen = "", </var>[<var>Picture&amp; picture = </var><code>current_picture</code>]]]])<var><a name="index-drawarrow-455"></a></var><br>
&mdash; Function: Path <b>drawarrow</b> (<var>Picture&amp; picture, const Point&amp; p, </var>[<var>const Color&amp; ddraw_color = </var><code>*Colors::default_color</code><var>, </var>[<var>string ddashed = "", </var>[<var>string ppen = ""</var>]]])<var><a name="index-drawarrow-456"></a></var><br>
<blockquote><p>Draws an arrow from <code>*this</code> to <var>p</var> and returns
the <code>Path</code> <code>*this -- p</code>. 
The second version is convenient for passing a <code>Picture</code> argument
without having to specify all of the other arguments.

     <pre class="example">          Point P(-3, -2, 1);
          Point Q(3, 3, 5);
          P.drawarrow(Q);
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF100.png"
alt="[Figure 100. Not displayed.]" 
/>
<br>
<br>
Fig. 100. 
<br>
</p>

        </blockquote></div>

<div class="node">
<a name="Labelling-Points"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Showing-Points">Showing Points</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Point-Drawing-Functions">Point Drawing Functions</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Point-Reference">Point Reference</a>

</div>

<h3 class="section">22.19 Labelling</h3>

<p>Labels make it possible to include TeX text within a drawing. 
Labels are implemented by means of <code>class Label</code>. 
The functions <code>label()</code> and <code>dotlabel()</code>, described in this
section, create objects of type <code>Label</code>, and add them to the
<code>Picture</code>, which was passed to them as an argument
(<code>current_picture</code>, by default). 
See <a href="#Label-Reference">Label Reference</a>, for more information.

<div class="defun">
&mdash; <code>const</code> function: void <b>label</b> (<var>const string text_str, </var>[<var>const string position_str = "top", </var>[<var>const bool dot = </var><code>false</code><var>, </var>[<var>Picture&amp; picture = </var><code>current_picture</code>]]])<var><a name="index-label-457"></a></var><br>
&mdash; <code>const</code> function: void <b>label</b> (<var>const short text_short, </var>[<var>const string position_str = "top", </var>[<var>const bool dot = </var><code>false</code><var>, </var>[<var>Picture&amp; picture = </var><code>current_picture</code>]]])<var><a name="index-label-458"></a></var><br>
<blockquote><p>These functions cause a <code>Point</code> to be labelled in the drawing. 
The first argument is the text of the label. It can either be a
<code>string</code>, in the first version, or a <code>short</code>, in the second. 
It will often be the name of the <code>Point</code> in the C++
 code, for
example, <code>"p0"</code>. 
It is not possible to automate this kind of
labelling, because it is not possible to access the names of variables
through the variables themselves in C++
.

        <p><var>text_str</var> is always placed between
&ldquo;<code>btex''</code> and &ldquo;<code>etex</code>&rdquo; in the MetaPost <code>label</code> command
written to <code>out_stream</code>.  This makes it possible to include math
mode material in the text of labels, as in the following example.

     <pre class="example">          Point p0(2, 3);
          p0.label("$p_0$");
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF101.png"
alt="[Figure 101. Not displayed.]" 
/>
<br>
<br>
Fig. 101. 
<br>
</p>

        <p>If backslashes are needed in the text of the label, then
<var>text_str</var> must contain double backslashes, so that single
backslashes will be written to <code>out_stream</code>.

     <pre class="example">          Point P;
          Point Q(2, 2);
          Point R(P.mediate(Q));
          R.label("$\\overrightarrow{PQ}$", "ulft");
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF102.png"
alt="[Figure 102. Not displayed.]" 
/>
<br>
<br>
Fig. 102. 
<br>
</p>

        <p>The <var>position</var> argument indicates where the text of the label should
be located relative to the <code>Point</code>.  The valid values are the
strings used in MetaPost for this purpose, i.e., &lsquo;<samp><span class="samp">top</span></samp>&rsquo;, &lsquo;<samp><span class="samp">bot</span></samp>&rsquo;,
&lsquo;<samp><span class="samp">lft</span></samp>&rsquo;, &lsquo;<samp><span class="samp">rt</span></samp>&rsquo;, &lsquo;<samp><span class="samp">llft</span></samp>&rsquo; (lower left), &lsquo;<samp><span class="samp">lrt</span></samp>&rsquo; (lower
right), &lsquo;<samp><span class="samp">ulft</span></samp>&rsquo; (upper left), and &lsquo;<samp><span class="samp">urt</span></samp>&rsquo; (upper right).  The
default is &lsquo;<samp><span class="samp">top</span></samp>&rsquo;.  3DLDF does not catch the error if an invalid
<code>position</code> argument is used; the <code>string</code> is written to the
output file and an error will occur when MetaPost is run.

        <p>The <var>dot</var> argument is used to determine whether the label should be
dotted or not.  The default is <code>false</code>.  The function
<code>dotlabel()</code> calls <code>label()</code>, passing <code>true</code> as the
latter's <var>dot</var> argument. 
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> function: void <b>dotlabel</b> ([<var>const string text_str, </var>[<var>const string position_str = "top", </var>[<var>Picture&amp; picture = </var><code>current_picture</code>]]])<var><a name="index-dotlabel-459"></a></var><br>
&mdash; <code>const</code> function: void <b>dotlabel</b> (<var>const short text_short, </var>[<var>const string position_str = "top", </var>[<var>Picture&amp; picture = current_picture</var>]])<var><a name="index-dotlabel-460"></a></var><br>
<blockquote><p>These functions are like <code>label()</code> except that they always produces a
dot.

     <pre class="example">          Point p0(2, 3);
          p0.dotlabel("$p_0$");
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF103.png"
alt="[Figure 103. Not displayed.]" 
/>
<br>
<br>
Fig. 103. 
<br>
</p>

        </blockquote></div>

<div class="node">
<a name="Showing-Points"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Outputting-Points">Outputting Points</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Labelling-Points">Labelling Points</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Point-Reference">Point Reference</a>

</div>

<h3 class="section">22.20 Showing</h3>

<div class="defun">
&mdash; <code>const</code> function: void <b>show</b> ([<var>string text = "", </var>[<var>char coords = 'w', </var>[<var>const bool do_persp = true, </var>[<var>const bool do_apply = true, </var>[<var>Focus* f = 0, </var>[<var>const unsigned short proj = Projections::persp, </var>[<var>const real factor = 1</var>]]]]]]])<var><a name="index-show-461"></a></var><br>
<blockquote><p>Prints <var>text</var> followed by the values of a set of coordinates to
standard output (<code>stdout</code>).  The other arguments are similar to
those used in the functions described in <a href="#Returning-Coordinates">Returning Coordinates</a>.

     <pre class="example">          Point P(1, 3, 5);
          P.rotate(15, 67, 98);
          P.show("P:");
          -| P: (-3.68621, -3.89112, 2.50421)
</pre>
        </blockquote></div>

<div class="defun">
&mdash; Function: void <b>show_transform</b> ([<var>string text = ""</var>])<var><a name="index-show_005ftransform-462"></a></var><br>
<blockquote><p>Prints <var>text</var> to standard output (<code>stdout</code>),
or <code>"transform:"</code>, if <var>text</var> is the empty <code>string</code> (the
default), and then
calls <code>transform.show()</code>.

     <pre class="example">          Point A(-1, 1, 1);
          Point B(13, 12, 6);
          Point Q(31, 17.31, 6);
          Q.rotate(A, B, 32);
          Q.show_transform("Q.transform:");
          -| Q.transform:
             Transform:
               0.935   0.212  -0.284       0
             -0.0749   0.902   0.426       0
               0.346  -0.377   0.859       0
              -0.336   0.687  -0.569       1
</pre>
        </blockquote></div>

<div class="node">
<a name="Outputting-Points"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Showing-Points">Showing Points</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Point-Reference">Point Reference</a>

</div>

<h3 class="section">22.21 Outputting</h3>

<div class="defun">
&mdash; Non-member function: ostream&amp; <b>operator&lt;&lt;</b> (<var>ostream&amp; o, Point&amp; p</var>)<var><a name="index-operator_003c_003c-463"></a></var><br>
<blockquote><p>Used in <code>Path::output()</code> for writing
the x and y values of the <code>projective_coordinates</code> of <code>Points</code> to
<code>out_stream</code>.  See <a href="#Outputting-Paths">Path Reference; Outputting</a>. 
This is a low-level function that ordinary users should never have to
invoke directly. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: void <b>output</b> (<var>void</var>)<var><a name="index-output-464"></a></var><br>
<blockquote><p>Writes the MetaPost code for drawing or undrawing a <code>Point</code> to
<code>out_stream</code>.  Called by <code>Picture::output()</code>, when a
<code>Shape</code> on the <code>Picture</code> is a <code>Point</code>. 
See <a href="#Outputting-Pictures">Picture Reference; Outputting</a>. 
</p></blockquote></div>

<div class="defun">
&mdash; Virtual function: void <b>suppress_output</b> (<var>void</var>)<var><a name="index-suppress_005foutput-465"></a></var><br>
<blockquote><p>Sets <code>do_output</code> to <code>false</code>, which causes a <code>Point</code>
not to be output.  This function is called in
<code>Picture::output()</code>, when a <code>Point</code> cannot be projected. 
See <a href="#Outputting-Pictures">Picture Reference; Outputting</a>. 
</p></blockquote></div>

<div class="defun">
&mdash; Virtual function: virtual <b>void</b><var> unsuppress_output </var>(<var>void</var>)<var><a name="index-void-466"></a></var><br>
<blockquote><p>Resets <code>do_output</code> to <code>true</code>, so that a <code>Point</code> can
potentially be output, if <code>Picture::output()</code> is called again for
the <code>Picture</code> the <code>Point</code> is on. 
This function is called in
<code>Picture::output()</code>. 
See <a href="#Outputting-Pictures">Picture Reference; Outputting</a>. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: <code>vector&lt;shape*&gt;</code> <b>extract</b> (<var>const Focus&amp; f, const unsigned short proj, real factor</var>)<var><a name="index-extract-467"></a></var><br>
<blockquote><p>Attempts to project the <code>Point</code>
using the arguments passed to <code>Picture::output()</code>, which calls this
function.  If <code>extract()</code> succeeds,
it returns a <code>vector&lt;shape*&gt;</code> containing only the <code>Point</code>. 
Otherwise, it returns an empty <code>vector&lt;shape*&gt;</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Virtual function: bool <b>set_extremes</b> (<var>void</var>)<var><a name="index-set_005fextremes-468"></a></var><br>
<blockquote><p>Sets &ldquo;extreme&rdquo; values
for x, y, and z in <code>projective_coordinates</code>.  This
is, of course, trivial for
<code>Points</code>, because they only have one x, y and z-coordinate. 
So the maxima and minima for each coordinate are always the same. 
</p></blockquote></div>

<div class="defun">
&mdash; Virtual inline <code>const</code> function: <code>valarray &lt;real&gt;</code> <b>get_extremes</b> (<var>void</var>)<var><a name="index-get_005fextremes-469"></a></var><br>
<blockquote><p>Returns <code>projective_extremes</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Virtual <code>const</code> function: real <b>get_minimum_z</b> (<var>void</var>)<var><a name="index-get_005fminimum_005fz-470"></a></var><br>
&mdash; Virtual <code>const</code> function: real <b>get_maximum_z</b> (<var>void</var>)<var><a name="index-get_005fmaximum_005fz-471"></a></var><br>
&mdash; Virtual <code>const</code> function: real <b>get_mean_z</b> (<var>void</var>)<var><a name="index-get_005fmean_005fz-472"></a></var><br>
<blockquote><p>These functions return the minimum, maximum, and mean z-value of the
<code>Point</code>. 
<code>get_minimum_z()</code> returns <code>projective_extremes[4]</code>,
<code>get_maximum_z()</code> returns <code>projective_extremes[5]</code>, and
<code>get_mean_z()</code> returns
<code>(projective_extremes[4] + projective_extremes[5]) / 2</code>. 
However, since a <code>Point</code> has only one z-coordinate
(from <code>world_coordinates</code>), these values will all be the same.

        <p>These functions are pure virtual functions in <code>Shape</code>, and are
called on <code>Points</code> through pointers to <code>Shape</code>.  Therefore,
they must be consistent with the versions for other types derived from
<code>Shape</code>.  See <a href="#Outputting-Shapes">Shape Reference; Outputting</a>. 
</p></blockquote></div>

<!-- focus.texi -->
<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
<div class="node">
<a name="Focus-Reference"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Line-Reference">Line Reference</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Point-Reference">Point Reference</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">23 Focus Reference</h2>

<p><a name="index-Focus-473"></a>Class <code>Focus</code> is defined in <samp><span class="file">points.web</span></samp>. 
<code>Focuses</code> are used when creating a perspective projection. 
They represent the center of projection and can be thought of like a
camera viewing the scene.

<ul class="menu">
<li><a accesskey="1" href="#Focus-Data-Members">Focus Data Members</a>
<li><a accesskey="2" href="#Focus-Global-Variables">Focus Global Variables</a>
<li><a accesskey="3" href="#Focus-Constructors-and-Setting-Functions">Focus Constructors and Setting Functions</a>
<li><a accesskey="4" href="#Focus-Operators">Focus Operators</a>
<li><a accesskey="5" href="#Modifying-Focuses">Modifying Focuses</a>
<li><a accesskey="6" href="#Querying-Focuses">Querying Focuses</a>
<li><a accesskey="7" href="#Showing-Focuses">Showing Focuses</a>
</ul>

<div class="node">
<a name="Focus-Data-Members"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Focus-Global-Variables">Focus Global Variables</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Focus-Reference">Focus Reference</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Focus-Reference">Focus Reference</a>

</div>

<h3 class="section">23.1 Data Members</h3>

<div class="defun">
&mdash; Private variable: Point <b>position</b><var><a name="index-position-474"></a></var><br>
<blockquote><p>The location of the <code>Focus</code> in the world coordinate system. 
</p></blockquote></div>

<div class="defun">
&mdash; Private variable: Point <b>direction</b><var><a name="index-direction-475"></a></var><br>
<blockquote><p>The direction of view from <code>position</code> into the scene. 
</p></blockquote></div>

<div class="defun">
&mdash; Private variable: Point <b>up</b><var><a name="index-up-476"></a></var><br>
<blockquote><p>The direction that will be at the top of the projected drawing. 
</p></blockquote></div>

<div class="defun">
&mdash; Private variable: real <b>distance</b><var><a name="index-distance-477"></a></var><br>
<blockquote><p>The distance of the <code>Focus</code> from the plane of projection. 
</p></blockquote></div>

<div class="defun">
&mdash; Private variable: real <b>angle</b><var><a name="index-angle-478"></a></var><br>
<blockquote><p>Used for determining the <code>up</code> direction. 
</p></blockquote></div>

<div class="defun">
&mdash; Private variable: char <b>axis</b><var><a name="index-axis-479"></a></var><br>
<blockquote><p>The main axis onto which the <code>Focus</code> is transformed in order to
perform the perspective projection, z by default.

        <p>It will normally not matter which axis is used, but it might be
advantageous to use a particular axis in some special situations. 
</p></blockquote></div>

<div class="defun">
&mdash; Private variable: Transform <b>transform</b><var><a name="index-transform-480"></a></var><br>
<blockquote><p>The <code>Transform</code>, which will be applied to the <code>Shapes</code> on the
<code>Picture</code>, when the latter is output.  The effect of this is
equivalent to transforming the <code>Focus</code>, so that it lies on a major
axis.

     <pre class="example">          Focus f(5, 5, -10, 2, 4, 10, 10, 180);
          &rArr;
</pre>
        <pre class="display">          <code>f.transform</code> ==
           0.989  -0.00733  -0.148  0
           0       0.999    -0.0494 0
           0.148   0.0488    0.988  0
          -3.4    -4.47      0.865  1
          
</pre>
        </blockquote></div>

<div class="defun">
&mdash; Private variable: Transform <b>persp</b><var><a name="index-persp-481"></a></var><br>
<blockquote><p>The <code>Transform</code> representing the perspective transformation for a
particular <code>Focus</code>. 
Let d stand for <code>distance</code>, then
     <pre class="display">          <code>persp</code> ==
          1 0 0  0
          0 1 0  0
          0 0 0 1/d
          0 0 0  1
</pre>
        </blockquote></div>

<div class="node">
<a name="Focus-Global-Variables"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Focus-Constructors-and-Setting-Functions">Focus Constructors and Setting Functions</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Focus-Data-Members">Focus Data Members</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Focus-Reference">Focus Reference</a>

</div>

<h3 class="section">23.2 Global Variables</h3>

<div class="defun">
&mdash; Variable: Focus <b>default_focus</b><var><a name="index-default_005ffocus-482"></a></var><br>
<blockquote><p>Effectively, the default <code>Focus</code> in <code>Picture::output()</code>. 
See <a href="#Picture-Output-Functions">Picture Reference; Outputting; Functions</a>. 
It's not really the default, but the version of
<code>output()</code> that doesn't take a
<code>Focus</code> argument calls another version
that does take one, passing <code>default_focus</code> to the
latter as its <code>Focus</code> argument.

        <p>It's necessary to do this in such a roundabout way,
because <code>Picture::output()</code> must be declared before
<code>class Focus</code> is completely defined and <code>default_focus</code> is declared.

        <p>The declaration &lsquo;<samp><span class="samp">Focus&amp; f = default_focus;</span></samp>&rsquo; makes <code>f</code> a
reference to <code>default_focus</code>, i.e., it makes <code>f</code> another name
for <code>default_focus</code>.  This may be convenient, if you don't feel
like typing <code>default_focus</code>. 
</p></blockquote></div>

<div class="node">
<a name="Focus-Constructors-and-Setting-Functions"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Focus-Operators">Focus Operators</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Focus-Global-Variables">Focus Global Variables</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Focus-Reference">Focus Reference</a>

</div>

<h3 class="section">23.3 Constructors and Setting Functions</h3>

<div class="defun">
&mdash; Default constructor: void <b>Focus</b> (<var>void</var>)<var><a name="index-Focus-483"></a></var><br>
<blockquote><p>Creates an empty <code>Focus</code>
</p></blockquote></div>

<div class="defun">
&mdash; Constructor: void <b>Focus</b> (<var>const real pos_x, const real pos_y, const real pos_z, const real dir_x, const real dir_y, const real dir_z, const real dist, </var>[<var>const real ang = 0, </var>[<var>char ax = 'z'</var>]])<var><a name="index-Focus-484"></a></var><br>
<blockquote><p>Constructs a <code>Focus</code> using the first three <code>real</code> arguments as
the x, y, and z-coordinates of <code>position</code>, and the fourth through the
sixth argument as the x, y, and z-coordinates of <code>direction</code>.  <var>dist</var>
specifies the distance of the <code>Focus</code>
from the plane of projection, <var>ang</var> the angle of rotation, which affects which
direction is considered to be &ldquo;up&rdquo;, and <var>ax</var> the major axis to
which the <code>Focus</code> is aligned. 
</p></blockquote></div>

<div class="defun">
&mdash; Setting function: void <b>set</b> (<var>const real pos_x, const real pos_y, const real pos_z, const real dir_x, const real dir_y, const real dir_z, const real dist, </var>[<var>const real ang = 0, </var>[<var>char ax = 'z'</var>]])<var><a name="index-set-485"></a></var><br>
<blockquote><p>Resets an existing <code>Focus</code>.  Corresponds to the constructor above. 
</p></blockquote></div>

<div class="defun">
&mdash; Constructor: void <b>Focus</b> (<var>const Point&amp; pos, const Point&amp; dir, const real dist, </var>[<var>const real ang = 0, </var>[<var>char ax = 'z'</var>]])<var><a name="index-Focus-486"></a></var><br>
<blockquote><p>Constructs a <code>Focus</code> using <code>Point</code> arguments for
<code>position</code> and <code>direction</code>.  Otherwise, the arguments of this constructor
correspond to those of the one above. 
</p></blockquote></div>

<div class="defun">
&mdash; Setting function: void <b>set</b> (<var>const Point&amp; pos, const Point&amp; dir, const real dist, </var>[<var>const real ang = 0, </var>[<var>char ax = 'z'</var>]])<var><a name="index-set-487"></a></var><br>
<blockquote><p>Resets an existing <code>Focus</code>.  Corresponds to the constructor above. 
</p></blockquote></div>

<div class="node">
<a name="Focus-Operators"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Modifying-Focuses">Modifying Focuses</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Focus-Constructors-and-Setting-Functions">Focus Constructors and Setting Functions</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Focus-Reference">Focus Reference</a>

</div>

<h3 class="section">23.4 Operators</h3>

<div class="defun">
&mdash; Assignment operator: const Focus&amp; <b>operator=</b> (<var>const Focus&amp; f</var>)<var><a name="index-operator_003d-488"></a></var><br>
<blockquote><p>Sets the <code>Focus</code> to <var>f</var>. 
</p></blockquote></div>

<div class="node">
<a name="Modifying-Focuses"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Querying-Focuses">Querying Focuses</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Focus-Operators">Focus Operators</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Focus-Reference">Focus Reference</a>

</div>

<h3 class="section">23.5 Modifying</h3>

<div class="defun">
&mdash; Function: void <b>reset_angle</b> (<var>const real ang</var>)<var><a name="index-reset_005fangle-489"></a></var><br>
<blockquote><p>Resets the value of <code>angle</code> and recalculates the <code>Transforms</code>
<code>transform</code> and <code>persp</code>. 
</p></blockquote></div>

<div class="node">
<a name="Querying-Focuses"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Showing-Focuses">Showing Focuses</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Modifying-Focuses">Modifying Focuses</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Focus-Reference">Focus Reference</a>

</div>

<h3 class="section">23.6 Querying</h3>

<div class="defun">
&mdash; Inline <code>const</code> function: const Point&amp; <b>get_position</b> (<var>void</var>)<var><a name="index-get_005fposition-490"></a></var><br>
<blockquote><p>Returns <code>position</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Inline <code>const</code> function: const Point&amp; <b>get_direction</b> (<var>void</var>)<var><a name="index-get_005fdirection-491"></a></var><br>
<blockquote><p>Returns <code>direction</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Inline <code>const</code> function: const real&amp; <b>get_distance</b> (<var>void</var>)<var><a name="index-get_005fdistance-492"></a></var><br>
<blockquote><p>Returns <code>distance</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Inline <code>const</code> function: const Point&amp; <b>get_up</b> (<var>void</var>)<var><a name="index-get_005fup-493"></a></var><br>
<blockquote><p>Returns <code>up</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Inline <code>const</code> function: const Transform&amp; <b>get_transform</b> (<var>void</var>)<var><a name="index-get_005ftransform-494"></a></var><br>
<blockquote><p>Returns <code>transform</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Inline <code>const</code> function: const real&amp; <b>get_transform_element</b> (<var>const unsigned int row, const unsigned int column</var>)<var><a name="index-get_005ftransform_005felement-495"></a></var><br>
<blockquote><p>Returns an element of <code>transform</code>, given two <code>unsigned ints</code> for the row
and the column. 
</p></blockquote></div>

<div class="defun">
&mdash; Inline <code>const</code> function: const Transform&amp; <b>get_persp</b> (<var>void</var>)<var><a name="index-get_005fpersp-496"></a></var><br>
<blockquote><p>Returns <code>persp</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Inline <code>const</code> function: const real&amp; <b>get_persp_element</b> (<var>const unsigned int row, const unsigned int column</var>)<var><a name="index-get_005fpersp_005felement-497"></a></var><br>
<blockquote><p>Returns an element of <code>persp</code>, given two <code>unsigned ints</code> for the row
and the column. 
</p></blockquote></div>

<div class="node">
<a name="Showing-Focuses"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Querying-Focuses">Querying Focuses</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Focus-Reference">Focus Reference</a>

</div>

<h3 class="section">23.7 Showing</h3>

<div class="defun">
&mdash; <code>const</code> function: void <b>show</b> ([<var>const string text_str = "Focus:", </var>[<var>const bool show_transforms = false</var>]])<var><a name="index-show-498"></a></var><br>
<blockquote><p>Prints <var>text_str</var> to standard output (<code>stdout</code>), then calls
<code>Point::show()</code> on <code>position</code>, <code>direction</code>, and
<code>up</code>.  Then the values of <code>distance</code>, <code>axis</code>, and
<code>angle</code> are printed to <code>stdout</code>.  If <var>show_transforms</var> is
<code>true</code>, <code>transform</code> and <code>persp</code> are shown as well. 
</p></blockquote></div>

<!-- line.texi -->
<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
<div class="node">
<a name="Line-Reference"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Plane-Reference">Plane Reference</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Focus-Reference">Focus Reference</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">24 Line Reference</h2>

<p><a name="index-Line-499"></a>The <code>struct Line</code> is defined in <samp><span class="file">lines.web</span></samp>. 
<code>Lines</code> are not <code>Shapes</code>.  They are used for
performing vector operations.  A <code>Line</code> is defined by a
<code>Point</code> representing a position vector and a <code>Point</code>
representing a direction vector.

   <p>See also the descriptions of <code>Point::get_line()</code> in
<a href="#Points-and-Lines">Points and Lines</a>, and
<code>Path::get_line()</code> in
<a href="#Querying-Paths">Path Reference; Querying</a>.

<ul class="menu">
<li><a accesskey="1" href="#Line-Data-Members">Line Data Members</a>
<li><a accesskey="2" href="#Line-Global-Constants">Line Global Constants</a>
<li><a accesskey="3" href="#Line-Constructors">Line Constructors</a>
<li><a accesskey="4" href="#Line-Operators">Line Operators</a>
<li><a accesskey="5" href="#Get-Path">Get Path</a>
<li><a accesskey="6" href="#Showing">Showing</a>
</ul>

<div class="node">
<a name="Line-Data-Members"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Line-Global-Constants">Line Global Constants</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Line-Reference">Line Reference</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Line-Reference">Line Reference</a>

</div>

<h3 class="section">24.1 Data Members</h3>

<div class="defun">
&mdash; Public variable: Point <b>position</b><var><a name="index-position-500"></a></var><br>
<blockquote><p>Represents the position vector of the <code>Line</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Public variable: Point <b>direction</b><var><a name="index-direction-501"></a></var><br>
<blockquote><p>Represents the direction vector of the <code>Line</code>. 
</p></blockquote></div>

<div class="node">
<a name="Line-Global-Constants"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Line-Constructors">Line Constructors</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Line-Data-Members">Line Data Members</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Line-Reference">Line Reference</a>

</div>

<h3 class="section">24.2 Global Constants</h3>

<div class="defun">
&mdash; Constant: const Line <b>INVALID_LINE</b><var><a name="index-INVALID_005fLINE-502"></a></var><br>
<blockquote><p><code>position</code> and <code>direction</code> are both <code>INVALID_POINT</code>. 
</p></blockquote></div>

<div class="node">
<a name="Line-Constructors"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Line-Operators">Line Operators</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Line-Global-Constants">Line Global Constants</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Line-Reference">Line Reference</a>

</div>

<h3 class="section">24.3 Constructors</h3>

<div class="defun">
&mdash; Default constructor: void <b>Line</b> (<var>const Point&amp; pos = </var><code>origin</code><var>, const Point&amp; dir = </var><code>origin</code>)<var><a name="index-Line-503"></a></var><br>
<blockquote><p>Creates a <code>Line</code>, setting <code>position</code> to <var>pos</var>, and
<code>direction</code> to <var>dir</var>.  If this function is called with no
arguments, it creates a <code>Line</code> at the <code>origin</code> with no
direction.

     <pre class="example">          Point p(2, 1, 2);
          Point d(-3, 3, 3.5);
          Line L0(p, d);
          Line L1 = p.get_line(d);
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF104.png"
alt="[Figure 104. Not displayed.]" 
/>
<br>
<br>
Fig. 104. 
<br>
</p>

     </blockquote></div>

<div class="defun">
&mdash; Copy constructor: void <b>Line</b> (<var>const Line&amp; l</var>)<var><a name="index-Line-504"></a></var><br>
<blockquote><p>Creates a <code>Line</code>, making it a copy of <var>l</var>. 
</p></blockquote></div>

<div class="node">
<a name="Line-Operators"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Get-Path">Get Path</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Line-Constructors">Line Constructors</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Line-Reference">Line Reference</a>

</div>

<h3 class="section">24.4 Operators</h3>

<div class="defun">
&mdash; Assignment operator: void <b>operator=</b> (<var>const Line&amp; l</var>)<var><a name="index-operator_003d-505"></a></var><br>
<blockquote><p>Sets <code>*this</code> to <var>l</var>. 
</p></blockquote></div>

<!-- LDF 2003.06.03.  Add description of @code{get_distance()}, when I've -->
<!-- fixed it. -->
<div class="node">
<a name="Get-Path"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Showing">Showing</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Line-Operators">Line Operators</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Line-Reference">Line Reference</a>

</div>

<h3 class="section">24.5 Get Path</h3>

<div class="defun">
&mdash; <code>const</code> function: Path <b>get_path</b> (<var>void</var>)<var><a name="index-get_005fpath-506"></a></var><br>
<blockquote><p>Returns a linear <code>Path</code> with two <code>Points</code>
on the <code>Line</code>.  The first <code>Point</code> will be <code>position</code>, and
the second will be <code>position + direction</code>. 
</p></blockquote></div>

<div class="node">
<a name="Showing"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Get-Path">Get Path</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Line-Reference">Line Reference</a>

</div>

<h3 class="section">24.6 Showing</h3>

<div class="defun">
&mdash; Function: void <b>show</b> ([<var>string text = ""</var>])<var><a name="index-show-507"></a></var><br>
<blockquote><p>If <var>text</var> is not the empty <code>string</code> (the default), it is
printed on a line of its own to standard output.  Otherwise, &lsquo;<samp><span class="samp">Line:</span></samp>&rsquo;
is printed.  Following this, <code>Point::show()</code> is called on
<code>position</code> and <code>direction</code>.

     <pre class="example">          Point p(1, -2, 3);
          Point d(-12.3, 21, 36.002);
          Line L0(p, d);
          L0.show("L0:");
          -| L0:
             position: (1, -2, 3)
             direction: (-12.3, 21, 36.002)
          Line L1 = p.get_line(d);
          L1.show("L1:");
          -| L1:
             position: (1, -2, 3)
             direction: (-13.3, 23, 33.002)
          Path q = L1.get_path();
          q.show("q:");
          -| q:
             fill_draw_value == 0
             (1, -2, 3) -- (-12.3, 21, 36.002);
</pre>
        </blockquote></div>

<!-- plane.texi -->
<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
<div class="node">
<a name="Plane-Reference"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Path-Reference">Path Reference</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Line-Reference">Line Reference</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">25 Plane Reference</h2>

<p><a name="index-Plane-508"></a>The <code>struct Plane</code>  is defined in <samp><span class="file">planes.web</span></samp>. 
<code>Planes</code> are not <code>Shapes</code>.  They are used for
performing vector operations.  A <code>Plane</code> is defined by a
<code>Point</code> representing a point on the plane, a <code>Point</code>
representing the normal to the plane, and the distance of the plane from
the origin.

   <p>The most common use of <code>Planes</code> is to represent the
plane in which an existing plane figure lies.  Therefore, they
most likely to be created by using <code>Path::get_plane()</code>. 
See <a href="#Querying-Paths">Path Reference; Querying</a>.  However, <code>class
Plane</code> does have constructors for creating <code>Planes</code> directly, if
desired. 
See <a href="#Planes-Constructors">Planes Reference; Constructors</a>.

<ul class="menu">
<li><a accesskey="1" href="#Planes-Data-Members">Planes Data Members</a>
<li><a accesskey="2" href="#Planes-Global-Constants">Planes Global Constants</a>
<li><a accesskey="3" href="#Planes-Constructors">Planes Constructors</a>
<li><a accesskey="4" href="#Planes-Operators">Planes Operators</a>
<li><a accesskey="5" href="#Planes-Returning-Information">Planes Returning Information</a>
<li><a accesskey="6" href="#Plane-Intersections">Plane Intersections</a>
<li><a accesskey="7" href="#Planes-Showing">Planes Showing</a>
</ul>

<div class="node">
<a name="Planes-Data-Members"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Planes-Global-Constants">Planes Global Constants</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Plane-Reference">Plane Reference</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Plane-Reference">Plane Reference</a>

</div>

<h3 class="section">25.1 Data Members</h3>

<p>Because the main purpose of <code>Plane</code> is to
provide information about <code>Shapes</code>, its data members are all
<code>public</code>.

<div class="defun">
&mdash; Public variable: Point <b>point</b><var><a name="index-point-509"></a></var><br>
<blockquote><p>Represents a point on the plane. 
</p></blockquote></div>

<div class="defun">
&mdash; Public variable: Point <b>normal</b><var><a name="index-normal-510"></a></var><br>
<blockquote><p>Represents the normal to the plane. 
</p></blockquote></div>

<div class="defun">
&mdash; Public variable: real <b>distance</b><var><a name="index-distance-511"></a></var><br>
<blockquote><p>The distance of the plane from the origin. 
</p></blockquote></div>

<div class="node">
<a name="Planes-Global-Constants"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Planes-Constructors">Planes Constructors</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Planes-Data-Members">Planes Data Members</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Plane-Reference">Plane Reference</a>

</div>

<h3 class="section">25.2 Global Constants</h3>

<div class="defun">
&mdash; Constant: const Plane <b>INVALID_PLANE</b><var><a name="index-INVALID_005fPLANE-512"></a></var><br>
<blockquote><p>A <code>Plane</code> with <code>point</code> == <code>normal</code>, and
<code>distance</code> == <code>INVALID_REAL</code>.

        <p><code>INVALID_PLANE</code> is returned from <code>Path::get_plane()</code>, if the
<code>Path</code> is not planar.  See <a href="#Querying-Paths">Path Reference; Querying</a>. 
</p></blockquote></div>

<div class="node">
<a name="Planes-Constructors"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Planes-Operators">Planes Operators</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Planes-Global-Constants">Planes Global Constants</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Plane-Reference">Plane Reference</a>

</div>

<h3 class="section">25.3 Constructors</h3>

<div class="defun">
&mdash; Default constructor: void <b>Plane</b> (<var>void</var>)<var><a name="index-Plane-513"></a></var><br>
<blockquote><p>Creates a degenerate <code>Plane</code> with
<code>point</code> == <code>normal</code> == <code>origin</code>, and
<code>distance</code> == 0.

        <p><code>Planes</code> constructed using this constructor will probably be set
using the assignment operator
or <code>Path::get_plane()</code>
immediately, or
very soon after being declared. 
See <a href="#Planes-Operators">Planes Reference; Operators</a>, and
<a href="#Querying-Paths">Paths Reference; Querying</a>. 
</p></blockquote></div>

<div class="defun">
&mdash; Copy constructor: void <b>Plane</b> (<var>const Plane&amp; p</var>)<var><a name="index-Plane-514"></a></var><br>
<blockquote><p>Creates a new <code>Plane</code>, making it a copy of <var>p</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; Constructor: void <b>Plane</b> (<var>const Point&amp; p, const Point&amp; n</var>)<var><a name="index-Plane-515"></a></var><br>
<blockquote><p>If <var>p</var> is not equal to <var>n</var>, this constructor creates a
<code>Plane</code> and sets <code>point</code> to <var>p</var>.  <code>normal</code>
is set to <var>n</var>, and made a unit vector. 
<code>distance</code> is calculated according to the following formula:
Let n stand for <code>normal</code>, p for <code>point</code>, and d for
<code>distance</code>:
d = -p \dot n. 
If d = 0, <code>origin</code>
lies in the <code>Plane</code>.  If d &gt; 0, <code>origin</code> lies on the side of the
<code>Plane</code> that <code>normal</code> points to, considered to be &ldquo;outside&rdquo;. 
If d&lt;0, <code>origin</code> lies on the side of the
<code>Plane</code> that <code>normal</code> does not point to, considered to be
&ldquo;inside&rdquo;.

        <p>However, if <var>p</var> == <var>n</var>, <code>point</code> and <code>normal</code> are
both set to <code>INVALID_POINT</code>, and <code>distance</code> is set to
<code>INVALID_REAL</code>, i.e., <code>*this</code> will be equal to
<code>INVALID_PLANE</code>
(see <a href="#Planes-Global-Constants">Planes Reference; Global Constants</a>).

     <pre class="example">          Point P(1, 1, 1);
          Point N(0, 1);
          N.rotate(-35, 30, 20);
          N.show("N:");
          -| N: (-0.549659, 0.671664, 0.496732)
          Plane q(P, N);
          cout &lt;&lt; q.distance;
          -| -0.618736
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF105.png"
alt="[Figure 105. Not displayed.]" 
/>
<br>
<br>
Fig. 105. 
<br>
</p>

        </blockquote></div>

<div class="node">
<a name="Planes-Operators"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Planes-Returning-Information">Planes Returning Information</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Planes-Constructors">Planes Constructors</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Plane-Reference">Plane Reference</a>

</div>

<h3 class="section">25.4 Operators</h3>

<div class="defun">
&mdash; Assignment operator: const Plane&amp; <b>operator=</b> (<var>const Plane&amp; p</var>)<var><a name="index-operator_003d-516"></a></var><br>
<blockquote><p>Sets <code>point</code> to <var>p</var>.<code>point</code>, <code>normal</code> to
<var>p</var>.<code>normal</code>, and <code>distance</code> to <var>p</var>.<code>distance</code>. 
The return value is <var>p</var>, so that invocations of this function can be
chained.

     <pre class="example">          Point pt(2, 2.3, 6);
          Point norm(-1, 12, -36);
          Plane A(pt, norm);
          Plane B;
          Plane C;
          B = C = A;
          A.show("A:");
          -| A:
             normal: (-0.0263432, 0.316118, -0.948354)
             point: (2, 2.3, 6)
             distance == 5.01574
          cout &lt;&lt; (A == B &amp;&amp; A == C &amp;&amp; B == C);
          -| 1
</pre>
        </blockquote></div>

<div class="defun">
&mdash; <code>const</code> operator: bool <b>operator==</b> (<var>const Plane&amp; p</var>)<var><a name="index-operator_003d_003d-517"></a></var><br>
<blockquote><p>Equality operator.  Compares <code>*this</code> and <var>p</var>, and returns
<code>true</code>, if <code>point</code> == <var>p</var>.<code>point</code>,
<code>normal</code> == <var>p</var>.<code>normal</code>, and
<code>distance</code> == <var>p</var>.<code>distance</code>,
otherwise <code>false</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> operator: bool <b>operator!=</b> (<var>const Plane&amp; p</var>)<var><a name="index-operator_0021_003d-518"></a></var><br>
<blockquote><p>Inequality operator.  Compares <code>*this</code> and <var>p</var> and returns
<code>true</code>, if <code>point</code> != 
 <var>p</var>.<code>point</code>, or
<code>normal</code> != 
 <var>p</var>.<code>normal</code>, or
<code>distance</code> != 
 <var>p</var>.<code>distance</code>. 
Otherwise, it returns <code>false</code>. 
</p></blockquote></div>

<div class="node">
<a name="Planes-Returning-Information"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Plane-Intersections">Plane Intersections</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Planes-Operators">Planes Operators</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Plane-Reference">Plane Reference</a>

</div>

<h3 class="section">25.5 Returning Information</h3>

<div class="defun">
&mdash; <code>const</code> function: real_short <b>get_distance</b> (<var>const Point&amp; p</var>)<var><a name="index-get_005fdistance-519"></a></var><br>
&mdash; <code>const</code> function: real_short <b>get_distance</b> (<var>void</var>)<var><a name="index-get_005fdistance-520"></a></var><br>
<blockquote><p>The version of this function taking a <code>Point</code> argument returns
a <code>real_short</code> <var>r</var>, whose <code>real</code> part
(<var>r</var>.<code>first</code>) represents
the distance of <var>p</var> from the <code>Plane</code>.  This value is always
positive.  <var>r</var>.<code>second</code> can take on three values:

          <dl>
<dt>0<dd>If the <code>Point</code> lies in the <code>Plane</code>.

          <br><dt>1<dd>If it lies on the side of the <code>Plane</code> pointed at by the
normal to the <code>Plane</code>, considered to be the &ldquo;outside&rdquo;.

          <br><dt>-1<dd>If it lies on the side of the <code>Plane</code> <em>not</em> pointed at
by the normal to the <code>Plane</code>, considered to be the &ldquo;inside&rdquo;. 
</dl>

        <p>The version taking no argument returns
the absolute of the data member <code>distance</code> and its sign, i.e., the
distance of <code>origin</code> to the <code>Plane</code>, and which side of the
<code>Plane</code> it lies on.

        <p>It would have been possible to use <code>origin</code> as the default for an
optional <code>Point</code> argument, but I've chosen to overload this
function, because of problems that may arise, when I implement
<code>user_coordinates</code> and <code>view_coordinates</code>
(see <a href="#Point-Data-Members">Point Reference; Data Members</a>).

     <pre class="example">          Point N(0, 1);
          N.rotate(-10, 20, 20);
          Point P(1, 1, 1);
          Plane q(P, N);
          Point A(4, -2, 4);
          Point B(-1, 3, 2);
          Point C = q.intersection_point(A, B).pt;
          real_short bp;
          
          bp = q.get_distance();
          cout &lt;&lt; bp.first;
          -| 0.675646
          cout &lt;&lt; bp.second
          -| -1
          
          bp = q.get_distance(A)
          cout &lt;&lt; bp.first;
          -| 3.40368
          cout &lt;&lt; bp.second;
          -|  -1
          
          bp = q.get_distance(B)
          cout &lt;&lt; bp.first;
          -| 2.75865
          cout &lt;&lt; bp.second;
          -| 1
          
          bp = q.get_distance(C)
          cout &lt;&lt; bp.first;
          -| 0
          cout &lt;&lt; bp.second;
          -| 0
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF106.png"
alt="[Figure 106. Not displayed.]" 
/>
<br>
<br>
Fig. 106. 
<br>
</p>

     </blockquote></div>

<div class="node">
<a name="Plane-Intersections"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Planes-Showing">Planes Showing</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Planes-Returning-Information">Planes Returning Information</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Plane-Reference">Plane Reference</a>

</div>

<h3 class="section">25.6 Intersections</h3>

<div class="defun">
&mdash; <code>const</code> function: bool_point <b>intersection_point</b> (<var>const Point&amp; p0, const Point&amp; p1</var>)<var><a name="index-intersection_005fpoint-521"></a></var><br>
&mdash; <code>const</code> function: bool_point <b>intersection_point</b> (<var>const Path&amp; p</var>)<var><a name="index-intersection_005fpoint-522"></a></var><br>
<blockquote><p>These functions find the intersection point of the <code>Plane</code> and a
line.  In the first version, the
line is defined by the two <code>Point</code> arguments.  In the second
version, the <code>Path</code> <var>p</var> must be linear, i.e.,
<var>p</var>.<code>is_linear()</code> must be <code>true</code>.

        <p>Both versions of <code>intersection_point()</code> return a <code>bool_point</code>
<var>bp</var>, where  <var>bp</var>.<code>pt</code> is the intersection point, or
<code>INVALID_POINT</code>, if there is none.  If an intersection point is
found, <var>bp</var>.<code>b</code> will be <code>true</code>, otherwise <code>false</code>. 
Returning a <code>bool_point</code> makes it possible to test for success
without comparing the <code>Point</code> returned against <code>INVALID_POINT</code>.

     <pre class="example">          Point center(2, 2, 3.5);
          Reg_Polygon h(center, 6, 4, 80, 30, 10);
          Plane q = h.get_plane();
          Point P0 = center.mediate(h.get_point(2));
          P0.shift(5 * (N - center));
          Point P1(P0);
          P1.rotate(h.get_point(1), h.get_point(4));
          P1 = 3 * (P1 - P0);
          P1.shift(P0);
          P1.shift(3, -.5, -2);
          bool_point bp = q.intersection_point(P0, P1);
          Point i_P = bp.pt;
          Point P4 = h.get_point(3).mediate(h.get_point(0), .75);
          P4.shift(N - center);
          Point P5(P4);
          P5.rotate(h.get_point(3), h.get_point(0));
          P4.shift(-1, 2);
          Path theta(P4, P5);
          bp = q.intersection_point(theta);
          Point i_theta = bp.pt;
          draw_axes();
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF107.png"
alt="[Figure 107. Not displayed.]" 
/>
<br>
<br>
Fig. 107. 
<br>
</p>

     </blockquote></div>

<div class="defun">
&mdash; <code>const</code> function: Line <b>intersection_line</b> (<var>const Plane&amp; p</var>)<var><a name="index-intersection_005fline-523"></a></var><br>
<blockquote><p>Returns a <code>Line</code> <var>l</var>.  representing the line of intersection of two
<code>Planes</code>.  See <a href="#Line-Reference">Line Reference</a>.

        <p>In [next figure]
, <code>intersection_line()</code> is used to find the line of
intersection of the <code>Planes</code> derived from the <code>Rectangles</code>
r_0 and r_1 using <code>get_plane()</code>
(see <a href="#Querying-Paths">Paths Reference; Querying</a>). 
Please note that there is no guarantee that <var>l</var>.<code>position</code> will
be in a convenient place for your drawing.  A bit of fiddling was
needed to find the <code>Points</code> P_2 and P_3. 
<!-- !! TO DO: -->
I plan to add functions for finding the intersection lines of plane
figures, but haven't done so yet.

     <pre class="example">          Rectangle r0(origin, 5, 5, 10, 15, 6);
          Rectangle r1(origin, 5, 5, 90, 50, 10);
          r1 *= r0.rotate(30, 30, 30);
          r1 *= r0.shift(1, -1, 3);
          Plane q0 = r0.get_plane();
          Plane q1 = r1.get_plane();
          Line l = q0.intersection_line(q1);
          l.show("l:");
          -| l:
             position: (0, 11.2193, 20.0759)
             direction: (0.0466595, -0.570146, -0.796753)
          Point P0(l.direction);
          P0.shift(l.position);
          P0.show("P0:");
          -| P0: (0.0466595, 10.6491, 19.2791)
          Point P1(-l.direction);
          P1.shift(l.position);
          Point P2(P0 - P1);
          P2 *= 12.5;
          P2.shift(P0);
          cout &lt;&lt; P2.is_on_plane(q0);
          -| 1
          cout &lt;&lt; P2.is_on_plane(q1);
          -| 1
          Point P3(P0 - P1);
          P3 *= 7;
          P3.shift(P0);
          cout &lt;&lt; P3.is_on_plane(q0);
          -| 1
          cout &lt;&lt; P3.is_on_plane(q1);
          -| 1
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF108.png"
alt="[Figure 108. Not displayed.]" 
/>
<br>
<br>
Fig. 108. 
<br>
</p>

        </blockquote></div>

<div class="node">
<a name="Planes-Showing"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Plane-Intersections">Plane Intersections</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Plane-Reference">Plane Reference</a>

</div>

<h3 class="section">25.7 Showing</h3>

<div class="defun">
&mdash; <code>const</code> function: void <b>show</b> ([<var>string text = ""</var>])<var><a name="index-show-524"></a></var><br>
<blockquote><p>Prints information about the <code>Plane</code> to standard output. 
If <var>text</var> is not the empty <code>string</code>, it is printed to the
standard output.  Otherwise,
&lsquo;<samp><span class="samp">Plane:</span></samp>&rsquo; is printed. 
Following this,
if the <code>Plane</code> is equal to <code>INVALID_PLANE</code>
(see <a href="#Planes-Global-Constants">Planes Reference; Global Constants</a>),
a message to this effect is printed to standard output. 
Otherwise, <code>normal</code> and
<code>point</code> are shown using <code>Point::show()</code>
(see <a href="#Showing-Points">Point Reference; Showing</a>).  Finally,
<code>distance</code> is printed.

     <pre class="example">          Point A(1, 3, 2.5);
          Rectangle r0(A, 5, 5, 10, 15, 6);
          Plane p = r0.get_plane();
          -| p:
             normal: (-0.0582432, 0.984111, -0.167731)
             point: (-0.722481, 2.38245, -0.525176)
             distance == -2.47476
</pre>
        </blockquote></div>

<!-- path.texi -->
<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
<div class="node">
<a name="Path-Reference"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Polygon-Reference">Polygon Reference</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Plane-Reference">Plane Reference</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">26 Path Reference</h2>

<p><a name="index-Path-525"></a>Class <code>Path</code> is defined in <samp><span class="file">paths.web</span></samp>. 
It is derived from <code>Shape</code> using <code>protected</code> derivation.

<ul class="menu">
<li><a accesskey="1" href="#Path-Data-Members">Path Data Members</a>
<li><a accesskey="2" href="#Path-Constructors-and-Setting-Functions">Path Constructors and Setting Functions</a>
<li><a accesskey="3" href="#Path-Destructor">Path Destructor</a>
<li><a accesskey="4" href="#Path-Operators">Path Operators</a>
<li><a accesskey="5" href="#Appending-to-Paths">Appending to Paths </a>
<li><a accesskey="6" href="#Copying-Paths">Copying Paths</a>
<li><a accesskey="7" href="#Clearing-Paths">Clearing Paths </a>
<li><a accesskey="8" href="#Modifying-Paths">Modifying Paths </a>
<li><a accesskey="9" href="#Affine-Transformations-for-Paths">Affine Transformations for Paths</a>
<li><a href="#Aligning-Paths-with-an-Axis">Aligning Paths with an Axis</a>
<li><a href="#Applying-Transformations-to-Paths">Applying Transformations to Paths</a>
<li><a href="#Drawing-and-Filling-Paths">Drawing and Filling Paths</a>
<li><a href="#Labelling-Paths">Labelling Paths</a>
<li><a href="#Showing-Paths">Showing Paths</a>
<li><a href="#Querying-Paths">Querying Paths</a>
<li><a href="#Outputting-Paths">Outputting Paths</a>
<li><a href="#Path-Intersections">Path Intersections</a>
</ul>

<div class="node">
<a name="Path-Data-Members"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Path-Constructors-and-Setting-Functions">Path Constructors and Setting Functions</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Path-Reference">Path Reference</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Path-Reference">Path Reference</a>

</div>

<h3 class="section">26.1 Data Members</h3>

<div class="defun">
&mdash; Protected variable: bool <b>line_switch</b><var><a name="index-line_005fswitch-526"></a></var><br>
<blockquote><p><code>true</code> if the <code>Path</code> was created using the constructor
<code>Path(const Point&amp; p0, const Point&amp; p1)</code>, directly or indirectly. 
See <a href="#Path-Constructors-and-Setting-Functions">Path Reference; Constructors and Setting Functions</a>.

     <pre class="example">          Point p0;
          Point p1(1, 1);
          Point p2(2, 3);
          Path q0(p0, p1);
          cout &lt;&lt; q0.get_line_switch();
          -| 1
          Path q1;
          q1 = q0;
          cout &lt;&lt; q1.get_line_switch();
          -| 1
          Path q2 = p0.draw(p1);
          cout &lt;&lt; q2.get_line_switch();
          -| 1
          Path q3("..", false, &amp;p1, &amp;p2, &amp;p0, 0);
          cout &lt;&lt; q3.get_line_switch();
          -| 0
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF109.png"
alt="[Figure 109. Not displayed.]" 
/>
<br>
<br>
Fig. 109. 
<br>
</p>

        <p><a name="index-linear-_0040code_007bPaths_007d-527"></a>Some <code>Path</code> functions only work on <em>linear </em><code>Paths</code>,
so it's necessary to be able to distinguish them from non-linear ones. 
The function <code>is_linear()</code> should be enough to ensure that all of
these functions work, so I plan to make <code>line_switch</code> obsolete
soon.  However, at the moment, it's still needed. 
See <a href="#Querying-Paths">Path Reference; Querying</a>. 
</p></blockquote></div>

<div class="defun">
&mdash; Protected variable: bool <b>cycle_switch</b><var><a name="index-cycle_005fswitch-528"></a></var><br>
<blockquote><p><code>true</code> if the <code>Path</code> is cyclical, otherwise
<code>false</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Protected variable: bool <b>on_free_store</b><var><a name="index-on_005ffree_005fstore-529"></a></var><br>
<blockquote><p><code>true</code> if the <code>Path</code> was dynamically allocated on the free
store.  Otherwise <code>false</code>.  Set to <code>true</code> only in
<code>create_new&lt;Path&gt;()</code>, which should be the only way <code>Paths</code> are
ever dynamically allocated. 
See <a href="#Path-Constructors-and-Setting-Functions">Path Reference; Constructors and Setting Functions</a>. 
</p></blockquote></div>

<div class="defun">
&mdash; Protected variable: bool <b>do_output</b><var><a name="index-do_005foutput-530"></a></var><br>
<blockquote><p>Used in <code>Picture::output()</code>.  Set to <code>false</code> if the <code>Path</code>
isn't projectable using the arguments passed to
<code>Picture::output()</code>. 
See <a href="#Outputting-Pictures">Picture Reference; Outputting</a>. 
</p></blockquote></div>

<div class="defun">
&mdash; Protected variable: signed short <b>fill_draw_value</b><var><a name="index-fill_005fdraw_005fvalue-531"></a></var><br>
<blockquote><p>Set in the drawing and filling functions, and
used in <code>Path::output()</code>, to determine what MetaPost code to write
to <code>out_stream</code>. 
See <a href="#Drawing-and-Filling-Paths">Path Reference; Drawing and Filling</a>,
and <a href="#Outputting-Paths">Path Reference; Outputting</a>. 
</p></blockquote></div>

<div class="defun">
&mdash; Protected variable: const Color* <b>draw_color</b><var><a name="index-draw_005fcolor-532"></a></var><br>
<blockquote><p>Pointer to the <code>Color</code> used if the <code>Path</code> is drawn. 
</p></blockquote></div>

<div class="defun">
&mdash; Protected variable: const Color* <b>fill_color</b><var><a name="index-fill_005fcolor-533"></a></var><br>
<blockquote><p>Pointer to the <code>Color</code> used if the <code>Path</code> is filled. 
</p></blockquote></div>

<div class="defun">
&mdash; Protected variable: string <b>dashed</b><var><a name="index-dashed-534"></a></var><br>
<blockquote><p>String written to <code>out_stream</code> for the &ldquo;dash pattern&rdquo; in a
MetaPost <code>draw</code> or <code>undraw</code> command.  If and only if
<code>dashed</code> is not the empty string, &ldquo;<code>dashed</code>
&lt;<em>dash pattern</em>&gt;&rdquo; is written to <code>out_stream</code>.

        <p>Dash patterns have no meaning inside 3DLDF;  <code>dashed</code>, if
non-empty, is written unchanged to <code>out_stream</code>.  I may change this
in the future. 
</p></blockquote></div>

<div class="defun">
&mdash; Protected variable: string <b>pen</b><var><a name="index-pen-535"></a></var><br>
<blockquote><p>String written to <code>out_stream</code> for the <code>pen</code> to be used in a
MetaPost <code>draw</code>, <code>undraw</code>, <code>filldraw</code>, or
<code>unfilldraw</code> command.  If and only if <code>pen</code> is not the
empty string, &ldquo;<code>withpen</code> &lt;<small class="dots">...</small>&gt;&rdquo; is written to
<code>out_stream</code>.

        <p>Pens have no meaning inside 3DLDF;  <code>pen</code>, if
non-empty, is written unchanged to <code>out_stream</code>.  I may change this
in the future. 
</p></blockquote></div>

<div class="defun">
&mdash; Protected variable: bool <b>arrow</b><var><a name="index-arrow-536"></a></var><br>
<blockquote><p>Indicates whether an arrow should be drawn when outputting a
<code>Path</code>.  Set to <code>true</code> on a <code>Path</code> created on the free
store and put onto a <code>Picture</code> by <code>drawarrow()</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Protected variable: valarray&lt;real&gt; <b>projective_extremes</b><var><a name="index-projective_005fextremes-537"></a></var><br>
<blockquote><p>Contains the maxima and minima of the x, y, and z-coordinates of the
<em>projections</em> of <code>Points</code> on a <code>Path</code> using a particular
<code>Focus</code>.  Set in <code>set_extremes()</code> and used in
<code>Picture::output()</code> for surface hiding. 
</p></blockquote></div>

<div class="defun">
&mdash; Protected variable: vector&lt;Point*&gt; <b>points</b><var><a name="index-points-538"></a></var><br>
<blockquote><p>Pointers to the <code>Points</code> on the <code>Path</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Protected variable: vector&lt;string&gt; <b>connectors</b><var><a name="index-connectors-539"></a></var><br>
<blockquote><p>The connectors between the <code>Points</code> on the <code>Path</code>.  Connectors
are simply <code>strings</code> in 3DLDF, they are written unchanged to
<code>out_stream</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Public static variable: const Color* <b>help_color</b><var><a name="index-help_005fcolor-540"></a></var><br>
<blockquote><p>Pointer to a <code>const Color</code>, which becomes the default for
<code>draw_help()</code>. 
See <a href="#Drawing-and-Filling-Paths">Path Reference; Drawing and Filling</a>.

        <p>Please note that <code>help_color</code> is a pointer to a
<code>const Color</code>, not a <code>const</code> pointer to a <code>Color</code> or a
<code>const</code> pointer to a <code>const Color</code>!  It's easy to get confused
by the syntax for these types of pointers.<a rel="footnote" href="#fn-35" name="fnd-35"><sup>35</sup></a>
</p></blockquote></div>

<div class="defun">
&mdash; Public static variable: string <b>help_dash_pattern</b><var><a name="index-help_005fdash_005fpattern-541"></a></var><br>
<blockquote><p>The default dash pattern for <code>draw_help()</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Public static variable: bool <b>do_help_lines</b><var><a name="index-do_005fhelp_005flines-542"></a></var><br>
<blockquote><p><code>true</code> if help lines should be output, otherwise <code>false</code>. 
If <code>false</code>, a call to <code>draw_help()</code> does not cause a copy of
the <code>Path</code> to be created and put onto a <code>Picture</code>. 
See <a href="#Drawing-and-Filling-Paths">Path Reference; Drawing and Filling</a>. 
</p></blockquote></div>

<div class="node">
<a name="Path-Constructors-and-Setting-Functions"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Path-Destructor">Path Destructor</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Path-Data-Members">Path Data Members</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Path-Reference">Path Reference</a>

</div>

<h3 class="section">26.2 Constructors and Setting Functions</h3>

<div class="defun">
&mdash; Default constructor: void <b>Path</b> (<var>void</var>)<var><a name="index-Path-543"></a></var><br>
<blockquote><p>Creates an empty <code>Path</code> with no
<code>Points</code> and no connectors. 
</p></blockquote></div>

<div class="defun">
&mdash; Constructor: void <b>Path</b> (<var>const Point&amp; p0, const Point&amp; p1</var>)<var><a name="index-Path-544"></a></var><br>
<blockquote><p>Creates a line (more precisely, a line segment) between <var>p0</var>
and <var>p1</var>.  The single
connector between the two <code>Points</code> is set to <code>"--"</code> and the
data member <code>line_switch</code> (of type <code>bool</code>) is set to
<code>true</code>.  There are certain operations on <code>Paths</code> that are only
applicable to lines, so it's necessary to store the information that a
<code>Path</code> is a line.<a rel="footnote" href="#fn-36" name="fnd-36"><sup>36</sup></a>

     <pre class="example">          Point A(-2, -2.5, -1);
          Point B(3, 2, 2.5)
          Path p(A, B);
          p.show("p:");
          -| p:
             (-2, -2.5, -1) -- (3, 2, 2.5);
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF110.png"
alt="[Figure 110. Not displayed.]" 
/>
<br>
<br>
Fig. 110. 
<br>
</p>

        </blockquote></div>

<div class="defun">
&mdash; Setting function: void <b>set</b> (<var>const Point&amp; p0, const Point&amp; p1</var>)<var><a name="index-set-545"></a></var><br>
<blockquote><p>Corresponds to the constructor above.

     <pre class="example">          Point P0(1, 2, 3);
          Point P1(3.5, -12, 75);
          Path q;
          q.set(P0, P1);
          q.show("q:");
          -| q:
             (1, 2, 3) -- (3.5, -12, 75);
</pre>
        </blockquote></div>

<div class="defun">
&mdash; Constructor: void <b>Path</b> (<var>string connector, bool cycle, Point* p, </var>[<var><small class="dots">...</small></var>]<var>, 0</var>)<var><a name="index-Path-546"></a></var><br>
<blockquote><p>For <code>Paths</code> with an arbitrary number of <code>Points</code>
and one type of connector.

        <p><var>connector</var> is passed unchanged to <code>out_file</code>, so it
must be a valid connector in MetaPost.

        <p><var>cycle</var> indicates whether the <code>Path</code> is a cycle or not. 
<code>cycle_switch</code> is set to <var>cycle</var>. 
See <a href="#Path-Data-Members">Path Reference; Data Members</a>. 
The filling and unfilling functions
only work for
<code>Paths</code> that are cycles. 
See <a href="#Drawing-and-Filling-Paths">Path Reference; Drawing and Filling</a>. 
If a <code>Path</code> is a cycle, it is up to the user to make sure that it
has sensible <code>Point</code> and connector values;  3DLDF doesn't check
them.  If they are not sensible, for instance, if the <code>Path</code>
crosses itself, and you try to fill it, this will cause an error in
MetaPost.  It is possible that a <code>Path</code> will be &ldquo;sensible&rdquo; in
some projections and not in others, although I have not tested this.

        <p><var>p</var> is a pointer to the first <code>Point</code> that should go onto the
<code>Path</code>. 
The ellipsis points (<code>...</code>) represent an arbitrary number of
pointers to <code>Points</code> that should go onto the <code>Path</code>. 
The final
argument must be <code>0</code>,
which is interpreted by the C++
 compiler as the null
pointer.<a rel="footnote" href="#fn-37" name="fnd-37"><sup>37</sup></a>

        <p>It is admittedly a bit
awkward to have to type &ldquo;<code>&amp;p0</code>&rdquo; rather than &ldquo;<code>p0</code>&rdquo;, and
I have frequently forgotten to do it, which causes a compiler error,
but all of the arguments must be pointers in order to be able to use 0 to
indicate the end of the argument list.  Convenience in typing function
calls is not a high priority in 3DLDF, because once I've written
an input routine, these function calls should be generated
automatically.  It will be more important to define a convenient syntax
for the input routine.

     <pre class="example">          Point P0;
          Point P1(2);
          Point P2(2,2);
          Point P3(0,2);
          Path p("..", true, &amp;P0, &amp;P1, &amp;P2, &amp;P3, 0);
          p.draw();
          
          
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF111.png"
alt="[Figure 111. Not displayed.]" 
/>
<br>
<br>
Fig. 111. 
<br>
</p>

        </blockquote></div>

<div class="defun">
&mdash; Setting function: void <b>set</b> (<var>string connector, bool cycle, Point* p, </var>[<var><small class="dots">...</small></var>]<var>, 0</var>)<var><a name="index-set-547"></a></var><br>
<blockquote><p>Corresponds to the constructor above.

     <pre class="example">          Point P[4];
          P[0].set(2, 1, 3);
          P[3] = P[2] =  P[1] = P[0];
          P[3] *= P[2] *=  P[1].rotate(3, 12, 18);
          P[3] *= P[2].shift(-2, -1, 3);
          P[3].shear(1.5, .5, 3.5);
          Path q("...", false, &amp;P[0], &amp;P[1], &amp;P[2], &amp;P[3], 0);
          q.show("q:");
          -| q:
             (2, 1, 3) ... (0.92139, 1.51449, 3.29505) ...
             (-1.07861, 0.514487, 6.29505) ... (2.84065, -3.26065, 6.29505);
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF112.png"
alt="[Figure 112. Not displayed.]" 
/>
<br>
<br>
Fig. 112. 
<br>
</p>

        </blockquote></div>

<div class="defun">
&mdash; Constructor: void <b>Path</b> (<var>Point* first_point_ptr, char* s, Point* p, </var>[<var><small class="dots">...</small></var>]<var>, 0</var>)<var><a name="index-Path-548"></a></var><br>
<blockquote><p>Constructor for <code>Paths</code> with an arbitrary number of <code>Points</code>
and connectors.  The first, required, argument is a pointer to a
<code>Point</code>, followed by pointers to <code>char</code> alternating with pointers to
<code>Points</code>.<a rel="footnote" href="#fn-38" name="fnd-38"><sup>38</sup></a>
The last argument must be 0, i.e., the null pointer.

        <p>There is no need to indicate by means of an argument whether the
<code>Path</code> is a cycle or not:  If it is, the last argument before the 0
will be a <code>char*</code> (pointer to <code>char</code>), if not, it will be a
<code>Point*</code>.  The data member <code>cycle_switch</code> (of type
<code>bool</code>) will be set to <code>true</code> or <code>false</code> accordingly.

     <pre class="example">          Point A;
          Point B(2, 0);
          Point C(3, 2);
          Point D(1, 3);
          Path p(&amp;A, "..", &amp;B, "..", &amp;C, "--", &amp;D, "...", 0);
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF113.png"
alt="[Figure 113. Not displayed.]" 
/>
<br>
<br>
Fig. 113. 
<br>
</p>

        </blockquote></div>

<div class="defun">
&mdash; Setting function: void <b>set</b> (<var>Point *first_point_ptr, string s, Point *p, </var>[<var><small class="dots">...</small></var>]<var>, 0</var>)<var><a name="index-set-549"></a></var><br>
<blockquote><p>Corresponds to the constructor above. 
</p></blockquote></div>

<div class="defun">
&mdash; Copy constructor: void <b>Path</b> (<var>const Path&amp; p</var>)<var><a name="index-Path-550"></a></var><br>
<blockquote><p>Creates a new <code>Path</code>, making it a copy of <var>p</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; Template specializations: Path* <b>create_new&lt;Path&gt;</b> (<var>const Path* p</var>)<var><a name="index-create_005fnew_003cPath_003e-551"></a></var><br>
&mdash; : Path* <b>create_new&lt;Path&gt;</b> (<var>const Path&amp; p</var>)<var><a name="index-create_005fnew_003cPath_003e-552"></a></var><br>
<blockquote><p>Pseudo-constructors for dynamic allocation of <code>Paths</code>. 
They create a <code>Path</code> on the free store and allocate memory for it using
<code>new(Path)</code>.  They return a pointer to the new <code>Path</code>.

        <p>If <var>p</var> is a non-zero pointer or a reference,
the new <code>Path</code> will be a copy of
<var>p</var>.  If the new object is not meant to be a
copy of an existing one, &lsquo;<samp><span class="samp">0</span></samp>&rsquo; must be passed to
<code>create_new&lt;Path&gt;()</code> as its argument. 
See <a href="#Dynamic-Allocation-of-Shapes">Dynamic Allocation of Shapes</a>, for more information.

        <p><code>create_new&lt;Path&gt;()</code> is used in the drawing and filling functions
for copying a <code>Path</code> and putting the copy onto a <code>Picture</code>. 
See <a href="#Drawing-and-Filling-Paths">Path Reference; Drawing and Filling</a>. 
</p></blockquote></div>

<div class="node">
<a name="Path-Destructor"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Path-Operators">Path Operators</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Path-Constructors-and-Setting-Functions">Path Constructors and Setting Functions</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Path-Reference">Path Reference</a>

</div>

<h3 class="section">26.3 Destructor</h3>

<div class="defun">
&mdash; <code>virtual</code> Destructor: void <b>~Path</b> (<code>void</code>)<var><a name="index-g_t_007ePath-553"></a></var><br>
<blockquote><p>All of the <code>Points</code> on a <code>Path</code> are created by
<code>create_new&lt;Point&gt;()</code>, which allocates them dynamically on
the free store.  Therefore, the destructor calls <code>delete()</code> on all
of the pointers on <code>points</code>.  Following this, it calls
<code>points.clear()</code> and <code>connectors.clear()</code>. 
<code>draw_color</code> and <code>fill_color</code> may or may not have been
allocated on the free store, so <code>~Path()</code> checks this first, and
deletes them, if they were.  Then, it sets them to 0. 
</p></blockquote></div>

<div class="node">
<a name="Path-Operators"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Appending-to-Paths">Appending to Paths</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Path-Destructor">Path Destructor</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Path-Reference">Path Reference</a>

</div>

<h3 class="section">26.4 Operators</h3>

<div class="defun">
&mdash; Virtual function: Transform <b>operator*=</b> (<var>const Transform&amp; t</var>)<var><a name="index-operator_002a_003d-554"></a></var><br>
<blockquote><p>Calls <code>Point::operator*=(</code><var>t</var><code>)</code> on each of the <code>Points</code>
on the <code>Path</code>. 
See <a href="#Point-Operators">Point Reference; Operators</a>. 
This has the effect of
transforming the entire <code>Path</code> by <var>t</var>.  Please note that
<code>Path</code> does not have a <code>transform</code> data member of its own. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: void <b>operator+=</b> (<var>const Point&amp; pt</var>)<var><a name="index-operator_002b_003d-555"></a></var><br>
<blockquote><p>Copies <var>pt</var> and pushes a pointer to the copy onto
<code>points</code>.  The last connector
in the <code>Path</code> will be used to connect the new <code>Point</code> and the
previous one.

     <pre class="example">          Point A(1, 2, 3);
          Point B(3, 4, 5);
          Path q;
          q += A;
          q += B;
          q.show("q:");
          -| q:
             (1, 2, 3) -- (3, 4, 5);
</pre>
        </blockquote></div>

<div class="defun">
&mdash; <code>const</code> function: Path <b>operator+</b> (<var>const Point&amp; pt</var>)<var><a name="index-operator_002b-556"></a></var><br>
<blockquote><p>Copies the <code>Path</code> and <var>pt</var>, and pushes a pointer to the copy of
<var>pt</var> onto <code>points</code> in the new <code>Path</code>.  The
last connector in the new <code>Path</code> will be used to connect the new
<code>Point</code> and the previous one.  The <code>Path</code> remains unchanged. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: void <b>operator&amp;=</b> (<var>const Path&amp; pa</var>)<var><a name="index-operator_0026_003d-557"></a></var><br>
<blockquote><p>Concatenates two <code>Paths</code>.  The result is assigned to <code>*this</code>. 
Neither <code>*this</code> nor <var>pa</var> may be cyclical, i.e.,
<code>cycle_switch</code> must be <code>false</code> for both <code>Paths</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> function: Path <b>operator&amp;</b> (<var>const Path&amp; pa</var>)<var><a name="index-operator_0026-558"></a></var><br>
<blockquote><p>Returns a <code>Path</code> representing the concatenation of <code>*this</code> and
<var>pa</var>.  <code>*this</code> remains unchanged. 
Neither <code>*this</code> nor <var>pa</var> may be cyclical, i.e.,
<code>cycle_switch</code> must be <code>false</code> for both <code>Paths</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: void <b>operator+=</b> (<var>const string s</var>)<var><a name="index-operator_002b_003d-559"></a></var><br>
<blockquote><p>Pushes <var>s</var> onto <code>connectors</code>. 
</p></blockquote></div>

<div class="node">
<a name="Appending-to-Paths"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Copying-Paths">Copying Paths</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Path-Operators">Path Operators</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Path-Reference">Path Reference</a>

</div>

<h3 class="section">26.5 Appending</h3>

<div class="defun">
&mdash; Function: Path <b>append</b> (<var>const Path&amp; pa, </var>[<var>string connector = "&ndash;", </var>[<var>bool assign = </var><code>true</code>]])<var><a name="index-append-560"></a></var><br>
<blockquote><p>Appends <var>pa</var> to <code>*this</code> using <var>connector</var> to join them and
returns the resulting <code>Path</code>.  If
<var>assign</var> == <code>true</code>, then the return value is
assigned to <code>*this</code>, otherwise, <code>*this</code> remains unchanged.

        <p>If necessary, a <code>const</code> version could be added, for
<code>const Paths</code>.

     <pre class="example">          Point A(-2, 2);
          Point B(-2, -2);
          Point C(2, -2);
          Point D(2, 2);
          Path q("--", false, &amp;A, &amp;B, &amp;C, &amp;D, 0);
          Point E(1, 2);
          Point F(0, 4);
          Point G(-.5, 3);
          Path r("..", false, &amp;E, &amp;F, &amp;G, 0);
          q.append(r, "..", true);
          q += "..";
          q += "--";
          q.set_cycle();
          q.show("q:");
          -| q:
             (-2, 2, 0) -- (-2, -2, 0) --
             (2, -2, 0) -- (2, 2, 0) ..
             (1, 2, 0) .. (0, 4, 0) ..
             (-0.5, 3, 0) -- cycle;
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF114.png"
alt="[Figure 114. Not displayed.]" 
/>
<br>
<br>
Fig. 114. 
<br>
</p>

     </blockquote></div>

<div class="node">
<a name="Copying-Paths"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Clearing-Paths">Clearing Paths</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Appending-to-Paths">Appending to Paths</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Path-Reference">Path Reference</a>

</div>

<h3 class="section">26.6 Copying</h3>

<div class="defun">
&mdash; <code>const</code> virtual function: Shape* <b>get_copy</b> (<var>void</var>)<var><a name="index-get_005fcopy-561"></a></var><br>
<blockquote><p>Creates a copy of the <code>Path</code> using <code>create_new&lt;Path&gt;()</code>, which
returns a pointer to <code>Path</code>.  <code>get_copy()</code> then
casts this pointer to a pointer to <code>Shape</code> and returns it.

        <p>This function is used when copying <code>Pictures</code> and in
<code>Solid::output()</code>, where objects of types derived from <code>Shape</code>
must be handled in the same way, without their actual types being known. 
</p></blockquote></div>

<div class="node">
<a name="Clearing-Paths"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Modifying-Paths">Modifying Paths</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Copying-Paths">Copying Paths</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Path-Reference">Path Reference</a>

</div>

<h3 class="section">26.7 Clearing</h3>

<div class="defun">
&mdash; Virtual function: void <b>clear</b> (<var>void</var>)<var><a name="index-clear-562"></a></var><br>
<blockquote><p>Does the same thing the destructor <code>~Path()</code> does:
Calls <code>delete()</code> on the pointers to <code>Points</code> on <code>points</code>,
clears <code>points</code> and <code>connectors</code>, deletes <code>draw_color</code>
and <code>fill_color</code>, if they point to <code>Colors</code> that were
allocated on the free store, and sets them to 0.

        <p><code>clear()</code> is a pure virtual function in <code>class Shape</code>,
so <code>Path</code> must be have a <code>clear()</code> function. 
It is needed, because it is sometimes called through a
pointer to <code>Shape</code>, so that <code>~Path()</code> cannot be accessed. 
At least, so far I haven't found a way to call a destructor through the
virtual function facility. 
</p></blockquote></div>

<div class="node">
<a name="Modifying-Paths"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Affine-Transformations-for-Paths">Affine Transformations for Paths</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Clearing-Paths">Clearing Paths</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Path-Reference">Path Reference</a>

</div>

<h3 class="section">26.8 Modifying</h3>

<div class="defun">
&mdash; Virtual function: bool <b>set_on_free_store</b> ([<var>bool b = </var><code>true</code>])<var><a name="index-set_005fon_005ffree_005fstore-563"></a></var><br>
<blockquote><p>Sets <code>on_free_store</code> to <var>b</var>.  This is used in the
template function <code>create_new()</code>. 
See <a href="#Path-Constructors-and-Setting-Functions">Path Reference; Constructors and Setting Functions</a>. 
</p></blockquote></div>

<div class="defun">
&mdash; Virtual function: void <b>set_fill_draw_value</b> (<var>const signed short s</var>)<var><a name="index-set_005ffill_005fdraw_005fvalue-564"></a></var><br>
<blockquote><p>Sets <code>fill_draw_value</code> to <var>s</var>, which should be one of
<code>Shape::DRAW</code>, <code>Shape::FILL</code>, <code>Shape::FILLDRAW</code>,
<code>Shape::UNDRAW</code>, <code>Shape::UNFILL</code>, or <code>Shape::UNFILLDRAW</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Virtual function: void <b>set_draw_color</b> (<var>const Color&amp; c</var>)<var><a name="index-set_005fdraw_005fcolor-565"></a></var><br>
&mdash; Virtual function: void <b>set_draw_color</b> (<var>const Color * c</var>)<var><a name="index-set_005fdraw_005fcolor-566"></a></var><br>
<blockquote><p>Sets <code>draw_color</code> (a pointer to a <code>const Color</code>) to <var>&amp;c</var>
or <var>c</var>, depending on whether the
version with a reference argument or the version with a pointer argument
is used.

        <p><code>set_draw_color()</code> is used in the <code>Solid</code> drawing and filling
functions, because <code>Path::draw_color</code> is <code>protected</code>, and
the <code>Solid</code> cannot access it directly. 
See <a href="#Drawing-and-Filling-Solids">Solid Reference; Drawing and Filling</a>. 
</p></blockquote></div>

<div class="defun">
&mdash; Virtual function: void <b>set_fill_color</b> (<var>const Color&amp; c</var>)<var><a name="index-set_005ffill_005fcolor-567"></a></var><br>
&mdash; Virtual function: void <b>set_fill_color</b> (<var>const Color* c</var>)<var><a name="index-set_005ffill_005fcolor-568"></a></var><br>
<blockquote><p>Sets <code>fill_color</code> (a pointer to a <code>const Color</code>) to <var>&amp;c</var>
or <var>c</var>, depending on whether the
version with a reference argument or the version with a pointer argument
is used.

        <p><code>set_fill_color()</code> is used in the <code>Solid</code> drawing and filling
functions, because
<code>Path::fill_color</code> is <code>protected</code>, and
the <code>Solid</code> cannot access it directly. 
See <a href="#Drawing-and-Filling-Solids">Solid Reference; Drawing and Filling</a>. 
</p></blockquote></div>

<div class="defun">
&mdash; Virtual function: void <b>set_dash_pattern</b> ([<var>const string s = ""</var>])<var><a name="index-set_005fdash_005fpattern-569"></a></var><br>
<blockquote><p>Sets <code>dashed</code> to <var>s</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; Virtual function: void <b>set_pen</b> ([<var>const string s = ""</var>])<var><a name="index-set_005fpen-570"></a></var><br>
<blockquote><p>Sets <code>pen</code> to <var>s</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; Virtual function: void <b>set_connectors</b> ([<var>const string s = ".."</var>])<var><a name="index-set_005fconnectors-571"></a></var><br>
<blockquote><p>Clears <code>connectors</code> and then pushes <var>s</var> onto it, making <var>s</var>
the only connector.  Additional connectors can be added by using
<code>Path::operator+=(const string)</code>. 
See <a href="#Path-Operators">Path Reference; Operators</a>.

        <p>I plan to add a version of this function taking a vector of
<code>strings</code> as its argument, to make it possible to set several
connectors at one time. 
</p></blockquote></div>

<div class="node">
<a name="Affine-Transformations-for-Paths"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Aligning-Paths-with-an-Axis">Aligning Paths with an Axis</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Modifying-Paths">Modifying Paths</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Path-Reference">Path Reference</a>

</div>

<h3 class="section">26.9 Affine Transformations</h3>

<div class="defun">
&mdash; Virtual function: Transform <b>rotate</b> (<var>const real x, </var>[<var>const real y = 0, </var>[<var>const real z = 0</var>]])<var><a name="index-rotate-572"></a></var><br>
<blockquote><p>Creates a <code>Transform t</code> locally and calls
<code>t.rotate(</code><var>x</var><code>, </code><var>y</var><code>, </code><var>z</var><code>)</code>. 
<code>t</code> is then applied to all of the <code>Points</code> on <code>points</code>. 
The return value is <code>t</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: Transform <b>scale</b> (<var>real x, </var>[<var>real y = 1, </var>[<var>real z = 1</var>]])<var><a name="index-scale-573"></a></var><br>
<blockquote><p>Creates a <code>Transform t</code> locally and calls
<code>t.scale(</code><var>x</var><code>, </code><var>y</var><code>, </code><var>z</var><code>)</code>. 
<code>t</code> is then applied to all of the <code>Points</code> on <code>points</code>. 
The return value is <code>t</code>.

        <p>The <code>Points</code> on the <code>Path</code> are scaled according to the
arguments:

     <pre class="example">          Point pt[8];
          pt[0] = (-1, -1);
          for (int i = 1; i &lt; 8; ++i)
            {
              pt[i] = pt[0];
              pt[i].rotate(0, 0, i * 45);
            }
          Path p("--", true, &amp;pt[0], &amp;pt[1], &amp;pt[2], &amp;pt[3],
                 &amp;pt[4], &amp;pt[5], &amp;pt[6],
                 &amp;pt[7], 0);
          p.draw();
          p.scale(2, 2);
          p.draw();
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF115.png"
alt="[Figure 115. Not displayed.]" 
/>
<br>
<br>
Fig. 115. 
<br>
</p>

        </blockquote></div>

<div class="defun">
&mdash; Function: Transform <b>shear</b> (<var>real xy, </var>[<var>real xz = 0, </var>[<var>real yx = 0, </var>[<var>real yz = 0, </var>[<var>real zx = 0, </var>[<var>real zy = 0</var>]]]]])<var><a name="index-shear-574"></a></var><br>
<blockquote><p>Creates a <code>Transform t</code> locally and calls
<code>t.shear(</code><var>xy</var><code>, </code><var>xz</var><code>, </code><var>yx</var><code>, </code><var>yz</var><code>, </code><var>zx</var><code>, </code><var>zy</var><code>)</code>. 
<code>t</code> is then applied to all of the <code>Points</code> on <code>points</code>. 
The return value is <code>t</code>.

     <pre class="example">          Point p0;
          Point p1(1);
          Point p2(1, 1);
          Point p3(0, 1);
          Path q("--", true, &amp;p0, &amp;p1, &amp;p2, &amp;p3, 0);
          q.rotate(0, 45);
          q.shift(1);
          q.filldraw(black, light_gray);
          q.shear(1.5, 2, 2.5, 3, 3.5, 5);
          q.filldraw(black, light_gray);
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF116.png"
alt="[Figure 116. Not displayed.]" 
/>
<br>
<br>
Fig. 116. 
<br>
</p>

        </blockquote></div>

<div class="defun">
&mdash; Function: Transform <b>shift</b> (<var>real x, </var>[<var>real y = 0, </var>[<var>real z = 0</var>]])<var><a name="index-shift-575"></a></var><br>
<blockquote><p>Creates a <code>Transform t</code> locally and calls
<code>t.shift(</code><var>x</var><code>, </code><var>y</var><code>, </code><var>z</var><code>)</code>. 
<code>t</code> is then applied to all of the <code>Points</code> on <code>points</code>. 
The return value is <code>t</code>.

        <p>Shifts each of the <code>Points</code> on the <code>Path</code> according to the
arguments.

     <pre class="example">          default_focus.set(5, 10, -10, 0, 10, 10, 10);
          Point pt[6];
          pt[0].set(-2, -2);
          pt[1].set(0, -3);
          pt[2].set(2, -2);
          pt[3].set(2, 2);
          pt[4].set(0, 3);
          pt[5].set(-2, 2);
          Path p("--", true, &amp;pt[0], &amp;pt[1], &amp;pt[2],
                 &amp;pt[3], &amp;pt[4], &amp;pt[5], 0);
          p.draw();
          p.shift(3, 3, 3);
          p.draw();
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF117.png"
alt="[Figure 117. Not displayed.]" 
/>
<br>
<br>
Fig. 117. 
<br>
</p>

        </blockquote></div>

<div class="defun">
&mdash; Function: Transform <b>shift</b> (<var>const Point&amp; p</var>)<var><a name="index-shift-576"></a></var><br>
<blockquote><p>Creates a <code>Transform t</code> locally and calls
<code>t.shift(</code><var>p</var><code>)</code>. 
<code>t</code> is then applied to all of the <code>Points</code> on <code>points</code>. 
The return value is <code>t</code>.

        <p>This version of <code>shift()</code> uses the x, y, and z-coordinates of the
<code>Point</code> <var>p</var> to shift the <code>Path</code>.

     <pre class="example">          default_focus.set(5, 10, -10, 0, 10, 10, 10);
          Point pt[6];
          pt[0].set(-2, -2);
          pt[1].set(0, -3);
          pt[2].set(2, -2);
          pt[3].set(2, 2);
          pt[4].set(0, 3);
          pt[5].set(-2, 2);
          Path p("--", true, &amp;pt[0], &amp;pt[1], &amp;pt[2],
                 &amp;pt[3], &amp;pt[4], &amp;pt[5], 0);
          p.draw();
          Point s(1, 1, 1);
          p.shift(s);
          p.draw();
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF118.png"
alt="[Figure 118. Not displayed.]" 
/>
<br>
<br>
Fig. 118. 
<br>
</p>

        </blockquote></div>

<div class="defun">
&mdash; Virtual function: void <b>shift_times</b> (<var>real x, </var>[<var>real y = 1, </var>[<var>real z = 1</var>]])<var><a name="index-shift_005ftimes-577"></a></var><br>
&mdash; Virtual function: void <b>shift_times</b> (<var>const Point&amp; p</var>)<var><a name="index-shift_005ftimes-578"></a></var><br>
<blockquote><p>Each of these functions calls the corresponding version of
<code>Point::shift_times()</code> on all of the
<code>Points</code> on <code>points</code>. 
See <a href="#Affine-Transformations-for-Points">Point Reference; Affine Transformations</a>. 
The return value is <code>void</code>,
because there is no guarantee that all of the <code>Points</code> on a
<code>Path</code> will have identical <code>transform</code> members (although it's
likely).

        <p>Please note that <code>shift_times()</code> will only have an effect on
the <code>Points</code> on a <code>Path</code> if it's called <em>after</em> a call to
<code>shift()</code> and <em>before</em> an operation is applied that causes
<code>Point::apply_transform()</code> to be called. 
</p></blockquote></div>

<div class="defun">
&mdash; Virtual function: Transform <b>rotate</b> (<var>const Point&amp; p0, const Point&amp; p1, </var>[<var>const real angle = 180</var>])<var><a name="index-rotate-579"></a></var><br>
<blockquote><p>Creates a <code>Transform t</code> locally and calls
<code>t.rotate(</code><var>p0</var><code>, </code><var>p1</var><code>, </code><var>angle</var><code>)</code>. 
<code>t</code> is then applied to all of the <code>Points</code> on <code>points</code>. 
The return value is <code>t</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: Transform <b>rotate</b> (<var>const Path&amp; p, </var>[<var>const real angle = 180</var>])<var><a name="index-rotate-580"></a></var><br>
<blockquote><p>If <code>p.is_linear()</code> returns <code>true</code>, this function
creates a <code>Transform</code> <var>t</var> locally and calls
<var>t</var><code>.rotate(</code><var>p</var><code>, </code><var>angle</var><code>)</code>. 
<code>t</code> is then applied to all of the <code>Points</code> on <code>points</code>. 
The return value is <code>t</code>. 
Otherwise, it issues an error message and returns
<code>INVALID_TRANSFORM</code>. 
</p></blockquote></div>

<div class="node">
<a name="Aligning-Paths-with-an-Axis"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Applying-Transformations-to-Paths">Applying Transformations to Paths</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Affine-Transformations-for-Paths">Affine Transformations for Paths</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Path-Reference">Path Reference</a>

</div>

<h3 class="section">26.10 Aligning with an Axis</h3>

<div class="defun">
&mdash; <code>const</code> function: Transform <b>align_with_axis</b> ([<var>const char axis = 'z'</var>])<var><a name="index-align_005fwith_005faxis-581"></a></var><br>
&mdash; Function: Transform <b>align_with_axis</b> (<var>bool assign, </var>[<var>const char axis = 'z'</var>])<var><a name="index-align_005fwith_005faxis-582"></a></var><br>
&mdash; Function: Transform <b>align_with_axis</b> (<var>const Point&amp; p0, const Point&amp; p1, const char axis</var>)<var><a name="index-align_005fwith_005faxis-583"></a></var><br>
<blockquote><p>These functions return the <code>Transform</code> which, if applied to the
<code>Path</code>, would align it with the major axis indicated by the
<var>axis</var> argument.

        <p>The first and second versions can only be called
for <code>Paths</code> where <code>line_switch</code> is <code>true</code>.  The first
version is <code>const</code>, so the <code>Path</code> remains unchanged.  The second
version should only be called with <var>assign</var><code> = true</code>, so that the
<code>Transform</code> is applied to the <code>Path</code>, actually aligning it with
the axis indicated.  If the second version is called with
<var>assign</var><code> = false</code>, a warning message is issued to the standard error
output (<code>stderr</code>), since one might as well use the first version in
this case, but it won't do any harm.  The third version creates a
<code>Transform</code> <var>t</var> locally that would align the line from <var>p0</var> to
<var>p1</var> with the axis indicated, and applies <var>t</var> to the <code>Path</code>.

     <pre class="example">          Point A(2, 3, 2);
          Point B(-1, 1, 3);
          Path p(A, B);
          Transform t = p.align_with_axis(true, 'z');
          t.show("t:");
          -| t:
              -0.316   0.507  -0.802       0
                   0  -0.845  -0.535       0
              -0.949  -0.169   0.267       0
                2.53    1.86    2.67       1
          p *= t;
          p.show("p:");
          -| p:
             (2.53, 1.86, 2.67) -- (-1.02, 1.23, 3.67);
          
          Point C(1);
          C *= t.inverse();
          
          Path q;
          q += "..";
          q += C;
          
          for (int i = 0; i &lt; 15; ++i)
            {
              C.rotate(A, B, 360.0/16);
              q += C;
            }
          q.set_cycle(true);
          q.show("q:");
          -| q:
             (1.68, 3, 1.05) .. (1.9, 2.68, 1.06) ..
             (2.13, 2.4, 1.21) .. (2.35, 2.22, 1.48) ..
             (2.51, 2.15, 1.83) .. (2.59, 2.22, 2.21) ..
             (2.58, 2.4, 2.55) .. (2.49, 2.68, 2.81) ..
             (2.32, 3, 2.95) .. (2.1, 3.32, 2.94) ..
             (1.87, 3.6, 2.79) .. (1.65, 3.78, 2.52) ..
             (1.49, 3.85, 2.17) .. (1.41, 3.78, 1.79) ..
             (1.42, 3.6, 1.45) .. (1.51, 3.32, 1.19) .. cycle;
          q.align_with_axis(A, B, 'z');
          q.show("q:");
          -| q:
             (1, 0, 0) .. (0.924, 0.383, 0) ..
             (0.707, 0.707, 0) .. (0.383, 0.924, 0) ..
             (0, 1, 0) .. (-0.383, 0.924, 0) ..
             (-0.707, 0.707, 0) .. (-0.924, 0.383, 0) ..
             (-1, 0, 0) .. (-0.924, -0.383, 0) ..
             (-0.707, -0.707, 0) .. (-0.383, -0.924, 0) ..
             (0, -1, 0) .. (0.383, -0.924, 0) ..
             (0.707, -0.707, 0) .. (0.924, -0.383, 0) .. cycle;
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF119.png"
alt="[Figure 119. Not displayed.]" 
/>
<br>
<br>
Fig. 119. 
<br>
</p>

     </blockquote></div>

<div class="node">
<a name="Applying-Transformations-to-Paths"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Drawing-and-Filling-Paths">Drawing and Filling Paths</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Aligning-Paths-with-an-Axis">Aligning Paths with an Axis</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Path-Reference">Path Reference</a>

</div>

<h3 class="section">26.11 Applying Transformations</h3>

<div class="defun">
&mdash; Virtual function: void <b>apply_transform</b> (<var>void</var>)<var><a name="index-apply_005ftransform-584"></a></var><br>
<blockquote><p>Calls <code>Point::apply_transform()</code> on all of the <code>Points</code> on
<code>points</code>. 
See <a href="#Applying-Transformations-to-Points">Point Reference; Applying Transformations</a>. 
</p></blockquote></div>

<div class="node">
<a name="Drawing-and-Filling-Paths"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Labelling-Paths">Labelling Paths</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Applying-Transformations-to-Paths">Applying Transformations to Paths</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Path-Reference">Path Reference</a>

</div>

<h3 class="section">26.12 Drawing and Filling</h3>

<div class="defun">
&mdash; <code>const</code> virtual function: void <b>draw</b> ([<var>const Color&amp; ddraw_color = </var><code>*Colors::default_color</code><var>, </var>[<var>const string ddashed = "", </var>[<var>const string ppen = "", </var>[<var>Picture&amp; picture = </var><code>current_picture</code>]]]])<var><a name="index-draw-585"></a></var><br>
&mdash; <code>const</code> Virtual function: void <b>draw</b> (<var>Picture&amp; picture, </var>[<var>const Color&amp; ddraw_color = *Colors::default_color, </var>[<var>string ddashed = "", </var>[<var>string ppen = ""</var>]]])<var><a name="index-draw-586"></a></var><br>
<blockquote><p>Allocates a copy of the <code>Path</code> on the free store, puts a pointer to
the copy on <var>picture</var>.<code>shapes</code>, sets
its <code>fill_draw_value</code> to <code>DRAW</code>, and
the values of its
<code>draw_color</code>, <code>dashed</code>, and <code>pen</code> according to the
arguments.

        <p>The second version is convenient for passing a
<code>Picture</code> argument without having to specify all of the other arguments.

        <p>All of the arguments to <code>draw()</code> are optional, so it can be invoked
as follows:

     <pre class="example">          Point A;
          Point B(2);
          Point C(3, 3);
          Point D(1, 2);
          Point E(-1, 1);
          Path p("..", true, &amp;A, &amp;B, &amp;C, &amp;D, &amp;E, 0);
          p.draw();
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF120.png"
alt="[Figure 120. Not displayed.]" 
/>
<br>
<br>
Fig. 120. 
<br>
</p>

        <p>The arguments:

          <dl>
<dt><var>ddraw_color</var><dd>Used to specify a color for the
<code>Path</code>.  <var>ddraw_color</var> is a reference to a <code>Color</code>. 
Colors are described in <a href="#Color-Reference">Color Reference</a>.

          <p>The most basic <code>Colors</code> are predefined in 3DLDF (in the
<code>namespace Colors</code>), and
users may create new <code>Colors</code> and specify their red-green-blue
values.

          <p>The <code>Path p</code> could be drawn in red by calling
<code>p.draw(Colors::red)</code>. This manual isn't intended to be printed in
color, so there's no figure to demonstrate this.  However, gray values
can be printed on non-color printers.

          <pre class="example">               using namespace Colors;
               p.draw(gray, "", "pencircle scaled .25mm");
</pre>
          <p><p align="center">
<br>
<img src="./graphics/png/3DLDF121.png"
alt="[Figure 121. Not displayed.]" 
/>
<br>
<br>
Fig. 121. 
<br>
</p>

          <br><dt><var>ddashed</var><dd>A <code>string</code> representing a &ldquo;dash pattern&rdquo;, as defined in
MetaPost<a rel="footnote" href="#fn-39" name="fnd-39"><sup>39</sup></a>. 
Dash patterns have no meaning in 3DLDF, they are simply <code>strings</code>
that are written unchanged to <code>out_stream</code>.

          <pre class="example">               p.draw(black, "evenly");
</pre>
          <p><p align="center">
<br>
<img src="./graphics/png/3DLDF122.png"
alt="[Figure 122. Not displayed.]" 
/>
<br>
<br>
Fig. 122. 
<br>
</p>

          <br><dt><var>ppen</var><dd>A <code>string</code> representing a &ldquo;pen&rdquo;, as defined in Metafont and
MetaPost<a rel="footnote" href="#fn-40" name="fnd-40"><sup>40</sup></a>. 
Pens have no meaning in 3DLDF, they are simply <code>strings</code>
that are written unchanged to <code>out_stream</code>.

          <pre class="example">               p.draw(black, "", "pensquare xscaled 3mm
                      yscaled .25mm scaled .5mm");
</pre>
          <p><p align="center">
<br>
<img src="./graphics/png/3DLDF123.png"
alt="[Figure 123. Not displayed.]" 
/>
<br>
<br>
Fig. 123. 
<br>
</p>

          <br><dt><var>picture</var><dd>Indicates the <code>Picture</code> on which the <code>Path</code> should be
drawn.

          <p>The two versions of <code>draw()</code> differ in the position of the
<var>picture</var> argument:  In the first version, it's the last argument,
while in the second version, it's the first argument.  If a
<var>picture</var> argument is used, it's often more convenient to use the second
version.

          <p>The following example puts <code>Path p</code> onto <code>temp_picture</code>.  It
also demonstrates how the labels are put onto <code>temp_picture</code>, and
how <code>temp_picture</code> is output.  In
the previous examples, the commands for making the labels and outputting
<code>current_picture</code> were left out in order to reduce clutter. 
See <a href="#Labelling-Points">Point Reference; Labelling</a>, and
<a href="#Picture-Output-Functions">Picture Reference; Outputting; Output Functions</a>.

          <pre class="example">               Picture temp_picture;
               p.draw(temp_picture);
               A.dotlabel("A", "bot", temp_picture);
               B.dotlabel("B", "bot", temp_picture);
               C.dotlabel("C", "top", temp_picture);
               D.dotlabel("D", "top", temp_picture);
               E.dotlabel("E", "lft", temp_picture);
               temp_picture.output(Projections::PARALLEL_X_Y);
</pre>
          <p><p align="center">
<br>
<img src="./graphics/png/3DLDF124.png"
alt="[Figure 124. Not displayed.]" 
/>
<br>
<br>
Fig. 124. 
<br>
</p>

        </dl>
        </p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> function: void <b>draw_help</b> ([<var>const Color&amp; ddraw_color = *help_color, </var>[<var>string ddashed = help_dash_pattern, </var>[<var>string ppen = "", </var>[<var>Picture&amp; picture = </var><code>current_picture</code>]]]])<var><a name="index-draw_005fhelp-587"></a></var><br>
&mdash; <code>const</code> function: void <b>draw_help</b> (<var>Picture&amp; picture, </var>[<var>const Color&amp; ddraw_color = </var><code>*help_color</code><var>, </var>[<var>string ddashed = </var><code>help_dash_pattern</code><var>, </var>[<var>string ppen = ""</var>]]])<var><a name="index-draw_005fhelp-588"></a></var><br>
<blockquote><p>This functions are for drawing help lines. 
They are like <code>draw()</code>, except that <code>draw_help()</code> returns immediately,
if <code>do_help_lines</code> (a static data member in
<code>Path</code>) is <code>false</code>. 
Also, the defaults for <var>ddraw_color</var> and
<var>ddashed</var> differ from those for <code>draw()</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> virtual function: void <b>drawarrow</b> ([<var>const Color&amp; ddraw_color = </var><code>*Colors::default_color</code><var>, </var>[<var>string ddashed = "", </var>[<var>string ppen = "", </var>[<var>Picture&amp; picture = </var><code>current_picture</code>]]]])<var><a name="index-drawarrow-589"></a></var><br>
&mdash; <code>const</code> virtual function: void <b>drawarrow</b> (<var>Picture&amp; picture, </var>[<var>const Color&amp; ddraw_color = </var><code>*Colors::default_color</code><var>, </var>[<var>string ddashed = "", </var>[<var>string ppen = ""</var>]]])<var><a name="index-drawarrow-590"></a></var><br>
<blockquote><p>Like <code>draw()</code>, except that the MetaPost command <code>drawarrow</code> is
written to <code>out_stream</code> when <code>picture</code>
is output. 
The second version is convenient for passing a <code>Picture</code> argument
without having to specify all of the other arguments.

     <!-- !! TO DO:  Do something about adding arguments for the size and shape -->
     <!-- of the arrowhead.  LDF 2003.07.13. -->
     <pre class="example">          Point m;
          Point n(2, 2);
          m.dotlabel("$m$", "bot");
          n.dotlabel("$n$");
          m.drawarrow(n);
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF125.png"
alt="[Figure 125. Not displayed.]" 
/>
<br>
<br>
Fig. 125. 
<br>
</p>

        </blockquote></div>

<div class="defun">
&mdash; Non-member function: void <b>draw_axes</b> ([<var>real dist = 2.5, </var>[<var>string pos_x = "bot", </var>[<var>string pos_y = "lft", </var>[<var>string pos_z = "bot", </var>[<var>const Color&amp; ddraw_color = </var><code>*Colors::default_color</code><var>, </var>[<var>const string ddashed = "", </var>[<var>const string ppen = "", </var>[<var>const Point&amp; shift_x = </var><code>origin</code><var>, </var>[<var>const Point&amp; shift_y = </var><code>origin</code><var>, </var>[<var>const Point&amp; shift_z = </var><code>origin</code><var>, </var>[<var>Picture&amp; picture = </var><code>current_picture</code>]]]]]]]]]]])<var><a name="index-draw_005faxes-591"></a></var><br>
&mdash; Non-member function: void <b>draw_axes</b> (<var>const Color&amp; ddraw_color, </var>[<var>real dist = 2.5, </var>[<var>string pos_x = "bot", </var>[<var>string pos_y = "lft", </var>[<var>string pos_z = "bot", </var>[<var>const string ddashed = "", </var>[<var>const string ppen = "", </var>[<var>const Point&amp; shift_x = </var><code>origin</code><var>, </var>[<var>const Point&amp; shift_y = </var><code>origin</code><var>, </var>[<var>const Point&amp; shift_z = </var><code>origin</code><var>, </var>[<var>Picture&amp; picture = </var><code>current_picture</code>]]]]]]]]]])<var><a name="index-draw_005faxes-592"></a></var><br>
<blockquote><p>These functions draw lines centered on the origin, and ending in arrows in the
directions of the positive x,
y, and z-axes, and labels them with the appropriate letters. 
<code>draw_axes()</code> is used in
many of the figures in this handbook.  It can be helpful in determining
whether a <code>Focus</code> has a good &ldquo;<code>up</code>&rdquo; direction. 
See <a href="#Focus-Data-Members">Focus Reference; Data Members</a>.

        <p>In the first version, all of the arguments are optional.  In the second
version, <var>ddraw_color</var> is required and has been moved to the front
of the argument list.  This version is often convenient, when a
<code>Color</code> other than the default is desired.

        <p>The arguments:
          <dl>
<dt><var>dist</var><dd>The length of the lines drawn.  The default is 2.5.  The value 0 can be
used as a dummy argument, if the default for <var>dist</var> is desired, but
other arguments must be specified.

          <br><dt><dt><var>pos_x</var><dt><var>pos_y</var><dt><var>pos_z</var><dd>The position arguments for the labelling commands for each of the axes. 
The defaults are <code>"bot"</code> for the x and z-axes, and <code>"lft"</code> for
the y-axis. 
The usual <code>strings</code> for the
position of labels can be used,
namely: <code>"top"</code>, <code>"bot"</code>, <code>"lft"</code>,
<code>"rt"</code>, <code>"ulft"</code>, <code>"urt"</code>, <code>"llft"</code>,
<code>"lrt"</code>, and <code>""</code>.  If <code>""</code> is used, that axis is not
drawn.  This can be useful for parallel projections onto one of the
major planes<a rel="footnote" href="#fn-41" name="fnd-41"><sup>41</sup></a>. 
In addition, <code>"d"</code> can be used to indicate that the default should
be used for that label.  This can be useful if one needs a placeholder,
but doesn't remember what the default is for that label.

          <pre class="example">               draw_axes(0, "bot", "rt", "");
               current_picture.output(Projections::PARALLEL_X_Y);
</pre>
          <p><p align="center">
<br>
<img src="./graphics/png/3DLDF126.png"
alt="[Figure 126. Not displayed.]" 
/>
<br>
<br>
Fig. 126. 
<br>
</p>

          <p>In addition, the arguments <var>shift_x</var>, <var>shift_y</var>,
and <var>shift_z</var> can be used to adjust the positions of the labels
further (see below).

          <br><dt><var>ddraw_color</var><dt><var>ddashed</var><dt><var>ppen</var><dd>Arguments for the <code>drawarrow()</code> command, described above, in this
section.

          <br><dt><var>shift_x</var><dt><var>shift_y</var><dt><var>shift_z</var><dd>Offsets for the labels.  These arguments make it possible to adjust the
positions of the labels.  The defaults are <code>origin</code>, so no shifting
takes place, if they are used.  In [next figure]
,
<code>draw_axes</code> is called without any arguments, so the defaults
are used.

          <pre class="example">               draw_axes();
</pre>
          <p><p align="center">
<br>
<img src="./graphics/png/3DLDF127.png"
alt="[Figure 127. Not displayed.]" 
/>
<br>
<br>
Fig. 127. 
<br>
</p>

          <p>In [next figure]
, the <code>Point P</code> is used to shift the labels. 
Please note that placeholders must be used for the first arguments.

          <pre class="example">               Point P(.5, .5, .5);
               draw_axes(0, "d", "d", "d", black, "", "", P, -P, P);
</pre>
          <p><p align="center">
<br>
<img src="./graphics/png/3DLDF128.png"
alt="[Figure 128. Not displayed.]" 
/>
<br>
<br>
Fig. 128. 
<br>
</p>

          <p>Please note that the <code>Points</code> used for placing the labels are
three-dimensional <code>Points</code>, whether the <var>shift_x</var>,
<var>shift_y</var>, and/or <var>shift_z</var> arguments are used or not. 
It is not currently possible to adjust the positions of the
labels on the two-dimensional projection itself.  This would
probably be more useful, but would require changing the way
<code>Picture::output()</code> functions.

          <br><dt><var>picture</var><dd>The <code>Picture</code>, onto which the <code>Paths</code> and <code>Labels</code> are put. 
</dl>
        </p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> function: void <b>fill</b> ([<var>const Color&amp; ffill_color = </var><code>*Colors::default_color</code><var>, </var>[<var>Picture&amp; picture = </var><code>current_picture</code>]])<var><a name="index-fill-593"></a></var><br>
&mdash; Function: void <b>fill</b> (<var>Picture&amp; picture, </var>[<var>const Color&amp; ffill_color = </var><code>*Colors::default_color</code>])<var><a name="index-fill-594"></a></var><br>
<blockquote>
        <p>Allocates a copy of the <code>Path</code> on the free store, puts a pointer to
it onto <var>picture</var>.<code>shapes</code>, sets
its <code>fill_draw_value</code> to <code>FILL</code>, and
its <code>fill_color</code> to <code>*</code><var>ffill_color</var>.

        <p>The second version is convenient for passing a
<code>Picture</code> argument without having to specify all of the other arguments.

        <p>The arguments are similar to those of <code>draw()</code>, except that the
<code>Color</code> argument is called <var>ffill_color</var> instead of
<var>ddraw_color</var>.

     <pre class="example">          p.fill(gray);
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF129.png"
alt="[Figure 129. Not displayed.]" 
/>
<br>
<br>
Fig. 129. 
<br>
</p>

        </blockquote></div>

<div class="defun">
&mdash; <code>const</code> function: void <b>filldraw</b> ([<var>const Color&amp; ddraw_color = </var><code>*Colors::default_color</code><var>, </var>[<var>const Color&amp; ffill_color = </var><code>*Colors::background_color</code><var>, </var>[<var>string ddashed = "", </var>[<var>string ppen = "", </var>[<var>Picture&amp; picture = </var><code>current_picture</code>]]]]])<var><a name="index-filldraw-595"></a></var><br>
&mdash; <code>const</code> function: void <b>filldraw</b> (<var>Picture&amp; picture, </var>[<var>const Color&amp; ddraw_color = </var><code>*Colors::default_color</code><var>, </var>[<var>const Color&amp; ffill_color = </var><code>*Colors::background_color</code><var>, </var>[<var>string ddashed = "", </var>[<var>string ppen = ""</var>]]]])<var><a name="index-filldraw-596"></a></var><br>
<blockquote><p>Allocates a copy of the <code>Path</code> on the free store, puts a pointer to
the copy onto <var>picture</var>.<code>shapes</code>, sets
its <code>fill_draw_value</code> to <code>FILLDRAW</code>,
its <code>draw_color</code> and <code>fill_color</code> to
<code>*</code><var>ddraw_color</var> and <code>*</code><var>ffill_color</var>, respectively,
its <code>dashed</code> to <var>ddashed</var>, and its <code>pen</code>
to <var>ppen</var>.

        <p>The second version is convenient for passing a
<code>Picture</code> argument without having to specify all of the other arguments.

        <p>The arguments are similar to those of <code>draw()</code> and <code>fill()</code>,
except that both <var>ddraw_color</var> and <var>ffill_color</var> are used.

        <p>3DLDF's <code>filldraw()</code> differs from Metafont's and MetaPost's
<code>filldraw</code> commands:  In Metafont and MetaPost, <code>filldrawing</code>
is equivalent to filling a <code>path</code> and then drawing its
border using the <code>pen</code>. 
Metafont does not have colors.  While MetaPost does, its <code>filldraw</code>
command does not foresee the use of different colors for drawing and
filling.

     <pre class="example">          p.filldraw(black, gray, "", "pencircle scaled 2mm");
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF130.png"
alt="[Figure 130. Not displayed.]" 
/>
<br>
<br>
Fig. 130. 
<br>
</p>

        <p>It can often be useful to draw the outline of a <code>Path</code>, but to have
it hide objects that lie behind it.  This is why the default for
<var>ffill_color</var> is <code>*Colors::background_color</code>.

     <pre class="example">          default_focus.set(3, 0, -10, 3, 10, 10, 10);
          Point p[8];
          p[0] = p[1] = p[2] = p[3] = p[4]
               = p[5] = p[6] = p[7].set(-1,-1, 5);
          p[1] *= p[2] *= p[3] *= p[4] *= p[5]
               *= p[6] *= p[7].rotate(0, 0, 45);
          p[2] *= p[3] *= p[4]
               *= p[5] *= p[6] *= p[7].rotate(0, 0, 45);
          p[3] *= p[4] *= p[5] *= p[6]
               *= p[7].rotate(0, 0, 45);
          p[4] *= p[5] *= p[6] *= p[7].rotate(0, 0, 45);
          p[5] *= p[6] *= p[7].rotate(0, 0, 45);
          p[6] *= p[7].rotate(0, 0, 45);
          p[7].rotate(0, 0, 45);
          Path r0("..", true, &amp;p[0], &amp;p[1], &amp;p[2],
                  &amp;p[3], &amp;p[4], &amp;p[5], &amp;p[6], &amp;p[7], 0);
          r0.filldraw(black, light_gray);
          r0.scale(2, .5);
          r0.shift(0, 0, -2.5);
          r0.filldraw(black, gray);
          r0.scale(.25, 3);
          r0.shift(0, 0, -2.5);
          r0.filldraw();
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF131.png"
alt="[Figure 131. Not displayed.]" 
/>
<br>
<br>
Fig. 131. 
<br>
</p>

        </blockquote></div>

<div class="defun">
&mdash; Function: void <b>undraw</b> ([<var>string ddashed = "", </var>[<var>string ppen = "", </var>[<var>Picture&amp; picture = </var><code>current_picture</code>]]])<var><a name="index-undraw-597"></a></var><br>
&mdash; Function: void <b>undraw</b> (<var>Picture&amp; picture, </var>[<var>string ddashed = "", </var>[<var>string ppen = ""</var>]])<var><a name="index-undraw-598"></a></var><br>
<blockquote><p>Allocates a copy of the <code>Path</code> on the free store, puts a pointer to
it on <var>picture</var>.<code>shapes</code>, sets
its <code>fill_draw_value</code> to <code>UNDRAW</code>, and
the values of its
<code>dashed</code> and <code>pen</code> according to the
arguments.

        <p>The second version is convenient for passing a
<code>Picture</code> argument without having to specify all of the other arguments.

        <p>This function &ldquo;undraws&rdquo; a <code>Path</code>.  This is equivalent to drawing
the <code>Path</code> using the background color
(<code>*Colors::background_color</code>).

        <p>Undrawing is useful for removing a portion of a <code>Path</code>.

     <!-- Make this illustration a letter.  LDF 2003.07.16. -->
     <pre class="example">          Point P0(1, 1);
          Point P1(2, 1);
          Point P2(2, 3);
          Point P3(-1, 1);
          Path p("--", false, &amp;origin, &amp;P0, &amp;P1, &amp;P2, &amp;P3, 0);
          p.draw(black, "", "pencircle scaled 3mm");
          p.undraw("", "pencircle scaled 1mm");
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF132.png"
alt="[Figure 132. Not displayed.]" 
/>
<br>
<br>
Fig. 132. 
<br>
</p>

        </blockquote></div>

<div class="defun">
&mdash; Function: void <b>unfill</b> ([<var>Picture&amp; picture = </var><code>current_picture</code>])<var><a name="index-unfill-599"></a></var><br>
<blockquote><p>Allocates a copy of the <code>Path</code> on the free store, puts a pointer to
it on <var>picture</var>.<code>shapes</code> and sets
its <code>fill_draw_value</code> to <code>UNFILL</code>

        <p>This function is useful for removing a portion of a filled region.

     <pre class="example">          Point pt[4];
          pt[0].set(-2, -2);
          pt[1].set(2, -2);
          pt[2].set(2, 2);
          pt[3].set(-2, 2);
          Path p("--", true, &amp;pt[0], &amp;pt[1], &amp;pt[2], &amp;pt[3], 0);
          p.draw();
          p.dotlabel();
          p.filldraw(black, gray);
          p.scale(.5, .5);
          p.unfill();
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF133.png"
alt="[Figure 133. Not displayed.]" 
/>
<br>
<br>
Fig. 133. 
<br>
</p>

        </blockquote></div>

<div class="defun">
&mdash; Function: void <b>unfilldraw</b> ([<var>const Color&amp; ddraw_color = </var><code>*Colors::background_color</code><var>, </var>[<var>string ddashed = "", </var>[<var>string ppen = "", </var>[<var>Picture&amp; picture = current_picture</var>]]]])<var><a name="index-unfilldraw-600"></a></var><br>
&mdash; Function: void <b>unfilldraw</b> (<var>Picture&amp; picture, </var>[<var>const Color&amp; ddraw_color = </var><code>*Colors::background_color</code><var>, </var>[<var>string ddashed = "", </var>[<var>string ppen = ""</var>]]])<var><a name="index-unfilldraw-601"></a></var><br>
<blockquote><p>Allocates a copy of the <code>Path</code> on the free store, puts a pointer to
it on <var>picture</var>.<code>shapes</code>, sets
its <code>fill_draw_value</code> to <code>UNFILLDRAW</code>, and
the values of its
<code>draw_color</code>, <code>dashed</code>, and <code>pen</code> according to the
arguments.  While the default for <var>ddraw_color</var> is
<code>*Colors::background_color</code>, any other <code>Color</code> can be used,
so that <code>unfilldraw()</code> can unfill a <code>Path</code> and draw an outline
around it.

        <p>The second version is convenient for passing a
<code>Picture</code> argument without having to specify all of the other arguments.

        <p>This function is similar to <code>unfill()</code>
(see <a href="#Drawing-and-Filling-Paths">Path Reference; Drawing and Filling</a>),
except that the outline of the <code>Path</code> will be &ldquo;undrawn&rdquo; using the
pen specified with the <var>ppen</var> argument, or MetaPost's
<code>currentpen</code>, if no <var>ppen</var> argument is specified.  In addition,
the <code>Path</code> will be drawn using the <code>Color</code> specified in the
<var>ddraw_color</var> argument.  Since the default is
<code>*Colors::background_color</code>, the <code>Path</code> will be &ldquo;undrawn&rdquo;
unless a different <code>Color</code> is specified.

     <pre class="example">          Point pt[6];
          pt[0].set(-2, -2);
          pt[1].set(0, -3);
          pt[2].set(2, -2);
          pt[3].set(2, 2);
          pt[4].set(0, 3);
          pt[5].set(-2, 2);
          Path p("--", true, &amp;pt[0], &amp;pt[1], &amp;pt[2],
                 &amp;pt[3], &amp;pt[4], &amp;pt[5], 0);
          p.fill(gray);
          p.scale(.5, .5);
          p.unfilldraw(black, "", "pensquare xscaled 3mm");
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF134.png"
alt="[Figure 134. Not displayed.]" 
/>
<br>
<br>
Fig. 134. 
<br>
</p>

        </blockquote></div>

<div class="node">
<a name="Labelling-Paths"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Showing-Paths">Showing Paths</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Drawing-and-Filling-Paths">Drawing and Filling Paths</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Path-Reference">Path Reference</a>

</div>

<h3 class="section">26.13 Labelling</h3>

<div class="defun">
&mdash; <code>const</code> function: void <b>label</b> ([<var>unsigned int i = 0, </var>[<var>string position_string = "top", </var>[<var>short text_short = 0, </var>[<var>bool dot = </var><code>false</code><var>, </var>[<var>Picture&amp; picture = </var><code>current_picture</code>]]]]])<var><a name="index-label-602"></a></var><br>
&mdash; <code>const</code> function: void <b>label</b> (<var>Picture&amp; picture, </var>[<var>unsigned int i = 0, </var>[<var>string position_string = "top", </var>[<var>short text_short = 0, </var>[<var>bool dot = </var><code>false</code>]]]])<var><a name="index-label-603"></a></var><br>
<blockquote><p>Calls <code>Point::label()</code> on all of the <code>Points</code> on
<code>points</code>.  They are numbered consecutively starting with <var>i</var>. 
The other arguments are used for all of the <code>Points</code>, so it's not
possible to specify different positions for the labels for different
<code>Points</code>.  <var>dot</var> will normally not be specified, unless a
<var>picture</var> argument is used in the first version.  <code>dotlabel()</code>
calls <code>label()</code> with <var>dot</var> = <code>true</code>.

        <p>The second version is convenient for passing a
<code>Picture</code> argument without having to specify all of the other arguments. 
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> function: void <b>dotlabel</b> ([<var>unsigned int i = 0, </var>[<var>string position_string = "top", </var>[<var>short text_short = 0, Picture&amp; picture = </var><code>current_picture</code>]]])<var><a name="index-dotlabel-604"></a></var><br>
&mdash; <code>const</code> function: void <b>dotlabel</b> (<var>Picture&amp; picture, </var>[<var>unsigned int i = 0, </var>[<var>string position_string = "top", </var>[<var>short text_short = 0</var>]]])<var><a name="index-dotlabel-605"></a></var><br>
<blockquote><p>Like <code>label()</code>, except that the <code>Points</code> are dotted. 
</p></blockquote></div>

<div class="node">
<a name="Showing-Paths"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Querying-Paths">Querying Paths</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Labelling-Paths">Labelling Paths</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Path-Reference">Path Reference</a>

</div>

<h3 class="section">26.14 Showing</h3>

<div class="defun">
&mdash; <code>const</code> function: void <b>show</b> ([<var>string text = "", </var>[<var>char coords = 'w', </var>[<var>const bool do_persp = </var><code>true</code><var>, </var>[<var>const bool do_apply = </var><code>true</code><var>, </var>[<var>Focus* f = 0, </var>[<var>const unsigned short proj = </var><code>Projections::PERSP</code><var>, </var>[<var>const real factor = 1</var>]]]]]]])<var><a name="index-show-606"></a></var><br>
<blockquote><p>Prints information about the <code>Path</code> to standard output
(<code>stdout</code>).  <var>text</var> is simply printed out, unless it's the
empty string, in which case <code>"Path:"</code> is printed out. 
<var>coords</var> indicates which set of coordinates should be shown.  Valid values are
<code>'w'</code> for the <code>world_coordinates</code>, <code>'p'</code> for the
<code>projective_coordinates</code>, <code>'u'</code> for the
<code>user_coordinates</code>, and <code>'v'</code> for the <code>view_coordinates</code>,
whereby the latter two are currently not in use
(see <a href="#Point-Data-Members">Point Reference; Data Members</a>). 
If <var>do_apply</var> is <code>true</code>, <code>apply_transform()</code> is called
on each <code>Point</code>, updating its <code>world_coordinates</code> and
resetting its <code>transform</code>.  Otherwise,
it's not. 
The arguments <var>do_persp</var>, <var>f</var>, <var>proj</var>, and <var>factor</var> are only
relevant when showing <code>projective_coordinates</code>.  If <code>do_persp</code>
is <code>true</code>, the <code>Points</code> are projected using the values of
<var>f</var>, <var>proj</var>, and <var>factor</var>
(see <a href="#Outputting-Paths">Path Reference; Outputting</a>). 
Otherwise, the values currently
stored in <code>projective_coordinates</code> are shown. 
The <code>Points</code> and connectors are printed out alternately to standard
output, followed by the word &ldquo;cycle&rdquo;, if <code>cycle_switch = true</code>.<a rel="footnote" href="#fn-42" name="fnd-42"><sup>42</sup></a>

     <pre class="example">          default_focus.set(0, 3, -10, 0, 3, 10, 10);
          Reg_Polygon r(origin, 5, 3, 45);
          r.fill(gray);
          Point p[10];
          for (int i = 0; i &lt; 5; ++i)
              p[i] = r.get_point(i);
          p[5] = Point::intersection_point(p[4], p[0], p[2], p[1]).pt;
          p[6] = Point::intersection_point(p[0], p[1], p[2], p[3]).pt;
          p[7] = Point::intersection_point(p[1], p[2], p[4], p[3]).pt;
          p[8] = Point::intersection_point(p[2], p[3], p[0], p[4]).pt;
          p[9] = Point::intersection_point(p[3], p[4], p[0], p[1]).pt;
          Path q("--", true, &amp;p[0], &amp;p[5], &amp;p[1], &amp;p[6], &amp;p[2], &amp;p[7],
                 &amp;p[3], &amp;p[8], &amp;p[4], &amp;p[9], 0);
          q.draw();
          q.show("q:");
          -| q:
          fill_draw_value == 0
          (0, 1.06066, 1.06066)
          -- (-2.30826, 2.24651, 2.24651)
          -- (-1.42658, 0.327762, 0.327762)
          -- (-3.73485, -0.858092, -0.858092)
          -- (-0.881678, -0.858092, -0.858092)
          -- (4.92996e-07, -2.77684, -2.77684)
          -- (0.881678, -0.858092, -0.858092)
          -- (3.73485, -0.858092, -0.858092)
          -- (1.42658, 0.327762, 0.327762)
          -- (2.30826, 2.24651, 2.24651) -- cycle;
          q.show("q:", 'p');
          -| q:
          fill_draw_value == 0
          Projective coordinates.
          (0, -1.75337, 0.0958948)
          -- (-1.88483, -0.615265, 0.183441)
          -- (-1.38131, -2.58743, 0.031736)
          -- (-4.08541, -4.22023, -0.0938636)
          -- (-0.964435, -4.22023, -0.0938636)
          -- (0, -7.99767, -0.384436)
          -- (0.964436, -4.22023, -0.0938636)
          -- (4.08541, -4.22023, -0.0938636)
          -- (1.38131, -2.58743, 0.031736)
          -- (1.88483, -0.615266, 0.183441) -- cycle;
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF135.png"
alt="[Figure 135. Not displayed.]" 
/>
<br>
<br>
Fig. 135. 
<br>
</p>

     </blockquote></div>

<div class="defun">
&mdash; Function: void <b>show_colors</b> ([<var>bool  = </var><code>false</code>])<var><a name="index-show_005fcolors-607"></a></var><br>
<blockquote><p>Shows the values of <code>draw_color</code> and <code>fill_color</code>.  These will
normally be 0, unless the <code>Path</code> is on a <code>Picture</code>. 
</p></blockquote></div>

<div class="node">
<a name="Querying-Paths"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Outputting-Paths">Outputting Paths</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Showing-Paths">Showing Paths</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Path-Reference">Path Reference</a>

</div>

<h3 class="section">26.15 Querying</h3>

<!-- !! ADD EXAMPLES to the function descriptions in this section. -->
<!-- LDF 2003.07.16. -->
<div class="defun">
&mdash; <code>const</code> function: bool <b>is_on_free_store</b> (<var>void</var>)<var><a name="index-is_005fon_005ffree_005fstore-608"></a></var><br>
<blockquote><p>Returns <code>true</code>, if the <code>Path</code> was dynamically allocated on the
free store, otherwise <code>false</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> virtual function: bool <b>is_planar</b> ([<var>const bool verbose = </var><code>false</code><var>, </var>[<var>string text = ""</var>]])<var><a name="index-is_005fplanar-609"></a></var><br>
<blockquote><p>Uses <code>get_normal()</code> to determine
whether the <code>Path</code> is planar or not.  Returns <code>true</code>, if it is,
otherwise <code>false</code>.  If <var>verbose</var> is <code>true</code>, <var>text</var> is written to
standard output, or &ldquo;Path:&rdquo;, if <var>text</var> is the empty string,
followed by a message saying whether the <code>Path</code> is planar or not. 
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> function: bool <b>is_linear</b> ([<var>const bool verbose = </var><code>false</code><var>, </var>[<var>string text = ""</var>]])<var><a name="index-is_005flinear-610"></a></var><br>
<blockquote><p>Returns <code>true</code>, if <code>line_switch</code> is <code>true</code>.  Otherwise,
<code>is_linear()</code> uses <code>get_normal()</code> to determine whether the
<code>Path</code> is linear.  If it is, <code>is_linear()</code> returns
<code>true</code>, otherwise <code>false</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Inline <code>const</code> function: bool <b>is_cycle</b> (<var>void</var>)<var><a name="index-is_005fcycle-611"></a></var><br>
<blockquote><p>Returns <code>true</code> if the <code>Path</code> is cyclical, i.e.,
<code>cycle_switch = true</code>, otherwise <code>false</code>.  Only cyclical
<code>Paths</code> are fillable. 
</p></blockquote></div>

<div class="defun">
&mdash; Inline function: int <b>size</b> (<var>void</var>)<var><a name="index-size-612"></a></var><br>
<blockquote><p>Returns the number of <code>Points</code> on <code>points</code>, i.e.,
<code>points.size()</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Inline <code>const</code> function: bool <b>get_line_switch</b> (<var>void</var>)<var><a name="index-get_005fline_005fswitch-613"></a></var><br>
<blockquote><p>Returns the value of <code>line_switch</code>.  <code>line_switch</code> is only
true, if the <code>Path</code> was created, directly or indirectly, using the
constructor taking two <code>Point</code> arguments only. 
See <a href="#Path-Constructors-and-Setting-Functions">Path Reference; Constructors and Setting Functions</a>. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: real <b>slope</b> ([<var>char a = 'x', </var>[<var>char b = 'y'</var>]])<var><a name="index-slope-614"></a></var><br>
<blockquote><p>Returns the slope of the <code>Path</code> in the plane indicated by the
arguments, if <code>is_linear()</code> returns <code>true</code>.  Otherwise,
<code>slope()</code> issues an error message and returns <code>INVALID_REAL</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> function: Path <b>subpath</b> (<var>size_t start, size_t end, </var>[<var>const bool cycle = false, </var>[<var>const string connector = ""</var>]])<var><a name="index-subpath-615"></a></var><br>
<blockquote><p>Returns a new <code>Path</code> using <code>points[</code><var>start</var><code>]</code> through
<code>points[</code><var>end</var><code> - 1]</code>.  If <var>cycle</var> is <code>true</code>, then the new
<code>Path</code> will be a cycle, whether
<code>*this</code> is or not.  One optional connector
argument can be used.  If it is, it will be the only connector. 
Otherwise, the appropriate connectors from <code>*this</code> are used.

        <p><var>start</var> must be &lt; <var>end</var>.  It is not possible to
have <var>start</var> &gt; <var>end</var>, even if <code>*this</code> is a cycle. 
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> function: const Point&amp; <b>get_point</b> (<var>const unsigned short a</var>)<var><a name="index-get_005fpoint-616"></a></var><br>
<blockquote><p>Returns the <code>Point</code> <code>*points[</code><var>a</var><code>]</code>, if <var>a</var> &lt;
<code>points.size()</code> and the <code>Path</code> is non-empty, otherwise
<code>INVALID_POINT</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> function: const Point&amp; <b>get_last_point</b> (<var>void</var>)<var><a name="index-get_005flast_005fpoint-617"></a></var><br>
<blockquote><p>Returns the <code>Point</code> pointed to by the last pointer on <code>points</code>. 
Equivalent to  <code>get_point(get_size() - 1)</code>, but more convenient to
type.  Returns <code>INVALID_POINT</code>, if the <code>Path</code> is empty. 
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> inline virtual function: size_t <b>get_size</b> (<var>void</var>)<var><a name="index-get_005fsize-618"></a></var><br>
<blockquote><p>Returns <code>points.size()</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> function: Line <b>get_line</b> (<var>void</var>)<var><a name="index-get_005fline-619"></a></var><br>
<blockquote><p>Returns a <code>Line</code> corresponding to the <code>Path</code>, if the latter is
linear.  Otherwise, <code>INVALID_LINE</code> is returned. 
See <a href="#Line-Reference">Line Reference</a>. 
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> virtual function: Point <b>get_normal</b> (<var>void</var>)<var><a name="index-get_005fnormal-620"></a></var><br>
<blockquote><p>Returns a <code>Point</code> representing a unit vector in the direction of the
normal to the plane of the <code>Path</code>, or <code>INVALID_POINT</code>, if
the <code>Path</code> is non-planar.

     <pre class="example">          Point P(1, 1, 1);
          Rectangle r(P, 4, 4, 30, 30, 30);
          Point N = r.get_normal();
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF136.png"
alt="[Figure 136. Not displayed.]" 
/>
<br>
<br>
Fig. 136. 
<br>
</p>

        <p>In 3DLDF, plane figures generally have constructors taking a |Point|
argument for the center, a variable number of |real| arguments for the
dimensions, and three |real| arguments for the rotation about the major
axes.  The object is first created in the x-z plane, and the
<code>Points</code> are generated to be traversed in the counter-clockwise
direction, when seen from a <code>Point</code> with a positive y-coordinate. 
If no rotation is specified, the normal will point in the direction of
the positive y-axis.  If non-zero arguments are used for rotation, the
normal will be rotated accordingly.  This direction considered to be
&ldquo;outside&rdquo;.  However, according to Huw
Jones, <cite>Computer Graphics Through Key Mathematics</cite>, p. 197,
&ldquo;outside&rdquo; is considered to be the side of a plane, where the
<code>Points</code> are meant to be traversed in the clockwise direction. 
I hope that no problems arise from this discrepancy! 
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> virtual function: Plane <b>get_plane</b> (<var>void</var>)<var><a name="index-get_005fplane-621"></a></var><br>
<blockquote><p>Creates and returns a <code>Plane</code> <var>p</var> corresponding to the <code>Path</code>,
if the latter is planar, otherwise <code>INVALID_PLANE</code>. 
If the <code>Path</code> is planar, <var>p</var>.<code>point</code> will be the
<code>Point</code> pointed to by <code>this-&gt;points[0]</code>. 
See <a href="#Plane-Reference">Plane Reference</a>.

     <pre class="example">          Point P(1, 1, 1);
          Rectangle r(P, 4, 4, 45, 20, 15);
          Plane q = r.get_plane();
          q.show("q:");
          -| q:
             normal: (0.0505914, 0.745607, -0.664463)
             point: (0.0178869, -0.727258, -1.01297)
             distance == -0.131735
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF137.png"
alt="[Figure 137. Not displayed.]" 
/>
<br>
<br>
Fig. 137. 
<br>
</p>

        </blockquote></div>

<div class="defun">
&mdash; Function: void <b>set_cycle</b> ([<var>const bool c = </var><code>true</code>])<var><a name="index-set_005fcycle-622"></a></var><br>
<blockquote><p>Sets <code>cycle_switch</code> to <var>c</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: Path <b>reverse</b> (<var>bool assign</var>)<var><a name="index-reverse-623"></a></var><br>
&mdash; <code>const</code> function: Path <b>reverse</b> (<var>void</var>)<var><a name="index-reverse-624"></a></var><br>
<blockquote><p>These functions return a <code>Path</code> with the same <code>Points</code> and
connectors as <code>*this</code>, but in reversed order. 
<code>reverse()</code> can only be applied to non-cyclical <code>Paths</code>.  If
<code>*this</code> is a cycle, <code>reverse()</code> issues an error message and
returns <code>*this</code> unreversed.

        <p>If the first version is called with <var>assign</var> = <code>true</code>,
<code>*this</code> itself is reversed.  If <code>*this</code> should remain
unchanged, the <code>const</code> version without an argument should be
called.  If, on the other hand, the first version is called with
<var>assign</var> = <code>false</code>, a warning message is issued, but the
reversed <code>Path</code> is returned just the same, leaving <code>*this</code>
unchanged.

     <!-- !! ADD EXAMPLE.  LDF 2003.07.16. -->
        </blockquote></div>

<div class="node">
<a name="Outputting-Paths"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Path-Intersections">Path Intersections</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Querying-Paths">Querying Paths</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Path-Reference">Path Reference</a>

</div>

<h3 class="section">26.16 Outputting</h3>

<div class="defun">
&mdash; Function: bool <b>project</b> (<var>const Focus&amp; f, const unsigned short proj, real factor</var>)<var><a name="index-project-625"></a></var><br>
<blockquote><p>Calls <code>Point::project(</code><var>f</var><code>, </code><var>proj</var><code>, </code><var>factor</var><code>)</code> on the
<code>Points</code> on the <code>Path</code>. 
If <code>Point::project()</code> fails (i.e., returns <code>false</code>), for any of
the <code>Points</code>, this function
returns <code>false</code>.  Otherwise, it returns <code>true</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: vector&lt;Shape*&gt; <b>extract</b> (<var>const Focus&amp; f, const unsigned short proj, real factor</var>)<var><a name="index-extract-626"></a></var><br>
<blockquote><p>Checks that the <code>Points</code> on <code>points</code> can be projected using
the values for <var>f</var>, <var>proj</var>, and <var>factor</var>.  If they can, a
<code>vector&lt;Shape*&gt;</code> containing only <code>this</code> is returned.  Called in
<code>Picture::output()</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Virtual function: bool <b>set_extremes</b> (<var>void</var>)<var><a name="index-set_005fextremes-627"></a></var><br>
<blockquote><p>Sets the appropriate elements in <code>projective_extremes</code> to the
minimum and maximum values of the x, y, and z-coordinates of
the <code>Points</code> on the <code>Path</code>.  Used in <code>Picture::output()</code>
for determining whether a <code>Path</code> can be output using the arguments
passed to <code>Picture::output()</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Inline <code>const</code> virtual function: const valarray&lt;real&gt; <b>get_extremes</b> (<var>void</var>)<var><a name="index-get_005fextremes-628"></a></var><br>
<blockquote><p>Returns <code>projective_extremes</code>.  Used in <code>Picture::output()</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> virtual function: real <b>get_minimum_z</b> (<var>void</var>)<var><a name="index-get_005fminimum_005fz-629"></a></var><br>
&mdash; <code>const</code> virtual function: real <b>get_mean_z</b> (<var>void</var>)<var><a name="index-get_005fmean_005fz-630"></a></var><br>
&mdash; <code>const</code> virtual function: real <b>get_maximum_z</b> (<var>void</var>)<var><a name="index-get_005fmaximum_005fz-631"></a></var><br>
<blockquote><p>These functions return the minimum, mean, or maximum value,
respectively, of the
z-coordinates of the <code>Points</code> on the <code>Path</code>. 
Used in the surface hiding algorithm in <code>Picture::output()</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Virtual function: void <b>suppress_output</b> (<var>void</var>)<var><a name="index-suppress_005foutput-632"></a></var><br>
<blockquote><p>Called in <code>Picture::output()</code>. 
Sets <code>do_output</code> to
<code>false</code>, if the <code>Path</code> cannot  be output using the arguments
passed to <code>Picture::output()</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Virtual function: void <b>unsuppress_output</b> (<var>void</var>)<var><a name="index-unsuppress_005foutput-633"></a></var><br>
<blockquote><p>Called in <code>Picture::output()</code>.  Resets <code>do_output</code> to
<code>true</code> after <code>output()</code> is called on the <code>Shapes</code> on
<code>shapes</code> in a <code>Picture</code>, so that the <code>Path</code> can be output
if <code>Picture::output()</code> is called again, with arguments that allow
the <code>Path</code> to be output. 
</p></blockquote></div>

<div class="defun">
&mdash; Virtual function: void <b>output</b> (<var>void</var>)<var><a name="index-output-634"></a></var><br>
<blockquote><p>Called in <code>Picture::output()</code>.  Writes the MetaPost code to
<code>out_stream</code> for drawing, filling, filldrawing, undrawing,
unfilling, or unfilldrawing the <code>Path</code>, if the latter was
projectable using the arguments passed to <code>Picture::output()</code>. 
</p></blockquote></div>

<div class="node">
<a name="Path-Intersections"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Outputting-Paths">Outputting Paths</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Path-Reference">Path Reference</a>

</div>

<h3 class="section">26.17 Intersections</h3>

<div class="defun">
&mdash; Function: bool_point <b>intersection_point</b> (<var>const Path&amp; p, const bool trace</var>)<var><a name="index-intersection_005fpoint-635"></a></var><br>
<blockquote><p>Finds the intersection point, if any, of two linear <code>Paths</code>. 
Let <code>bp</code> be the <code>bool_point</code> returned by
this function.  <code>bp.pt</code> will contains the
intersection point, if it exists.  If not, it will contain
<code>INVALID_POINT</code>.  If the intersection point exists and lies on both
of the line segments represented by the <code>Path</code> and <code>p</code>,
<code>bp.b</code> will be <code>true</code>, otherwise, <code>false</code>.

        <p>This function calls <code>Point::intersection_points()</code>, passing the first
and last <code>Points</code> on <code>*this</code> and <var>p</var> as its arguments.  If
the <var>trace</var> argument is <code>false</code>, the version of
<code>Point::intersection_points()</code> that finds the intersection point by
means of a vector calculation is used.  If it's <code>true</code>, the version
that finds the intersection point of the traces of the lines on the
major planes is used. 
See <a href="#Point-Intersections">Point Reference; Intersections</a>.

     <pre class="example">          Point A(-1, -1, -1);
          Point B(1, 1, 1);
          Path p0(A, B);
          Point C(-2, 1, 1);
          Point D(1.75, 0.25, 0.25);
          Path p1(C, D);
          bool_point bp = p0.intersection_point(p1);
          bp.pt.dotlabel("$i$");
          bp.pt.show("bp.pt:");
          -| bp.pt: (0.5, 0.5, 0.5)
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF138.png"
alt="[Figure 138. Not displayed.]" 
/>
<br>
<br>
Fig. 138. 
<br>
</p>

     </blockquote></div>

<!-- polygon.texi -->
<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
<div class="node">
<a name="Polygon-Reference"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Regular-Polygon-Reference">Regular Polygon Reference</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Path-Reference">Path Reference</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">27 Polygon Reference</h2>

<p><a name="index-Polygon-636"></a>Class <code>Polygon</code> is defined in <samp><span class="file">polygons.web</span></samp>, and
is derived from <code>Path</code>, using public derivation.

   <p><code>Polygon</code> is mainly intended for use as a base class for more
specialized kinds of polygons.  Currently, the classes
<code>Reg_Polygon</code> (regular polygon) and <code>Rectangle</code> are defined. 
See <a href="#Regular-Polygon-Reference">Regular Polygon Reference</a>, and <a href="#Rectangle-Reference">Rectangle Reference</a>.

<ul class="menu">
<li><a accesskey="1" href="#Polygon-Data-Members">Polygon Data Members</a>
<li><a accesskey="2" href="#Polygon-Operators">Polygon Operators</a>
<li><a accesskey="3" href="#Querying-Polygons">Querying Polygons</a>
<li><a accesskey="4" href="#Affine-Transformations-for-Polygons">Affine Transformations for Polygons</a>
<li><a accesskey="5" href="#Polygon-Intersections">Polygon Intersections</a>
</ul>

<div class="node">
<a name="Polygon-Data-Members"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Polygon-Operators">Polygon Operators</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Polygon-Reference">Polygon Reference</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Polygon-Reference">Polygon Reference</a>

</div>

<h3 class="section">27.1 Data Members</h3>

<div class="defun">
&mdash; Private variable: Point <b>center</b><var><a name="index-center-637"></a></var><br>
<blockquote><p>The center of the <code>Polygon</code>, if it has one.  However, a
<code>Polygon</code> need not have a <code>center</code>.  If it doesn't,
<code>center</code> should be set to <code>INVALID_POINT</code>. 
</p></blockquote></div>

<div class="node">
<a name="Polygon-Operators"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Querying-Polygons">Querying Polygons</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Polygon-Data-Members">Polygon Data Members</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Polygon-Reference">Polygon Reference</a>

</div>

<h3 class="section">27.2 Operators</h3>

<div class="defun">
&mdash; Virtual operator: Transform <b>operator*=</b> (<var>const Transform&amp; t</var>)<var><a name="index-operator_002a_003d-638"></a></var><br>
<blockquote><p>Multiplies a <code>Polygon</code> by the <code>Transform</code> <var>t</var>. 
Similar to <code>Path::operator*=(const Transform&amp; t)</code>, except that
<code>center</code> is transformed as well. 
See <a href="#Path-Operators">Path Reference; Operators</a>. 
</p></blockquote></div>

<div class="node">
<a name="Querying-Polygons"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Affine-Transformations-for-Polygons">Affine Transformations for Polygons</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Polygon-Operators">Polygon Operators</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Polygon-Reference">Polygon Reference</a>

</div>

<h3 class="section">27.3 Querying</h3>

<div class="defun">
&mdash; Virtual function: const Point&amp; <b>get_center</b> (<var>void</var>)<var><a name="index-get_005fcenter-639"></a></var><br>
&mdash; <code>const</code> function: Point <b>get_center</b> (<var>void</var>)<var><a name="index-get_005fcenter-640"></a></var><br>
<blockquote><p>These functions return <code>center</code>.  If the <code>Polygon</code> doesn't
contain any <code>Points</code>, a warning is issued, and <code>INVALID_POINT</code>
is returned. 
</p></blockquote></div>

<div class="node">
<a name="Affine-Transformations-for-Polygons"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Polygon-Intersections">Polygon Intersections</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Querying-Polygons">Querying Polygons</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Polygon-Reference">Polygon Reference</a>

</div>

<h3 class="section">27.4 Affine Transformations</h3>

<div class="defun">
&mdash; Virtual function: Transform <b>rotate</b> (<var>const real x, </var>[<var>const real y = 0, </var>[<var>const real z = 0</var>]])<var><a name="index-rotate-641"></a></var><br>
&mdash; Virtual function: Transform <b>rotate</b> (<var>const Point&amp; p0, const Point&amp; p1, </var>[<var>const real angle = 180</var>])<var><a name="index-rotate-642"></a></var><br>
&mdash; Virtual function: Transform <b>rotate</b> (<var>const Path&amp; p, </var>[<var>const real angle = 180</var>])<var><a name="index-rotate-643"></a></var><br>
&mdash; Virtual function: Transform <b>scale</b> (<var>real x, </var>[<var>real y = 1, </var>[<var>real z = 1</var>]])<var><a name="index-scale-644"></a></var><br>
&mdash; Virtual function: Transform <b>shear</b> (<var>real xy, </var>[<var>real xz = 0, </var>[<var>real yx = 0, </var>[<var>real yz = 0, </var>[<var>real zx = 0, </var>[<var>real zy = 0</var>]]]]])<var><a name="index-shear-645"></a></var><br>
&mdash; Virtual function: Transform <b>shift</b> (<var>real x, </var>[<var>real y = 0, </var>[<var>real z = 0</var>]])<var><a name="index-shift-646"></a></var><br>
&mdash; Virtual function: Transform <b>shift</b> (<var>const Point&amp; p</var>)<var><a name="index-shift-647"></a></var><br>
&mdash; Virtual function: void <b>shift_times</b> (<var>real x, </var>[<var>real y = 1, </var>[<var>real z = 1</var>]])<var><a name="index-shift_005ftimes-648"></a></var><br>
&mdash; Virtual function: void <b>shift_times</b> (<var>const Point&amp; p</var>)<var><a name="index-shift_005ftimes-649"></a></var><br>
<blockquote><p>The affine transformation functions for <code>Polygon</code> differ from the
<code>Path</code> versions only in that <code>center</code> is transformed as well. 
See <a href="#Affine-Transformations-for-Paths">Path Reference; Affine Transformations</a>.

        <p>Please note, that the classes currently derived from <code>Polygon</code>,
namely <code>Reg_Polygon</code> and <code>Rectangle</code>, currently inherit these
functions from <code>Polygon</code>.  The problem with this is, that they have
data members, which are not recalculated when a <code>Reg_Polygon</code> or
<code>Rectangle</code> is transformed.  I plan to do something about this soon! 
It will also be necessary to add the function
<code>Reg_Polygon::is_reg_polygonal()</code>, in order to test whether operations
on a <code>Reg_Polygon</code> have caused it to become
irregular and/or non-polygonal.  Similarly, the function
<code>Rectangle::is_rectangular()</code> must be added, to test whether
operations on a <code>Rectangle</code> has caused it to become
non-rectangular. 
See <a href="#Regular-Polygon-Data-Members">Regular Polygon Reference; Data Members</a>, and <a href="#Rectangle-Data-Members">Rectangle Reference; Data Members</a>. 
</p></blockquote></div>

<div class="node">
<a name="Polygon-Intersections"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Affine-Transformations-for-Polygons">Affine Transformations for Polygons</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Polygon-Reference">Polygon Reference</a>

</div>

<h3 class="section">27.5 Intersections</h3>

<div class="defun">
&mdash; <code>const</code> function: bool_point_pair <b>intersection_points</b> (<var>const Point&amp; p0, const Point&amp; p1</var>)<var><a name="index-intersection_005fpoints-650"></a></var><br>
&mdash; <code>const</code> function: bool_point_pair <b>intersection_points</b> (<var>const Path&amp; p</var>)<var><a name="index-intersection_005fpoints-651"></a></var><br>
<blockquote><p>These functions find the intersections of the
<code>Polygon</code> and a line. 
In the first version, the <code>Point</code> arguments are the end points of
the line.  The argument to the second version must be a linear
<code>Path</code>.

        <p>A line and a regular polygon or rectangle<a rel="footnote" href="#fn-43" name="fnd-43"><sup>43</sup></a>
can intersect at two points at most. 
Let <code>b</code> be a <code>bool_point_pair</code> returned by
<code>intersection_points()</code>. 
If no
intersection points are found, <code>b.first.pt</code> and <code>b.second.pt</code>
will be <code>INVALID_POINT</code>, and <code>b.first.b</code> and <code>b.second.b</code>
will be <code>false</code>.  If a single intersection point is found, the
corresponding <code>Point</code> will be stored in <code>b.first.pt</code>.  If the
<code>Point</code> is on the line segment
p_0p_1
,
<code>b.first.b</code> will be <code>true</code>,
otherwise <code>false</code>.  If a second intersection point is found, it
will be stored in <code>b.second.pt</code>, and <code>b.second.b</code> is set
analogously to <code>b.first.b</code>.

        <p>When the <code>Point</code> arguments and the <code>Reg_Polygon</code> are coplanar,
as in [next figure]
, two intersection points are possible.  In this case,
only intersection points of the line with an edge of the
<code>Reg_Polygon</code> are returned in the <code>bool_point_pair</code>.

     <pre class="example">          Point A(1, 1, 1);
          Reg_Polygon r(origin, 5, 3);
          Transform t;
          t.rotate(15, 12, 11);
          t.shift(A);
          Point P(-2, 0, -1);
          Point Q(2, 0, 1);
          P *= Q *= r *= t;
          bool_point_pair bpp = r.intersection_points(P, Q);
          bpp.first.pt.dotlabel("$f$", "rt");
          bpp.second.pt.dotlabel("$s$");
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF139.png"
alt="[Figure 139. Not displayed.]" 
/>
<br>
<br>
Fig. 139. 
<br>
</p>

        <p>In [next figure]
, the lines BC
 and
PQ

        <p>are not coplanar with the <code>Reg_Polygon</code> r.  In each case, only
one intersection point is possible, and it can be either an intersection
with an edge of the
<code>Reg_Polygon</code>, or lie within its perimeter.

     <pre class="example">          Point B(r.get_point(3).mediate(r.get_point(4)));
          Point C(B);
          B.shift(0, 2, .5);
          C.shift(0, -2, -.5);
          Point P(-1, -2, -1);
          Point Q(0, 2, 1);
          B *= C *= P *= Q *= r *= t;
          bool_point_pair bpp = r.intersection_points(B, C);
          bpp.first.pt.dotlabel("$i_0$", "rt");
          bpp = r.intersection_points(P, Q);
          bpp.first.pt.dotlabel("$i_1$", "rt");
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF140.png"
alt="[Figure 140. Not displayed.]" 
/>
<br>
<br>
Fig. 140. 
<br>
</p>

        <p>In [next figure]
, the intersection point of r with the line
PQ

        <p>does not lie on the line <em>segment</em> PQ.

     <pre class="example">          bpp = r.intersection_points(P, Q);
          bpp.first.pt.dotlabel("$i$", "rt");
          cout &lt;&lt; "bpp.first.b == " &lt;&lt; bpp.first.b &lt;&lt; endl &lt;&lt; flush;
          -| bpp.first.b == 0
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF141.png"
alt="[Figure 141. Not displayed.]" 
/>
<br>
<br>
Fig. 141. 
<br>
</p>

     </blockquote></div>

<div class="defun">
&mdash; <code>const</code> function: vector&lt;Point&gt; <b>intersection_points</b> (<var>const Polygon&amp; r</var>)<var><a name="index-intersection_005fpoints-652"></a></var><br>
<blockquote><p>Finds the intersection points of two <code>Polygons</code>. 
Let v be the <code>vector&lt;Point&gt;</code> returned by
<code>intersection_points()</code>.  If the <code>Polygons</code> are coplanar,
v
will contain the intersection points of the edges of the
<code>Polygons</code>, as in [next figure]
.

     <pre class="example">          Rectangle r(origin, 4, 4);
          Reg_Polygon rp(origin, 5, 5, 0, 36);
          rp.shift(0, 0, .25);
          vector &lt;Point&gt; v = r.intersection_points(rp);
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF142.png"
alt="[Figure 142. Not displayed.]" 
/>
<br>
<br>
Fig. 142. 
<br>
</p>

        <p>If the <code>Polygons</code> lie in parallel planes, there can be no
intersection points.  If they lie in non-parallel, non-coplanar planes,
<code>intersection_points()</code> first finds the intersection line of the
two planes.  Then it finds the intersection points of this line with the
two <code>Polygons</code>, if they exist.  There can no more than four
intersection points, in this case. 
v[0] and v[1] will be the
intersection points of the line with <code>*this</code>, while v[2] and
v[3] will be the intersection points of the line with <var>r</var>.  If one
or more of the intersection points doesn't exist, the corresponding
member of v will contain <code>INVALID_POINT</code> as a placeholder.

     <pre class="example">          Point A(1, 1, 1);
          Rectangle r(A, 4, 4);
          Reg_Polygon p(A, 5, 5);
          p.rotate(90, 30);
          p.shift(2, 0, 3);
          vector &lt;Point&gt; v = r.intersection_points(p);
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF143.png"
alt="[Figure 143. Not displayed.]" 
/>
<br>
<br>
Fig. 143. 
<br>
</p>

        <p>In [next figure]
, the <code>Rectangle</code> r and the <code>Reg_Polygon</code> p
don't overlap at all, nor does the intersection line of the two planes
intersect with p.  However, it does intersect with p at the
labelled <code>Points</code>.

     <pre class="example">          Point A(1, 1, 1);
          Rectangle r(A, 4, 4);
          Reg_Polygon p(A, 5, 5);
          p.rotate(90, 30);
          p.shift(4, 3, 3);
          vector &lt;Point&gt; v = r.intersection_points(p);
          int i = 0;
          for (vector&lt;Point&gt;::iterator iter = v.begin();
           iter != v.end(); ++iter)
           iter-&gt;dotlabel(i++, "bot");
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF144.png"
alt="[Figure 144. Not displayed.]" 
/>
<br>
<br>
Fig. 144. 
<br>
</p>

        </blockquote></div>

<!-- regpolyg.texi -->
<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
<div class="node">
<a name="Regular-Polygon-Reference"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Rectangle-Reference">Rectangle Reference</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Polygon-Reference">Polygon Reference</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">28 Regular Polygon Reference</h2>

<p><a name="index-Reg_005fPolygon-653"></a>Class <code>Reg_Polygon</code> is defined in <samp><span class="file">polygons.web</span></samp>, and
is derived from <code>Polygon</code>, using public derivation.

   <p>As noted above in <a href="#Affine-Transformations-for-Polygons">Polygon Reference; Affine Transformations</a>, <code>class Reg_Polygon</code>,
like <code>class Rectangle</code>,
currently inherits its transformation functions and
<code>operator*=(const Transform&amp;)</code> from <code>Polygon</code>.  Consequently,
the data members of a <code>Reg_Polygon</code>, except for <code>center</code>, are
not recalculated when it's transformed.  I plan to change this soon!  It
will also be necessary to add the function
<code>Reg_Polygon::is_reg_polygonal()</code>, in order to test whether a
<code>Reg_Polygon</code> is still regular and polygonal.

<ul class="menu">
<li><a accesskey="1" href="#Regular-Polygon-Data-Members">Regular Polygon Data Members</a>
<li><a accesskey="2" href="#Regular-Polygon-Constructors-and-Setting-Functions">Regular Polygon Constructors and Setting Functions</a>
<li><a accesskey="3" href="#Regular-Polygon-Operators">Regular Polygon Operators</a>
<li><a accesskey="4" href="#Querying-Regular-Polygons">Querying Regular Polygons</a>
<li><a accesskey="5" href="#Circles-for-Regular-Polygons">Circles for Regular Polygons</a>
</ul>

<div class="node">
<a name="Regular-Polygon-Data-Members"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Regular-Polygon-Constructors-and-Setting-Functions">Regular Polygon Constructors and Setting Functions</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Regular-Polygon-Reference">Regular Polygon Reference</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Regular-Polygon-Reference">Regular Polygon Reference</a>

</div>

<h3 class="section">28.1 Data Members</h3>

<div class="defun">
&mdash; Private variable: real <b>internal_angle</b><var><a name="index-internal_005fangle-654"></a></var><br>
<blockquote><p>The angle at the center of the <code>Reg_Polygon</code> of the triangle formed
by the center and two adjacent corners. 
If n is the number of sides of a <code>Reg_Polygon</code>,
<code>internal_angle</code> will be 360.0/n, so <code>internal_angle</code>
will be 120 for a regular triangle, 90 for a square, 72 for a pentagon,
etc. 
<!-- !! Make figure. -->
</p></blockquote></div>

<div class="defun">
&mdash; Private variable: real <b>radius</b><var><a name="index-radius-655"></a></var><br>
<blockquote><p>The radius of the surrounding circle for a <code>Reg_Polygon</code> (<i>Umkreis</i>). 
</p></blockquote></div>

<div class="defun">
&mdash; Private variable: unsigned <b>short</b><var> sides<a name="index-short-656"></a></var><br>
<blockquote><p>The number of sides of a <code>Reg_Polygon</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Private variable: bool <b>on_free_store</b><var><a name="index-on_005ffree_005fstore-657"></a></var><br>
<blockquote><p><code>true</code>, if the <code>Reg_Polygon</code> was dynamically allocated on the
free store, otherwise <code>false</code>.  Dynamic allocation of
<code>Reg_Polygons</code> should only be
performed by <code>create_new&lt;Reg_Polygon&gt;()</code>, which sets
<code>on_free_store</code> to <code>true</code>. 
</p></blockquote></div>

<div class="node">
<a name="Regular-Polygon-Constructors-and-Setting-Functions"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Regular-Polygon-Operators">Regular Polygon Operators</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Regular-Polygon-Data-Members">Regular Polygon Data Members</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Regular-Polygon-Reference">Regular Polygon Reference</a>

</div>

<h3 class="section">28.2 Constructors and Setting Functions</h3>

<div class="defun">
&mdash; Default constructor: void <b>Reg_Polygon</b> (<var>void</var>)<var><a name="index-Reg_005fPolygon-658"></a></var><br>
<blockquote><p>Creates an empty <code>Reg_Polygon</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Constructor: void <b>Reg_Polygon</b> (<var>const Point&amp; ccenter, const unsigned short ssides, const real ddiameter, </var>[<var>const real angle_x = 0, </var>[<var>const real angle_y = 0, </var>[<var>const real angle_z = 0</var>]]])<var><a name="index-Reg_005fPolygon-659"></a></var><br>
<blockquote><p>Creates a <code>Reg_Polygon</code> in the x-z plane, centered at the origin,
with the number of sides specified by <var>ssides</var> and with
<code>radius</code> = <var>ddiameter</var> / 2.

        <p>The <code>Reg_Polygon</code> is rotated
about the x, y, and z-axes in that order by the angles given by
<var>angle_x</var>, <var>angle_y</var>, and <var>angle_z</var>, respectively, if any
one of them is non-zero.  Finally, the
<code>Reg_Polygon</code> is shifted such that its center is located at
<var>ccenter</var>.

     <pre class="example">          Reg_Polygon r(origin, 3, 2.75, 10, 15, 12.5);
          r.draw();
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF145.png"
alt="[Figure 145. Not displayed.]" 
/>
<br>
<br>
Fig. 145. 
<br>
</p>

        </blockquote></div>

<div class="defun">
&mdash; Setting function: void <b>set</b> (<var>const Point&amp; ccenter, const unsigned short ssides, const real ddiameter, </var>[<var>const real angle_x = 0, </var>[<var>const real angle_y = 0, </var>[<var>const real angle_z = 0</var>]]])<var><a name="index-set-660"></a></var><br>
<blockquote><p>Corresponds to the constructor above.

        <p>A <code>Reg_Polygon</code> can theoretically have any number of sides, however
I haven't tested it for unreasonably large values.  The following
example demonstrates that <code>set()</code> can be used to change a
<code>Reg_Polygon</code>.

     <pre class="example">          Reg_Polygon r;
          real j = .5;
          for (int i = 3; i &lt;= 16; ++i)
            {
              r.set(origin, i, j);
              r.draw();
              j += .5;
            }
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF146.png"
alt="[Figure 146. Not displayed.]" 
/>
<br>
<br>
Fig. 146. 
<br>
</p>

        </blockquote></div>

<div class="defun">
&mdash; Template specializations: Reg_Polygon* <b>create_new&lt;Reg_Polygon&gt;</b> (<var>const Reg_Polygon* r</var>)<var><a name="index-create_005fnew_003cReg_005fPolygon_003e-661"></a></var><br>
&mdash; : Reg_Polygon* <b>create_new&lt;Reg_Polygon&gt;</b> (<var>const Reg_Polygon&amp; r</var>)<var><a name="index-create_005fnew_003cReg_005fPolygon_003e-662"></a></var><br>
<blockquote><p>Pseudo-constructors for dynamic allocation of <code>Reg_Polygons</code>. 
They create a <code>Reg_Polygon</code> on the free store and allocate memory for it using
<code>new(Reg_Polygon)</code>.  They return a pointer to the new <code>Reg_Polygon</code>. 
If <var>r</var> is a non-zero pointer or a reference,
the new <code>Reg_Polygon</code> will be a copy of
<var>r</var>.  If the new object is not meant to be a
copy of an existing one, &lsquo;<samp><span class="samp">0</span></samp>&rsquo; must be passed to
<code>create_new&lt;Reg_Polygon&gt;()</code> as its argument. 
See <a href="#Dynamic-Allocation-of-Shapes">Dynamic Allocation of Shapes</a>, for more information. 
</p></blockquote></div>

<div class="node">
<a name="Regular-Polygon-Operators"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Querying-Regular-Polygons">Querying Regular Polygons</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Regular-Polygon-Constructors-and-Setting-Functions">Regular Polygon Constructors and Setting Functions</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Regular-Polygon-Reference">Regular Polygon Reference</a>

</div>

<h3 class="section">28.3 Operators</h3>

<div class="defun">
&mdash; Operator: const Reg_Polygon&amp; <b>operator=</b> (<var>const Reg_Polygon&amp; p</var>)<var><a name="index-operator_003d-663"></a></var><br>
<blockquote><p>Makes the <code>Reg_Polygon</code> a copy of <var>p</var>. 
</p></blockquote></div>

<div class="node">
<a name="Querying-Regular-Polygons"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Circles-for-Regular-Polygons">Circles for Regular Polygons</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Regular-Polygon-Operators">Regular Polygon Operators</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Regular-Polygon-Reference">Regular Polygon Reference</a>

</div>

<h3 class="section">28.4 Querying</h3>

<div class="defun">
&mdash; <code>const</code> inline function: real <b>get_radius</b> (<var>void</var>)<var><a name="index-get_005fradius-664"></a></var><br>
<blockquote><p>Returns <code>radius</code>. 
</p></blockquote></div>

<div class="node">
<a name="Circles-for-Regular-Polygons"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Querying-Regular-Polygons">Querying Regular Polygons</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Regular-Polygon-Reference">Regular Polygon Reference</a>

</div>

<h3 class="section">28.5 Circles</h3>

<div class="defun">
&mdash; <code>const</code> function: Circle <b>in_circle</b> (<var>void</var>)<var><a name="index-in_005fcircle-665"></a></var><br>
<blockquote><p>Returns the enclosed <code>Circle</code> of the <code>Reg_Polygon</code>.

     <pre class="example">          Point P(0, -1, 1);
          Reg_Polygon h(P, 6, 4, 15, 12, 11.5);
          h.filldraw(black, gray);
          Circle c = h.in_circle();
          c.unfilldraw(black);
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF147.png"
alt="[Figure 147. Not displayed.]" 
/>
<br>
<br>
Fig. 147. 
<br>
</p>

     </blockquote></div>

<div class="defun">
&mdash; <code>const</code> function: Circle <b>draw_in_circle</b> ([<var>const Color&amp; ddraw_color = </var><code>*Colors::default_color</code><var>, </var>[<var>const string ddashed = "", </var>[<var>const string</var>]<var> ppen = "", </var>[<var>Picture&amp; picture = </var><code>current_picture</code>]]])<var><a name="index-draw_005fin_005fcircle-666"></a></var><br>
&mdash; <code>const</code> function: Circle <b>draw_in_circle</b> ([<var>Picture&amp; picture = </var><code>current_picture</code><var>, </var>[<var>const Color&amp; ddraw_color = </var><code>*Colors::default_color</code><var>, </var>[<var>const string ddashed = "", </var>[<var>const string</var>]<var> ppen = ""</var>]]])<var><a name="index-draw_005fin_005fcircle-667"></a></var><br>
<blockquote><p>Draws and returns the enclosed <code>Circle</code> of the <code>Reg_Polygon</code>.

     <pre class="example">          Point P(0, 1, 1);
          Reg_Polygon h(P, 7, 4, 80, 2, 5);
          h.draw(black, "evenly");
          h.draw_in_circle();
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF148.png"
alt="[Figure 148. Not displayed.]" 
/>
<br>
<br>
Fig. 148. 
<br>
</p>

        </blockquote></div>

<div class="defun">
&mdash; <code>const</code> function: Circle <b>out_circle</b> (<var>void</var>)<var><a name="index-out_005fcircle-668"></a></var><br>
<blockquote><p>Returns the surrounding <code>Circle</code> of the <code>Reg_Polygon</code>.

     <pre class="example">          Point P(0, -1, 1);
          Reg_Polygon h(P, 6, 4, 15, 12, 11.5);
          Circle c = h.out_circle();
          c.filldraw(black, gray);
          h.unfilldraw(black);
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF149.png"
alt="[Figure 149. Not displayed.]" 
/>
<br>
<br>
Fig. 149. 
<br>
</p>

        </blockquote></div>

<div class="defun">
&mdash; <code>const</code> function: Circle <b>draw_out_circle</b> ([<var>const Color&amp; ddraw_color = </var><code>*Colors::default_color</code><var>, </var>[<var>const string ddashed = "", </var>[<var>const string</var>]<var> ppen = "", </var>[<var>Picture&amp; picture = </var><code>current_picture</code>]]])<var><a name="index-draw_005fout_005fcircle-669"></a></var><br>
&mdash; <code>const</code> function: Circle <b>draw_out_circle</b> ([<var>Picture&amp; picture = </var><code>current_picture</code><var>, </var>[<var>const Color&amp; ddraw_color = </var><code>*Colors::default_color</code><var>, </var>[<var>const string ddashed = "", </var>[<var>const string</var>]<var> ppen = ""</var>]]])<var><a name="index-draw_005fout_005fcircle-670"></a></var><br>
<blockquote><p>Draws and returns the surrounding <code>Circle</code> of the <code>Reg_Polygon</code>.

     <pre class="example">          Point P(0, 1, 1);
          Reg_Polygon h(P, 7, 4, 80, 2, 5);
          h.draw(black, "evenly");
          h.draw_out_circle();
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF150.png"
alt="[Figure 150. Not displayed.]" 
/>
<br>
<br>
Fig. 150. 
<br>
</p>

        </blockquote></div>

<!-- rectang.texi -->
<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
<div class="node">
<a name="Rectangle-Reference"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Regular-Closed-Plane-Curve-Reference">Regular Closed Plane Curve Reference</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Regular-Polygon-Reference">Regular Polygon Reference</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">29 Rectangle Reference</h2>

<p><a name="index-Rectangle-671"></a>Class <code>Rectangle</code> is defined in <samp><span class="file">rectangs.web</span></samp>, and
is derived from <code>Polygon</code>, using public derivation.

   <p>As noted above in <a href="#Affine-Transformations-for-Polygons">Polygon Reference; Affine Transformations</a>, <code>class Rectangle</code>,
like <code>class Reg_Polygon</code>,
currently inherits its transformation functions and
<code>operator*=(const Transform&amp;)</code> from <code>Polygon</code>.  Consequently,
the data members of a <code>Rectangle</code>, except for <code>center</code>, are
not recalculated when it's transformed.  I plan to change this soon!  It
will also be necessary to add the function
<code>Rectangle::is_rectangular()</code>, in order to test whether a
<code>Rectangle</code> is still rectangular.

<ul class="menu">
<li><a accesskey="1" href="#Rectangle-Data-Members">Rectangle Data Members</a>
<li><a accesskey="2" href="#Rectangle-Constructors-and-Setting-Functions">Rectangle Constructors and Setting Functions</a>
<li><a accesskey="3" href="#Rectangle-Operators">Rectangle Operators</a>
<li><a accesskey="4" href="#Returning-Points-for-Rectangles">Returning Points for Rectangles</a>
<li><a accesskey="5" href="#Querying-Rectangles">Querying Rectangles</a>
<li><a accesskey="6" href="#Ellipses-for-Rectangles">Ellipses for Rectangles</a>
</ul>

<div class="node">
<a name="Rectangle-Data-Members"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Rectangle-Constructors-and-Setting-Functions">Rectangle Constructors and Setting Functions</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Rectangle-Reference">Rectangle Reference</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Rectangle-Reference">Rectangle Reference</a>

</div>

<h3 class="section">29.1 Data Members</h3>

<div class="defun">
&mdash; Private variables: real <b>axis_h</b><var><a name="index-axis_005fh-672"></a></var><br>
&mdash; : real <b>axis_v</b><var><a name="index-axis_005fv-673"></a></var><br>
<blockquote><p>The lengths of the horizontal and vertical axes, respectively, of the
<code>Rectangle</code>.  Actually,
they are merely the horizontal and vertical axes by convention, since
there are no restrictions on the orientation of an <code>Rectangle</code>.

        <p>Please note that <code>axis_h</code> and <code>axis_v</code> are currently not
recalculated, when a <code>Rectangle</code> is transformed.  I plan to do
something about this soon. 
</p></blockquote></div>

<div class="defun">
&mdash; Private variable: bool <b>on_free_store</b><var><a name="index-on_005ffree_005fstore-674"></a></var><br>
<blockquote><p><code>true</code>, if the <code>Rectangle</code> was dynamically allocated on the
free store, otherwise <code>false</code>.  Dynamic allocation of
<code>Rectangles</code> should only be
performed by <code>create_new&lt;Rectangle&gt;()</code>, which sets
<code>on_free_store</code> to <code>true</code>. 
</p></blockquote></div>

<div class="node">
<a name="Rectangle-Constructors-and-Setting-Functions"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Rectangle-Operators">Rectangle Operators</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Rectangle-Data-Members">Rectangle Data Members</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Rectangle-Reference">Rectangle Reference</a>

</div>

<h3 class="section">29.2 Constructors and Setting Functions</h3>

<div class="defun">
&mdash; Default constructor: void <b>Rectangle</b> (<var>void</var>)<var><a name="index-Rectangle-675"></a></var><br>
<blockquote><p>Creates an empty <code>Rectangle</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Constructor: void <b>Rectangle</b> (<var>const Point&amp; ccenter, const real aaxis_h, const real aaxis_v, </var>[<var>const real angle_x = 0, </var>[<var>const real angle_y = 0, </var>[<var>const real angle_z = 0</var>]]])<var><a name="index-Rectangle-676"></a></var><br>
<blockquote><p>Creates a <code>Rectangle</code> in the x-z plane, centered at the origin,
with width == <var>aaxis_h</var>
(in the + or - x
 direction),
and height == <var>aaxis_v</var>
(in the
+ or - z
 direction). 
If one or more of the arguments
<var>angle_x</var>, <var>angle_y</var>, or <var>angle_z</var> are used, it is rotated
by those amounts around the appropriate axes. 
Finally, the <code>Rectangle</code> is shifted such that
its center lies at <var>ccenter</var>.

     <pre class="example">          Point C(-1, -1, 1);
          Rectangle r(C, 3, 4, 30, 30, 30);
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF151.png"
alt="[Figure 151. Not displayed.]" 
/>
<br>
<br>
Fig. 151. 
<br>
</p>

        </blockquote></div>

<div class="defun">
&mdash; Setting function: void <b>set</b> (<var>const Point&amp; ccenter, const real aaxis_h, const real aaxis_v, </var>[<var>const real angle_x = 0, </var>[<var>const real angle_y = 0, </var>[<var>const real angle_z = 0</var>]]])<var><a name="index-set-677"></a></var><br>
<blockquote><p>Corresponds to the constructor described above. 
</p></blockquote></div>

<div class="defun">
&mdash; Constructor: void <b>Rectangle</b> (<var>const Point&amp; p0, const Point&amp; p1, const Point&amp; p2, const Point&amp; p3</var>)<var><a name="index-Rectangle-678"></a></var><br>
<blockquote><p>Creates <code>Rectangle</code> using four <code>Point</code>
arguments.  The order of the arguments must correspond with a path
around the <code>Rectangle</code>.

        <p>This function does not currently check that the arguments yield a valid
<code>Rectangle</code>, therefore all code using it must ensure that they do. 
<!-- !! TO DO:  Change this function, so that it checks! -->
</p></blockquote></div>

<div class="defun">
&mdash; Setting function: void <b>set</b> (<var>const Point&amp; pt0, const Point&amp; pt1, const Point&amp; pt2, const Point&amp; pt3</var>)<var><a name="index-set-679"></a></var><br>
<blockquote><p>Corresponds to the constructor above. 
</p></blockquote></div>

<div class="defun">
&mdash; Template specializations: Rectangle* <b>create_new&lt;Rectangle&gt;</b> (<var>const Rectangle* r</var>)<var><a name="index-create_005fnew_003cRectangle_003e-680"></a></var><br>
&mdash; : Rectangle* <b>create_new&lt;Rectangle&gt;</b> (<var>const Rectangle&amp; r</var>)<var><a name="index-create_005fnew_003cRectangle_003e-681"></a></var><br>
<blockquote><p>Pseudo-constructors for dynamic allocation of <code>Rectangles</code>. 
They create a <code>Rectangle</code> on the free store and allocate memory for it using
<code>new(Rectangle)</code>.  They return a pointer to the new <code>Rectangle</code>.

        <p>If <var>r</var> is a non-zero pointer or a reference,
the new <code>Rectangle</code> will be a copy of
<var>r</var>.  If the new object is not meant to be a
copy of an existing one, &lsquo;<samp><span class="samp">0</span></samp>&rsquo; must be passed to
<code>create_new&lt;Rectangle&gt;()</code> as its argument. 
See <a href="#Dynamic-Allocation-of-Shapes">Dynamic Allocation of Shapes</a>, for more information. 
</p></blockquote></div>

<div class="node">
<a name="Rectangle-Operators"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Returning-Points-for-Rectangles">Returning Points for Rectangles</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Rectangle-Constructors-and-Setting-Functions">Rectangle Constructors and Setting Functions</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Rectangle-Reference">Rectangle Reference</a>

</div>

<h3 class="section">29.3 Operators</h3>

<div class="defun">
&mdash; Assignment Operator: const Rectangle&amp; <b>operator=</b> (<var>const Rectangle&amp; r</var>)<var><a name="index-operator_003d-682"></a></var><br>
<blockquote><p>Makes the <code>Rectangle</code> a copy of <var>r</var>. 
</p></blockquote></div>

<div class="node">
<a name="Returning-Points-for-Rectangles"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Querying-Rectangles">Querying Rectangles</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Rectangle-Operators">Rectangle Operators</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Rectangle-Reference">Rectangle Reference</a>

</div>

<h3 class="section">29.4 Returning Points</h3>

<div class="defun">
&mdash; Function: Point <b>corner</b> (<var>unsigned short c</var>)<var><a name="index-corner-683"></a></var><br>
<blockquote><p>Returns the corner <code>Point</code> indicated by the argument <var>c</var>, which must be
between 0 and 3. 
<!-- !! TO DO:  Add illustration. -->
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> function: Point <b>mid_point</b> (<var>unsigned short m</var>)<var><a name="index-mid_005fpoint-684"></a></var><br>
<blockquote><p>Returns the mid-point of one of the sides.  The argument <var>c</var> must be
between 0 and 3. 
<!-- !! TO DO:  Add illustration. -->
</p></blockquote></div>

<div class="node">
<a name="Querying-Rectangles"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Ellipses-for-Rectangles">Ellipses for Rectangles</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Returning-Points-for-Rectangles">Returning Points for Rectangles</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Rectangle-Reference">Rectangle Reference</a>

</div>

<h3 class="section">29.5 Querying</h3>

<div class="defun">
&mdash; <code>const</code> functions: real <b>get_axis_h</b> (<var>void</var>)<var><a name="index-get_005faxis_005fh-685"></a></var><br>
&mdash; : real <b>get_axis_v</b> (<var>void</var>)<var><a name="index-get_005faxis_005fv-686"></a></var><br>
<blockquote><p>These functions return <code>axis_h</code> and <code>axis_v</code>, respectively.

        <p>Please note, that <code>axis_h</code> and <code>axis_v</code> are currently not
recalculated, when a <code>Rectangle</code> is transformed.  I plan to do
something about this soon. 
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> function: bool <b>is_rectangular</b> (<var>void</var>)<var><a name="index-is_005frectangular-687"></a></var><br>
<blockquote><p>Returns <code>true</code>, if the <code>Rectangle</code> is rectangular, otherwise
<code>false</code>.  Transformations, such as shearing, can cause
<code>Rectangles</code> to become non-rectangular. 
<!-- !! TO DO:  Add example and illustration. -->
</p></blockquote></div>

<div class="node">
<a name="Ellipses-for-Rectangles"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Querying-Rectangles">Querying Rectangles</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Rectangle-Reference">Rectangle Reference</a>

</div>

<h3 class="section">29.6 Ellipses</h3>

<div class="defun">
&mdash; <code>const</code> function: Ellipse <b>out_ellipse</b> (<code>void</code>)<var><a name="index-out_005fellipse-688"></a></var><br>
<blockquote><p>Returns the smallest <code>Ellipse</code> that surrounds the <code>Rectangle</code>.

     <pre class="example">          Point P(-1, -1, 3);
          Rectangle r(P, 3, 4, 60, 30, 15);
          Ellipse e = r.out_ellipse();
          e.filldraw(black, gray);
          r.unfilldraw(black);
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF152.png"
alt="[Figure 152. Not displayed.]" 
/>
<br>
<br>
Fig. 152. 
<br>
</p>

     </blockquote></div>

<div class="defun">
&mdash; <code>const</code> function: Ellipse <b>in_ellipse</b> (<code>void</code>)<var><a name="index-in_005fellipse-689"></a></var><br>
<blockquote><p>Returns the <code>Ellipse</code> enclosed by the <code>Rectangle</code>.

     <pre class="example">          Point P(-1, -1, 3);
          Rectangle r(P, 3, 4, 60, 30, 15);
          Ellipse e = r.in_ellipse();
          r.filldraw(black, gray);
          e.unfilldraw(black);
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF153.png"
alt="[Figure 153. Not displayed.]" 
/>
<br>
<br>
Fig. 153. 
<br>
</p>

        </blockquote></div>

<div class="defun">
&mdash; <code>const</code> function: Ellipse <b>draw_out_ellipse</b> ([<var>const Color&amp; ddraw_color = </var><code>*Colors::default_color</code><var>, </var>[<var>string ddashed = "", </var>[<var>string ppen = "", </var>[<var>Picture&amp; picture = </var><code>current_picture</code>]]]])<var><a name="index-draw_005fout_005fellipse-690"></a></var><br>
<blockquote><p>Draws the smallest <code>Ellipse</code> that surrounds the <code>Rectangle</code>. 
The arguments are like those of <code>Path::draw()</code>
(see <a href="#Drawing-and-Filling-Paths">Path Reference; Drawing and Filling</a>). 
The return value is the surrounding <code>Ellipse</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> function: Ellipse <b>draw_in_ellipse</b> ([<var>const Color&amp; ddraw_color = </var><code>*Colors::default_color</code><var>, </var>[<var>string ddashed = "", </var>[<var>string ppen = "", </var>[<var>Picture&amp; picture = </var><code>current_picture</code>]]]])<var><a name="index-draw_005fin_005fellipse-691"></a></var><br>
<blockquote><p>Draws the <code>Ellipse</code> enclosed by the <code>Rectangle</code>. 
The arguments are like those of <code>Path::draw()</code>
(see <a href="#Drawing-and-Filling-Paths">Path Reference; Drawing and Filling</a>). 
The return value is the enclosed <code>Ellipse</code>. 
</p></blockquote></div>

<!-- rcpcurve.texi -->
<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
<div class="node">
<a name="Regular-Closed-Plane-Curve-Reference"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Ellipse-Reference">Ellipse Reference</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Rectangle-Reference">Rectangle Reference</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">30 Regular Closed Plane Curve Reference</h2>

<p><a name="index-Reg_005fCl_005fPlane_005fCurve-692"></a>Class <code>Reg_Cl_Plane_Curve</code> is defined in <samp><span class="file">curves.web</span></samp>. 
It is derived from <code>Path</code> using <code>public</code> derivation.

   <p><code>Reg_Cl_Plane_Curve</code> is not called
&ldquo;<code>Regular_Closed_Plane_Curve</code>&rdquo; because the longer name
causes too many &ldquo;Overfull boxes&rdquo;<a rel="footnote" href="#fn-44" name="fnd-44"><sup>44</sup></a>
in the CWEAVE output of the program code. 
See <a href="#CWEB-Documentation">CWEB Documentation</a>.

   <p><code>Reg_Cl_Plane_Curve</code> is meant to be used as a base class;  no
objects should be declared of type <code>Reg_Cl_Plane_Curve</code>. 
Currently, <code>class Ellipses</code> is derived from
<code>Reg_Cl_Plane_Curve</code> and <code>class Circle</code> is derived from
<code>Ellipse</code>.

   <p>At present, I have no fixed definition of what constitutes
&ldquo;regularity&rdquo; as far as <code>Reg_Cl_Plane_Curves</code> are concerned. 
Ellipses and circles are &ldquo;regular&rdquo; in the sense that they have axes of
symmetry.  There must be an equation for a <code>Reg_Cl_Plane_Curve</code>,
such as
x^2 + y^2 = r^2
for a circle. 
A derived class should have a <code>solve()</code> function that uses this
equation.  <code>Reg_Cl_Plane_Curve::intersection_points()</code> in turn uses
<code>solve()</code> to find the intersection points of a line with the
<code>Reg_Cl_Plane_Curve</code>.  This way, the derived classes don't need
their own functions for finding their intersections with a line. 
However, such functions can be added, if desired.

   <p>It is assumed that classes derived from <code>Reg_Cl_Plane_Curve</code> are
fillable, which implies that they must be closed <code>Paths</code>. 
<code>Reg_Cl_Plane_Curves</code> inherit their drawing and filling functions
from <code>Path</code>.

   <p>The constructors and setting functions of classes derived from
<code>Reg_Cl_Plane_Curve</code> must ensure that the resulting geometric
figures are planar, convex, and that the number of <code>Points</code> they contain is
a multiple of 4.  The latter assumption is of importance in
<code>intersection_points()</code>, <code>segment()</code>, <code>half()</code>, and
<code>quarter()</code>. 
See <a href="#Regular-Closed-Plane-Curve-Intersections">Regular Closed Plane Curve Reference; Intersections</a>, and
<a href="#Regular-Closed-Plane-Curve-Segments">Regular Closed Plane Curve Reference; Segments</a>.

<ul class="menu">
<li><a accesskey="1" href="#Regular-Closed-Plane-Curve-Data-Members">Regular Closed Plane Curve Data Members</a>
<li><a accesskey="2" href="#Querying-Regular-Closed-Plane-Curves">Querying Regular Closed Plane Curves</a>
<li><a accesskey="3" href="#Regular-Closed-Plane-Curve-Intersections">Regular Closed Plane Curve Intersections</a>
<li><a accesskey="4" href="#Regular-Closed-Plane-Curve-Segments">Regular Closed Plane Curve Segments</a>
</ul>

<div class="node">
<a name="Regular-Closed-Plane-Curve-Data-Members"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Querying-Regular-Closed-Plane-Curves">Querying Regular Closed Plane Curves</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Regular-Closed-Plane-Curve-Reference">Regular Closed Plane Curve Reference</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Regular-Closed-Plane-Curve-Reference">Regular Closed Plane Curve Reference</a>

</div>

<h3 class="section">30.1 Data Members</h3>

<div class="defun">
&mdash; Protected variable: Point <b>center</b><var><a name="index-center-693"></a></var><br>
<blockquote><p>The center of the <code>Reg_Cl_Plane_Curve</code>, if it has one. 
</p></blockquote></div>

<div class="defun">
&mdash; Protected variable: unsigned short <b>number_of_points</b><var><a name="index-number_005fof_005fpoints-694"></a></var><br>
<blockquote><p>The number of <code>Points</code> on <code>points</code> in a
<code>Reg_Cl_Plane_Curve</code>. 
</p></blockquote></div>

<div class="node">
<a name="Querying-Regular-Closed-Plane-Curves"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Regular-Closed-Plane-Curve-Intersections">Regular Closed Plane Curve Intersections</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Regular-Closed-Plane-Curve-Data-Members">Regular Closed Plane Curve Data Members</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Regular-Closed-Plane-Curve-Reference">Regular Closed Plane Curve Reference</a>

</div>

<h3 class="section">30.2 Querying</h3>

<div class="defun">
&mdash; <code>const</code> inline virtual functions: bool <b>is_quadratic</b> (<var>void</var>)<var><a name="index-is_005fquadratic-695"></a></var><br>
&mdash; : bool <b>is_cubic</b> (<var>void</var>)<var><a name="index-is_005fcubic-696"></a></var><br>
&mdash; : bool <b>is_quartic</b> (<var>void</var>)<var><a name="index-is_005fquartic-697"></a></var><br>
<blockquote><p>These functions all return <code>false</code>.  They are intended to be
overloaded by member functions of derived classes. 
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> inline virtual function: real_triple <b>get_coefficients</b> (<var>real Slope, real v_intercept</var>)<var><a name="index-get_005fcoefficients-698"></a></var><br>
<blockquote><p>Returns a <code>real_triple</code> with all three values ==
<code>INVALID_REAL</code>.  Intended to be overloaded by member functions of
derived classes. 
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> inline virtual function: pair&lt;real, real&gt; <b>solve</b> (<var>char axis_unknown, real known</var>)<var><a name="index-solve-699"></a></var><br>
<blockquote><p>Returns a <code>pair&lt;real, real&gt;</code> with <code>first</code> =
<code>second</code> = <code>INVALID_REAL</code>. 
Intended to be overloaded by member functions of
derived classes. 
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> virtual function: signed short <b>location</b> (<var>Point ref_pt, Point p</var>)<var><a name="index-location-700"></a></var><br>
<blockquote><p>Returns a <code>signed short</code> indicating the location of <var>p</var> with
respect to the <code>Reg_Cl_Plane_Curve</code>, which must be planar. 
The <code>Reg_Cl_Plane_Curve</code> constructors should ensure that
<code>Reg_Cl_Plane_Curves</code> are, but there is no guarantee that they will
not have been manipulated into a non-planar state, by shearing, for
example.

        <p>The argument <var>ref_pt</var> is used within the function for
shifting a copy of the <code>Reg_Cl_Plane_Curve</code> to a convenient
position.  It need not be the |center| of the <code>Reg_Cl_Plane_Curve</code>,
however, classes derived from <code>Reg_Cl_Plane_Curve</code> will probably
have their own versions of <code>location()</code>, which will pass <code>center</code>
as the <var>ref_pt</var> argument to this function. 
<code>Reg_Cl_Plane_Curves</code> need not have a meaningful |center|.

        <p><code>location()</code> returns the following values:
          <dl>
<dt>-1<dd><var>p</var> and <code>*this</code> are coplanar, and <var>p</var> lies
outside the perimeter of <code>*this</code>.

          <br><dt>0<dd><var>p</var> and <code>*this</code> are coplanar, and <var>p</var> lies on the perimeter
of <code>*this</code>.

          <br><dt>1<dd><var>p</var> and <code>*this</code> are coplanar, and <var>p</var> lies inside
the perimeter of <code>*this</code>.

          <br><dt>-2<dd><var>p</var> and <code>*this</code> are not coplanar.

          <br><dt>-3<dd>Something has gone terribly wrong.

          <br><dt>-4<dd>The normal to <code>*this</code> has 0 magnitude, i.e., the
|Points| on <code>*this</code> are colinear.

          <br><dt>-5<dd>An error occurred in putting <code>*this</code> in one of
the major planes. 
</dl>
        </p></blockquote></div>

<div class="defun">
&mdash; Virtual function: Point <b>angle_point</b> (<var>real angle</var>)<var><a name="index-angle_005fpoint-701"></a></var><br>
<blockquote><p>Returns <code>INVALID_POINT</code>.  Intended to be overloaded by member functions of
derived classes. 
</p></blockquote></div>

<div class="node">
<a name="Regular-Closed-Plane-Curve-Intersections"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Regular-Closed-Plane-Curve-Segments">Regular Closed Plane Curve Segments</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Querying-Regular-Closed-Plane-Curves">Querying Regular Closed Plane Curves</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Regular-Closed-Plane-Curve-Reference">Regular Closed Plane Curve Reference</a>

</div>

<h3 class="section">30.3 Intersections</h3>

<div class="defun">
&mdash; <code>const</code> function: bool_point_pair <b>intersection_points</b> (<var>Point ref_pt, Point p0, Point p1</var>)<var><a name="index-intersection_005fpoints-702"></a></var><br>
&mdash; <code>const</code> function: bool_point_pair <b>intersection_points</b> (<var>const Point&amp; ref_pt, const Path&amp; p</var>)<var><a name="index-intersection_005fpoints-703"></a></var><br>
<blockquote><p>The version of this function taking <code>Point</code> arguments finds the
intersection points, if any, of the
<code>Reg_Cl_Plane_Curve</code> and the line
p
that passes through the <code>Points</code>
p_0
and
p_1. 
In the other version, the <code>Path</code> argument must be a linear
<code>Path</code>, and its first and last <code>Points</code> are passed to the
first version of this function as <var>p0</var> and <var>p1</var>, respectively.

        <p>Let
C
be the <code>Reg_Cl_Plane_Curve</code>. 
C and p can intersect at at most two intersection points
i_1 and i_2. 
Let <code>bpp</code> be the return
value of this function. 
The intersection points need not be on the <em>line segment</em>
between <code>pt0</code> and <code>pt1</code>. 
<code>bpp.first.pt</code> will be set
to the first intersection point if it exists, or <code>INVALID_POINT</code> if
it doesn't.  If the first intersection point exists and is on the line
segment between <code>pt0</code> and <code>pt1</code>

        <p>In [next figure]
, the line AB
 is normal to the
<code>Ellipse</code> e, or, to put it another way, AB
 is
perpendicular to the plane of e.  The intersection point i_0 lies
within the perimeter of e.

        <p>The line DE
 is skew to the plane of e, and
intersects e at i_1, on the perimeter of e.

     <pre class="example">          Point p0(2, 2, 3);
          Ellipse e(p0, 3, 4, 30, -60, -5.2);
          Point p1 = p0.mediate(e.get_point(11), .5);
          Point A = e.get_normal();
          A *= 2.5;
          A.shift(p1);
          Point B = A.mediate(p1, 2);
          bool_point_pair bpp = e.intersection_points(A, B);
          Point C(0, 2, 0);
          Point D(0, -3.5, 0);
          C *= D.rotate(2, 0, -5);
          C *= D.shift(e.get_point(4));
          bpp = e.intersection_points(C, D);
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF154.png"
alt="[Figure 154. Not displayed.]" 
/>
<br>
<br>
Fig. 154. 
<br>
</p>

        <p>In [next figure]
, q and e are coplanar.  In this case,
only the intersections of q with the perimeter of e are returned by
<code>intersection_points()</code>.

     <pre class="example">          A = p0.mediate(e.get_point(3), 1.5);
          B = p0.mediate(e.get_point(11), 1.5);
          Path q(A, B);
          bpp = e.intersection_points(q);
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF155.png"
alt="[Figure 155. Not displayed.]" 
/>
<br>
<br>
Fig. 155. 
<br>
</p>

     </blockquote></div>

<div class="node">
<a name="Regular-Closed-Plane-Curve-Segments"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Regular-Closed-Plane-Curve-Intersections">Regular Closed Plane Curve Intersections</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Regular-Closed-Plane-Curve-Reference">Regular Closed Plane Curve Reference</a>

</div>

<h3 class="section">30.4 Segments</h3>

<div class="defun">
&mdash; <code>const</code> function: Path <b>segment</b> (<var>unsigned int factor, </var>[<var>real angle = 0, </var>[<var>bool closed = </var><code>true</code>]])<var><a name="index-segment-704"></a></var><br>
<blockquote><p>Returns a <code>Path</code> representing a segment of the <code>Reg_Cl_Plane_Curve</code>. 
<var>factor</var> must be
&gt;1 and &lt;= <code>number_of_points</code>.  If it is not, an error message is
issued and an empty <code>Path</code> is returned.

        <p>If <var>angle</var> is non-zero, the segment <code>Path</code> is rotated by
<var>angle</var> about a line from <code>center</code> in the direction of the
normal to the plane of the <code>Reg_Cl_Plane_Curve</code>. 
Please note, that a <code>Reg_Cl_Plane_Curve</code> must have a meaningful
<code>center</code>, in order for rotation to work. 
If the absolute value of
<var>angle</var> &gt;360, a warning is issued, and
<code>fmod(</code><var>angle</var><code>, 360)</code> is used.

        <p>If <var>closed</var> is <code>true</code>, the <code>Path</code> will be a cycle, with
the ends of the curved segment joined using the connector &lsquo;<samp><span class="samp">--</span></samp>&rsquo;. 
The curved segment is joined to the line using &lsquo;<samp><span class="samp">&amp;</span></samp>&rsquo; on each side.

     <pre class="example">          Circle c(origin, 4, 30, 30, 30);
          Path p = c.segment(3, 130);
          p.show("p:");
          -| p:
          points.size() == 8
          connectors.size() == 8(-0.00662541, -0.888379, -1.79185) ..
          (0.741088, -0.673392, -1.73128) ..
          (1.37598, -0.355887, -1.40714) ..
          (1.80139, 0.0157987, -0.868767) ..
          (1.95255, 0.385079, -0.198137) .. (1.80646, 0.695735, 0.502658) &amp;
          (1.80646, 0.695735, 0.502658) --
          (-0.00662541, -0.888379, -1.79185) &amp; cycle;
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF156.png"
alt="[Figure 156. Not displayed.]" 
/>
<br>
<br>
Fig. 156. 
<br>
</p>

     </blockquote></div>

<div class="defun">
&mdash; <code>const</code> inline function: Path <b>half</b> ([<var>real angle = 0, </var>[<var>bool closed = true</var>]])<var><a name="index-half-705"></a></var><br>
<blockquote><p>Returns a <code>Path</code> using half of the <code>Points</code> on the
<code>Reg_Cl_Plane_Curve</code>. 
The effect of the arguments <var>angle</var> and <var>closed</var> is similar to
that in <code>segment()</code>, above.

     <pre class="example">          Ellipse e(origin, 3, 5, 20, 15, 12.5);
          Path p = e.half(0, false);
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF157.png"
alt="[Figure 157. Not displayed.]" 
/>
<br>
<br>
Fig. 157. 
<br>
</p>

        </blockquote></div>

<div class="defun">
&mdash; <code>const</code> inline function: Path <b>quarter</b> ([<var>real angle = 0, </var>[<var>bool closed = </var><code>true</code>]])<var><a name="index-quarter-706"></a></var><br>
<blockquote><p>Returns a <code>Path</code> using a quarter of the <code>Points</code> on the
<code>Reg_Cl_Plane_Curve</code>. 
The effect of the arguments <var>angle</var> and <var>closed</var> is similar to
that in <code>segment()</code>, above.

     <pre class="example">          Ellipse e(origin, 3, 5, 60, 5, 2.5);
          Path p = e.quarter(180, false);
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF158.png"
alt="[Figure 158. Not displayed.]" 
/>
<br>
<br>
Fig. 158. 
<br>
</p>

        </blockquote></div>

<!-- ellipse.texi -->
<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
<div class="node">
<a name="Ellipse-Reference"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Circle-Reference">Circle Reference</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Regular-Closed-Plane-Curve-Reference">Regular Closed Plane Curve Reference</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">31 Ellipse Reference</h2>

<p><a name="index-Ellipse-707"></a>Class <code>Ellipse</code> is defined in <samp><span class="file">ellipses.web</span></samp>. 
It is derived from <code>Reg_Cl_Plane_Curve</code> using public derivation.

<ul class="menu">
<li><a accesskey="1" href="#Ellipse-Data-Members">Ellipse Data Members</a>
<li><a accesskey="2" href="#Ellipse-Constructors-and-Setting-Functions">Ellipse Constructors and Setting Functions</a>
<li><a accesskey="3" href="#Performing-Transformations-on-Ellipses">Performing Transformations on Ellipses</a>
<li><a accesskey="4" href="#Ellipse-Operators">Ellipse Operators</a>
<li><a accesskey="5" href="#Labeling-Ellipses">Labeling Ellipses</a>
<li><a accesskey="6" href="#Affine-Transformations-for-Ellipses">Affine Transformations for Ellipses</a>
<li><a accesskey="7" href="#Querying-Ellipses">Querying Ellipses</a>
<li><a accesskey="8" href="#Returning-Elements-and-Information-for-Ellipses">Returning Elements and Information for Ellipses</a>
<li><a accesskey="9" href="#Ellipse-Intersections">Ellipse Intersections</a>
<li><a href="#Solving-Ellipses">Solving Ellipses</a>
<li><a href="#Rectangles-for-Ellipses">Rectangles for Ellipses</a>
</ul>

<div class="node">
<a name="Ellipse-Data-Members"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Ellipse-Constructors-and-Setting-Functions">Ellipse Constructors and Setting Functions</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Ellipse-Reference">Ellipse Reference</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Ellipse-Reference">Ellipse Reference</a>

</div>

<h3 class="section">31.1 Data Members</h3>

<div class="defun">
&mdash; Protected variables: Point <b>focus0</b><var><a name="index-focus0-708"></a></var><br>
&mdash; : Point <b>focus1</b><var><a name="index-focus1-709"></a></var><br>
<blockquote><p>The foci of the <code>Ellipse</code>.  They are located on the major axis of
the <code>Ellipse</code> at a distance of <code>linear_eccentricity</code> from
<code>center</code>, on opposite sides of the minor axis. 
</p></blockquote></div>

<div class="defun">
&mdash; Protected variable: real <b>linear_eccentricity</b><var><a name="index-linear_005feccentricity-710"></a></var><br>
<blockquote><p>The linear eccentricity of the <code>Ellipse</code> e, such that
e = \sqrta^2 - b^2,
where a and b are half the lengths of the major
and minor axes, respectively.  Let h stand for <code>axis_h</code> and v
for <code>axis_v</code>.  If h&gt;v, then a = h/2 and b = v/2.  If v&gt;h,
then a =v/2 and b = h/2.  If h = v, then the <code>Ellipse</code> is
circular (but not an object of type  <code>Circle</code>!), and a = b = v/2 = h/2.

        <p>The linear eccentricity is the distance along the major axis of the
<code>Ellipse</code> from <code>center</code> to <code>focus0</code> and <code>focus1</code>. 
<!-- !! TO DO: Add example. -->
</p></blockquote></div>

<div class="defun">
&mdash; Protected variable: real <b>numerical_eccentricity</b><var><a name="index-numerical_005feccentricity-711"></a></var><br>
<blockquote><p>The numerical eccentricity \epsilon of the <code>Ellipse</code>,
such
that \epsilon = e/a &lt; 1, where e is the linear eccentricity of the
<code>Ellipse</code>, and a is half the length of the major axis of the
<code>Ellipse</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Protected variables: real <b>axis_h</b><var><a name="index-axis_005fh-712"></a></var><br>
&mdash; : real <b>axis_v</b><var><a name="index-axis_005fv-713"></a></var><br>
<blockquote><p>The horizontal and vertical axes, respectively, of the <code>Ellipse</code>.

        <p>Actually, they are only or vertical
horizontal by convention, since there are no restrictions on the
orientation of an <code>Ellipse</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Protected static variable: unsigned short <b>DEFAULT_NUMBER_OF_POINTS</b><var><a name="index-DEFAULT_005fNUMBER_005fOF_005fPOINTS-714"></a></var><br>
<blockquote><p>The number of <code>Points</code> on an <code>Ellipse</code>, unless another number
is specified when an <code>Ellipse</code> constructor is invoked. 
</p></blockquote></div>

<div class="node">
<a name="Ellipse-Constructors-and-Setting-Functions"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Performing-Transformations-on-Ellipses">Performing Transformations on Ellipses</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Ellipse-Data-Members">Ellipse Data Members</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Ellipse-Reference">Ellipse Reference</a>

</div>

<h3 class="section">31.2 Constructors and Setting Functions</h3>

<div class="defun">
&mdash; Default constructor: void <b>Ellipse</b> (<var>void</var>)<var><a name="index-Ellipse-715"></a></var><br>
<blockquote><p>Creates an empty <code>Ellipse</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Constructor: void <b>Ellipse</b> (<var>const Point&amp; ccenter, const real aaxis_h, const real aaxis_v, </var>[<var>const real angle_x = 0, </var>[<var>const real angle_y = 0, </var>[<var>const real angle_z = 0, </var>[<var>const unsigned short nnumber_of_points = DEFAULT_NUMBER_OF_POINTS</var>]]]])<var><a name="index-Ellipse-716"></a></var><br>
<blockquote><p>Creates an <code>Ellipse</code> in the x-z plane, centered at the origin, with
its horizontal axis
== <var>aaxis_h</var> and its vertical axis == <var>aaxis_v</var>.  If
any of the arguments <var>angle_x</var>, <var>angle_y</var>, or <var>angle_z</var> is
non-zero, the <code>Ellipse</code> is rotated about the x, y, and z-axis in
that order, by the amounts indicated by the corresponding arguments. 
Finally, the <code>Ellipse</code> is shifted such that its
center comes to lie at <var>ccenter</var>.

     <pre class="example">          Ellipse e(origin, 6, 4);
          e.draw();
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF159.png"
alt="[Figure 159. Not displayed.]" 
/>
<br>
<br>
Fig. 159. 
<br>
</p>

     <pre class="example">          Point P(1, 1, 1);
          Ellipse e(P, 6, 4, 15, 12, 11);
          e.draw();
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF160.png"
alt="[Figure 160. Not displayed.]" 
/>
<br>
<br>
Fig. 160. 
<br>
</p>

        </blockquote></div>

<div class="defun">
&mdash; Setting function: void <b>set</b> (<var>const Point&amp; ccenter, const real aaxis_h, const real aaxis_v, </var>[<var>const real angle_x = 0, </var>[<var>const real angle_y = 0, </var>[<var>const real angle_z = 0, </var>[<var>const unsigned short nnumber_of_points = DEFAULT_NUMBER_OF_POINTS</var>]]]])<var><a name="index-set-717"></a></var><br>
<blockquote><p>Corresponds to the constructor above. 
</p></blockquote></div>

<div class="defun">
&mdash; Template specializations: Ellipse* <b>create_new&lt;Ellipse&gt;</b> (<var>const Ellipse* e</var>)<var><a name="index-create_005fnew_003cEllipse_003e-718"></a></var><br>
&mdash; : Ellipse* <b>create_new&lt;Ellipse&gt;</b> (<var>const Ellipse&amp; e</var>)<var><a name="index-create_005fnew_003cEllipse_003e-719"></a></var><br>
<blockquote><p>Pseudo-constructors for dynamic allocation of <code>Ellipses</code>. 
They create a <code>Ellipse</code> on the free store and allocate memory for it using
<code>new(Ellipse)</code>.  They return a pointer to the new <code>Ellipse</code>.

        <p>If <var>e</var> is a non-zero pointer or a reference,
the new <code>Ellipse</code> will be a copy of
<var>e</var>.  If the new object is not meant to be a
copy of an existing one, &lsquo;<samp><span class="samp">0</span></samp>&rsquo; must be passed to
<code>create_new&lt;Ellipse&gt;()</code> as its argument. 
See <a href="#Dynamic-Allocation-of-Shapes">Dynamic Allocation of Shapes</a>, for more information. 
</p></blockquote></div>

<div class="node">
<a name="Performing-Transformations-on-Ellipses"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Ellipse-Operators">Ellipse Operators</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Ellipse-Constructors-and-Setting-Functions">Ellipse Constructors and Setting Functions</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Ellipse-Reference">Ellipse Reference</a>

</div>

<h3 class="section">31.3 Performing Transformations</h3>

<div class="defun">
&mdash; Virtual function: Transform <b>do_transform</b> (<var>const Transform&amp; t, </var>[<var>bool check = </var><code>false</code>])<var><a name="index-do_005ftransform-720"></a></var><br>
<blockquote><p>Performs a transformation on an <code>Ellipse</code>.  The <code>Points</code> on
the <code>Ellipse</code> are multiplied by <var>t</var>. 
Then, if <var>check</var> is <code>true</code>,
<code>is_elliptical()</code> is called on the <code>Ellipse</code>. 
If the transformation has caused it to
become non-elliptical, <code>axis_h</code> and <code>axis_v</code> are set to
<code>INVALID_REAL</code>, and a warning is issued to <code>stderr</code>. 
<code>center</code>, <code>focus0</code>, and <code>focus1</code> are not set to
<code>INVALID_POINT</code>.  They may may no longer really be
the center and foci of the (non-elliptical) <code>Ellipse</code>, but they may
have some use for the programmer and/or user.

        <p>If <var>check</var> is <code>true</code>, and the transformation does not cause
<code>*this</code> to become non-elliptical,
<code>axis_h</code>, <code>axis_v</code>, <code>linear_eccentricity</code>,
<code>numerical_eccentricity</code>, <code>focus0</code>, and
<code>focus1</code> are recalculated.

     </blockquote></div>

<div class="node">
<a name="Ellipse-Operators"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Labeling-Ellipses">Labeling Ellipses</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Performing-Transformations-on-Ellipses">Performing Transformations on Ellipses</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Ellipse-Reference">Ellipse Reference</a>

</div>

<h3 class="section">31.4 Operators</h3>

<div class="defun">
&mdash; Assignment operator: Ellipse&amp; <b>operator=</b> (<var>const Ellipse&amp; e</var>)<var><a name="index-operator_003d-721"></a></var><br>
<blockquote><p>Makes the <code>Ellipse</code> a copy of <var>e</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; Virtual function: Transform <b>operator*=</b> (<var>const Transform&amp; t</var>)<var><a name="index-operator_002a_003d-722"></a></var><br>
<blockquote><p>Calls <code>do_transform(t, true)</code>, and returns the latter's return
value. 
See <a href="#Performing-Transformations-on-Ellipses">Ellipse Reference; Performing Transformations</a>. 
</p></blockquote></div>

<div class="node">
<a name="Labeling-Ellipses"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Affine-Transformations-for-Ellipses">Affine Transformations for Ellipses</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Ellipse-Operators">Ellipse Operators</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Ellipse-Reference">Ellipse Reference</a>

</div>

<h3 class="section">31.5 Labeling</h3>

<div class="defun">
&mdash; <code>const</code> function: void <b>label</b> ([<var>const string pos = "top", </var>[<var>const bool dot = </var><code>false</code><var>, </var>[<var>Picture&amp; picture = </var><code>current_picture</code>]]])<var><a name="index-label-723"></a></var><br>
<blockquote><p>Labels the <code>Points</code> on <code>points</code>, using lowercase letters. 
<var>pos</var> is used to position all of the labels.  It is currently not
possible to have different positions for the labels.

     <pre class="example">          Ellipse e(origin, 6, 4);
          e.draw();
          e.label();
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF161.png"
alt="[Figure 161. Not displayed.]" 
/>
<br>
<br>
Fig. 161. 
<br>
</p>

     </blockquote></div>

<div class="defun">
&mdash; Inline <code>const</code> function: void <b>dotlabel</b> ([<var>string pos = "top", </var>[<var>Picture&amp; picture = </var><code>current_picture</code>]])<var><a name="index-dotlabel-724"></a></var><br>
<blockquote><p>Like <code>label()</code>, except that the <code>Points</code> are dotted.

     <pre class="example">          Ellipse e(origin, 6, 4);
          e.draw();
          e.dotlabel();
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF162.png"
alt="[Figure 162. Not displayed.]" 
/>
<br>
<br>
Fig. 162. 
<br>
</p>

        </blockquote></div>

<div class="node">
<a name="Affine-Transformations-for-Ellipses"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Querying-Ellipses">Querying Ellipses</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Labeling-Ellipses">Labeling Ellipses</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Ellipse-Reference">Ellipse Reference</a>

</div>

<h3 class="section">31.6 Affine Transformations</h3>

<div class="defun">
&mdash; Virtual function: Transform <b>rotate</b> (<var>const real x, </var>[<var>const real y = 0, </var>[<var>const real z = 0</var>]])<var><a name="index-rotate-725"></a></var><br>
&mdash; Virtual function: Transform <b>rotate</b> (<var>const Point&amp; p0, const Point&amp; p1, </var>[<var>const real angle = 180</var>])<var><a name="index-rotate-726"></a></var><br>
&mdash; Virtual function: Transform <b>rotate</b> (<var>const Path&amp; p, </var>[<var>const real angle = 180</var>])<var><a name="index-rotate-727"></a></var><br>
&mdash; Virtual function: Transform <b>scale</b> (<var>real x, </var>[<var>real y = 1, </var>[<var>real z = 1</var>]])<var><a name="index-scale-728"></a></var><br>
&mdash; Virtual function: Transform <b>shear</b> (<var>real xy, </var>[<var>real xz = 0, </var>[<var>real yx = 0, </var>[<var>real yz = 0, </var>[<var>real zx = 0, </var>[<var>real zy = 0</var>]]]]])<var><a name="index-shear-729"></a></var><br>
&mdash; Virtual function: Transform <b>shift</b> (<var>real x, </var>[<var>real y = 0, </var>[<var>real z = 0</var>]])<var><a name="index-shift-730"></a></var><br>
&mdash; Virtual function: Transform <b>shift</b> (<var>const Point&amp; p</var>)<var><a name="index-shift-731"></a></var><br>
&mdash; Virtual function: void <b>shift_times</b> (<var>real x, </var>[<var>real y = 1, </var>[<var>real z = 1</var>]])<var><a name="index-shift_005ftimes-732"></a></var><br>
&mdash; Virtual function: void <b>shift_times</b> (<var>const Point&amp; p</var>)<var><a name="index-shift_005ftimes-733"></a></var><br>
<blockquote><p>These create a <code>Transform</code> <var>t</var> locally, and call
<code>do_transform(t)</code>. 
See <a href="#Performing-Transformations-on-Ellipses">Ellipse Reference; Performing Transformations</a>.

        <p>Rotating and shifting an <code>Ellipse</code> neither change the size of an
<code>Ellipse</code>, nor cause it to become
non-elliptical.  However, scaling and shearing can have these effects. 
For this reason, in <code>scale()</code> and <code>shear()</code>,
<code>do_transform()</code> is called with <code>true</code> as its <var>check</var>
argument, while it is <code>false</code> in <code>rotate()</code>, <code>shift()</code>,
and <code>shift_times()</code>.

        <p>If scaling or shearing is performed on an <code>Ellipse</code>, and it is
still elliptical after the transformation, <code>focus0</code>, <code>focus1</code>,
<code>axis_h</code>, <code>axis_v</code>, <code>linear_eccentricity</code>, and
<code>numerical_eccentricity</code> are all
recalculated.  If the <code>Ellipse</code> is non-elliptical after the
transformation, <code>axis_h</code>, <code>axis_v</code>,
<code>linear_eccentricity</code>, and <code>numerical_eccentricity</code>
are all set to <code>INVALID_REAL</code>.  <code>center</code>, <code>focus0</code>, and
<code>focus1</code> are not set to <code>INVALID_POINT</code>.  Although they are no
longer the center and foci of an elliptical <code>Ellipse</code>, they may
still have some use for the user or programmer. 
</p></blockquote></div>

<div class="node">
<a name="Querying-Ellipses"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Returning-Elements-and-Information-for-Ellipses">Returning Elements and Information for Ellipses</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Affine-Transformations-for-Ellipses">Affine Transformations for Ellipses</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Ellipse-Reference">Ellipse Reference</a>

</div>

<h3 class="section">31.7 Querying</h3>

<div class="defun">
&mdash; <code>const</code> function: bool <b>is_elliptical</b> (<var>void</var>)<var><a name="index-is_005felliptical-734"></a></var><br>
<blockquote><p>Returns <code>true</code> if the <code>Ellipse</code> is elliptical, otherwise
<code>false</code>.

        <p>Certain transformations, such as shearing and scaling, can cause
<code>Ellipses</code> to become non-elliptical. 
</p></blockquote></div>

<div class="defun">
&mdash; Inline <code>const</code> function: bool <b>is_quadratic</b> (<code>void</code>)<var><a name="index-is_005fquadratic-735"></a></var><br>
<blockquote><p>Returns <code>true</code>, because the equation
for an ellipse in the x-y plane with its center at the
origin is the quadratic equation
x^2/a^2 + y^2/b^2 = 1
where a is half the horizontal axis
and b is half the vertical axis.

     <pre class="example">          Ellipse e(origin, 5, 2, 90);
          e.draw();
          Point P(e.angle_point(-35));
          cout &lt;&lt; ((P.get_x() * P.get_x())
                   / (e.get_axis_h()/2 * e.get_axis_h()/2))
                  + ((P.get_y() * P.get_y())
                     / (e.get_axis_v()/2 * e.get_axis_v()/2));
          -| 1
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF163.png"
alt="[Figure 163. Not displayed.]" 
/>
<br>
<br>
Fig. 163. 
<br>
</p>

        </blockquote></div>

<div class="defun">
&mdash; <code>const</code> virtual functions: bool <b>is_cubic</b> (<code>void</code>)<var><a name="index-is_005fcubic-736"></a></var><br>
&mdash; : bool <b>is_quartic</b> (<code>void</code>)<var><a name="index-is_005fquartic-737"></a></var><br>
<blockquote><p>These functions both return <code>false</code>, because the equation of an
ellipse is neither a cubic nor a quartic function. 
</p></blockquote></div>

<div class="node">
<a name="Returning-Elements-and-Information-for-Ellipses"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Ellipse-Intersections">Ellipse Intersections</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Querying-Ellipses">Querying Ellipses</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Ellipse-Reference">Ellipse Reference</a>

</div>

<h3 class="section">31.8 Returning Elements and Information</h3>

<div class="defun">
&mdash; Virtual function: Point&amp; <b>get_center</b> (<code>void</code>)<var><a name="index-get_005fcenter-738"></a></var><br>
&mdash; <code>const</code> virtual function: Point <b>get_center</b> (<code>void</code>)<var><a name="index-get_005fcenter-739"></a></var><br>
<blockquote><p>These functions return <code>center</code>. 
<!-- !! TO DO: Add example. -->
</p></blockquote></div>

<div class="defun">
&mdash; Function: const Point&amp; <b>get_focus</b> (<var>const unsigned short s</var>)<var><a name="index-get_005ffocus-740"></a></var><br>
&mdash; <code>const</code> function: Point <b>get_focus</b> (<var>const unsigned short s</var>)<var><a name="index-get_005ffocus-741"></a></var><br>
<blockquote><p>These functions return <code>focus0</code> or <code>focus1</code>, depending on the
value of <var>s</var>, which must be 0 or 1.  If <var>s</var> is not 0 or 1,
<code>get_focus()</code> returns <code>INVALID_POINT</code>. 
<!-- !! TO DO: Add example. -->
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> function: real <b>get_linear_eccentricity</b> (<var>void</var>)<var><a name="index-get_005flinear_005feccentricity-742"></a></var><br>
<blockquote><p>Returns <code>linear_eccentricity</code>. 
<!-- !! TO DO: Add example. -->
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> function: real <b>get_numerical_eccentricity</b> (<var>void</var>)<var><a name="index-get_005fnumerical_005feccentricity-743"></a></var><br>
<blockquote><p>Returns <code>numerical_eccentricity</code>. 
<!-- !! TO DO: Add example. -->
</p></blockquote></div>

<div class="defun">
&mdash; Function: real <b>get_axis_v</b> (<code>void</code>)<var><a name="index-get_005faxis_005fv-744"></a></var><br>
&mdash; <code>const</code> function: real <b>get_axis_v</b> (<code>void</code>)<var><a name="index-get_005faxis_005fv-745"></a></var><br>
<blockquote><p>Calculates and returns the value of <code>axis_h</code>.

        <p><code>get_axis_v()</code> first checks if the <code>Ellipse</code> is still
elliptical, using <code>is_elliptical()</code>
(see <a href="#Querying-Ellipses">Ellipse Reference; Querying</a>). 
Operations such as <code>scale()</code> and <code>shear()</code> can
cause an <code>Ellipse</code> to become non-elliptical. 
If this is the case, this function returns <code>INVALID_REAL</code>.

        <p>If the <code>Ellipse</code> is still elliptical, <code>axis_v</code> is
recalculated and returned.  In the non-<code>const</code> version,
<code>axis_v</code> is also reset to the new value. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: real <b>get_axis_h</b> (<code>void</code>)<var><a name="index-get_005faxis_005fh-746"></a></var><br>
&mdash; <code>const</code> function: real <b>get_axis_h</b> (<code>void</code>)<var><a name="index-get_005faxis_005fh-747"></a></var><br>
<blockquote><p>Calculates and returns the value of <code>axis_h</code>.

        <p><code>get_axis_h()</code> first checks if the <code>Ellipse</code> is still
elliptical, using <code>is_elliptical()</code>
(see <a href="#Querying-Ellipses">Ellipse Reference; Querying</a>). 
Operations such as <code>scale()</code> and <code>shear()</code> can
cause an <code>Ellipse</code> to become non-elliptical. 
If this is the case, this function returns <code>INVALID_REAL</code>.

        <p>If the <code>Ellipse</code> is still elliptical, <code>axis_h</code> is
recalculated and returned.  In the non-<code>const</code> version,
<code>axis_h</code> is also reset to the new value. 
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> virtual function: signed short <b>location</b> (<var>Point p</var>)<var><a name="index-location-748"></a></var><br>
<blockquote><p>Returns a value l indicating the location of the <code>Point</code> argument
p with respect to the <code>Ellipse</code>.

        <p>Let e stand for the <code>Ellipse</code>. 
The return values are as follows:

          <dl>
<dt>0<dd>p lies on the perimeter of e.

          <br><dt>1<dd>p lies in the plane of e, within its perimeter.

          <br><dt>-1<dd>p lies in the plane of e, outside its perimeter.

          <br><dt>-2<dd>p and e do not lie in the same plane.

          <br><dt>-3<dd>e is not elliptical, possibly due to having been transformed. 
</dl>

     <pre class="example">          Ellipse e(origin, 3, 5, 45, 15, 3);
          e.shift(2, 1, 1);
          Point A = e.get_point(7);
          cout &lt;&lt; e.location(A);
          -| 0
          Point B = center.mediate(e.get_point(2));
          cout &lt;&lt; e.location(B);
          -| 1
          Point C = center.mediate(e.get_point(2), 1.5);
          cout &lt;&lt; e.location(C);
          -| -1
          Point D = A;
          D.shift(-2, 0, 4);
          e.location(D);
          -| WARNING! In Ellipse::location():
             Point doesn't lie in plane of Ellipse.
             Returning -2.
          e.scale(1.5, 0, 1.5);
          e.location(A);
          -| WARNING! In Ellipse::do_transform(const Transform&amp;):
             This transformation has made *this non-elliptical!
          
             ERROR! In Ellipse::location():
             Ellipse is non-elliptical. Returning -3.
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF164.png"
alt="[Figure 164. Not displayed.]" 
/>
<br>
<br>
Fig. 164. 
<br>
</p>

        </blockquote></div>

<div class="defun">
&mdash; <code>const</code> function: Point <b>angle_point</b> (<var>real angle</var>)<var><a name="index-angle_005fpoint-749"></a></var><br>
<blockquote><p>Returns a point on the <code>Ellipse</code> given an angle. 
A <code>Point</code> <var>p</var> is set to the zeroth <code>Point</code> on the <code>Ellipse</code>
and rotated about the line from the center of the <code>Ellipse</code> in the
direction of the normal to the plane of the <code>Ellipse</code>. 
Then, the intersection of the ray from the center through
<var>p</var> and the perimeter of the <code>Ellipse</code> is returned.

     <pre class="example">          Ellipse e(origin, 6, 4);
          Point P = e.angle_point(135);
          current_picture.output(Projections::PARALLEL_X_Z);
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF165.png"
alt="[Figure 165. Not displayed.]" 
/>
<br>
<br>
Fig. 165. 
<br>
</p>

        <p>[next figure]
 demonstrates, that the rotation is unfortunately not always
in the direction one would prefer.  I don't have a solution to this
problem yet.

     <pre class="example">          Ellipse e(origin, 6, 4, 90);
          Point P = e.angle_point(135);
          Point Q = e.angle_point(-135);
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF166.png"
alt="[Figure 166. Not displayed.]" 
/>
<br>
<br>
Fig. 166. 
<br>
</p>

        </blockquote></div>

<div class="node">
<a name="Ellipse-Intersections"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Solving-Ellipses">Solving Ellipses</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Returning-Elements-and-Information-for-Ellipses">Returning Elements and Information for Ellipses</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Ellipse-Reference">Ellipse Reference</a>

</div>

<h3 class="section">31.9 Intersections</h3>

<div class="defun">
&mdash; <code>const</code> virtual function: bool_point_pair <b>intersection_points</b> (<var>const Point&amp; p0, const Point&amp; p1</var>)<var><a name="index-intersection_005fpoints-750"></a></var><br>
&mdash; <code>const</code> virtual function: bool_point_pair <b>intersection_points</b> (<var>const Path&amp; p</var>)<var><a name="index-intersection_005fpoints-751"></a></var><br>
<blockquote><p>These functions return the intersection points of a line with an
<code>Ellipse</code>.  In the first version, the line is specified by the two
<code>Point</code> arguments. 
In the second version, <var>p</var><code>.is_linear()</code> must return <code>true</code>,
otherwise, <code>intersection_points()</code> issues an error message and
returns <code>INVALID_BOOL_POINT_PAIR</code>.

        <p>If the line and the <code>Ellipse</code> are coplanar, there can be at most two
intersection points.  Otherwise, there can be at most one.

     <pre class="example">          Ellipse e(origin, 5, 7, 30, 30, 30);
          e.shift(3, 0, 3);
          Point p0 = e.get_center().mediate(e.get_point(3));
          Point normal = e.get_normal();
          Point A = normal;
          A *= 2.5;
          A.shift(p0);
          Point B = normal;
          B *= -2.5;
          B.shift(p0);
          bool_point_pair bpp = e.intersection_points(A, B);
          bpp.first.pt.dotlabel("$i_0$", "rt");
          Point C = e.get_point(15).mediate(e.get_point(11), 1.25);
          Point D = e.get_point(11).mediate(e.get_point(15), 1.5);
          Path q = C.draw(D);
          bpp = e.intersection_points(q);
          bpp.first.pt.dotlabel("$i_1$", "llft");
          bpp.second.pt.dotlabel("$i_2$", "ulft");
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF167.png"
alt="[Figure 167. Not displayed.]" 
/>
<br>
<br>
Fig. 167. 
<br>
</p>

     </blockquote></div>

<div class="defun">
&mdash; <code>const</code> virtual function: bool_point_quadruple <b>intersection_points</b> (<var>Ellipse e, </var>[<var>const real step = 3, </var>[<var>bool verbose = </var><code>false</code>]])<var><a name="index-intersection_005fpoints-752"></a></var><br>
<blockquote><p>Returns the intersection points of two <code>Ellipses</code>.  Two <code>Ellipses</code>
can intersect at at most four points.

        <p>Let <var>bpq</var> be the <code>bool_point_quadruple</code> returned by
<code>intersection_points()</code>.  If one or more intersection points are
found, the corresponding <code>Points</code> are stored in the
<code>pt</code> elements of the four <code>bool_points</code> belonging to
<var>bpq</var>, otherwise <code>INVALID_POINT</code>.  If a <code>Point</code> is found, the
<code>b</code> element of the <code>bool_point</code> will be <code>true</code>, otherwise
<code>false</code>.

        <p>The <var>step</var> argument is used when the <code>Ellipses</code> are coplanar
and either have different centers or the vertical axis of one <code>Ellipse</code> is
colinear with the horizontal axis of the other (and vice versa).  In
these cases, the intersection points must be found by an iterative
routine.  A <code>Point</code> p travels around the perimeter of <code>*this</code>,
and its location with respect to <var>e</var> is tested.  <var>step</var> is the
angle of rotation used for stepping around the perimeter of
<code>*this</code>.  The default value, 3, should be adequate, unless the
<code>Ellipses</code> differ greatly in size.

        <p>If the <var>verbose</var> argument is <code>true</code>,
<code>intersection_points()</code> will print information about the
intersection points to standard output.

        <p>In [next figure]
, the <code>Ellipses</code> e and f both lie in the x-z
plane, are centered at the origin, and intersect at four points.

     <pre class="example">          Ellipse e(origin, 5, 2);
          Ellipse f(origin, 2, 5);
          bool_point_quadruple bpq = e.intersection_points(f);
          bpq.first.pt.dotlabel(1, "llft");
          bpq.second.pt.dotlabel(2, "urt");
          bpq.third.pt.dotlabel(3, "ulft");
          bpq.fourth.pt.dotlabel(4, "lrt");
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF168.png"
alt="[Figure 168. Not displayed.]" 
/>
<br>
<br>
Fig. 168. 
<br>
</p>

        <p>In [next figure]
, e and f are coplanar, but don't lie in a major plane,
have different centers, and only intersect at two points.

     <pre class="example">          Ellipse e(origin, 4, 2);
          Ellipse f(origin, 2, 5);
          f.shift(0, 0, 1);
          f.rotate(0, 15);
          f.shift(1, 0, 1);
          e *= f.shift(-.25, 1, -1);
          e *= f.rotate(10, -12.5, 3);
          bool_point_quadruple bpq = e.intersection_points(f, true);
          bpq.first.pt.dotlabel(1, "urt");
          bpq.second.pt.dotlabel(2, "ulft");
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF169.png"
alt="[Figure 169. Not displayed.]" 
/>
<br>
<br>
Fig. 169. 
<br>
</p>

        <p>If the planes of the <code>Ellipses</code> are parallel, there are, of course,
no intersection points.  If the <code>Ellipses</code> are non-coplanar, and
their planes are not parallel to each other,
<code>intersection_points()</code> first finds the line of intersection of the
planes of the <code>Ellipses</code>.  It then returns the <code>Points</code> of
intersection of this line with the <code>Ellipses</code>, if they exist.  If
the <var>verbose</var> argument is <code>true</code>, information about the
<code>Points</code> is printed to standard output.

        <p>In [next figure]
, the two <code>Ellipses</code> lie in skew planes.  The plane
of f intersects with e at the <code>Points</code> labelled &ldquo;1&rdquo; and &ldquo;2&rdquo;,
while the plane of e intersects with f at the <code>Points</code> labelled
&ldquo;3&rdquo; and &ldquo;4&rdquo;.

     <pre class="example">          Ellipse e(origin, 5, 3);
          Ellipse f(origin, 2, 5);
          f.rotate(0, 0, 30);
          f.rotate(0, 10);
          f.rotate(45);
          f.shift(1.5, 1);
          bool_point_quadruple bpq = e.intersection_points(f, true);
          bpq.first.pt.dotlabel(1);
          bpq.second.pt.dotlabel(2);
          bpq.third.pt.dotlabel(3, "rt");
          bpq.fourth.pt.dotlabel(4, "urt");
          -| First point lies on the perimeter of *this.
             First point lies inside e.
             Second point lies on the perimeter of *this.
             Second point lies outside e.
             Third point lies outside *this.
             Third point lies on the perimeter of e.
             Fourth point lies inside *this.
             Fourth point lies on the perimeter of e.
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF170.png"
alt="[Figure 170. Not displayed.]" 
/>
<br>
<br>
Fig. 170. 
<br>
</p>

        <p>In [next figure]
, the two <code>Ellipses</code> lie in skew planes.  The plane of
f intersects with e at the <code>Points</code> labelled &ldquo;1&rdquo; and &ldquo;2&rdquo;. 
The plane of e does not intersect with f, so <code>bpq.third.pt</code>
and <code>bpq.fourth.pt</code> are <code>INVALID_POINT</code>.

     <pre class="example">          Ellipse e(origin, 5, 3);
          Ellipse f(origin, 2, 5, 45);
          f.shift(0, 2.5, 3);
          bool_point_quadruple bpq = e.intersection_points(f, true);
          bpq.first.pt.dotlabel(1);
          bpq.second.pt.dotlabel(2);
          -| First point lies on the perimeter of *this.
             First point lies outside e.
             Second point lies on the perimeter of *this.
             Second point lies outside e.
             Third intersection point is INVALID_POINT.
             Fourth intersection point is INVALID_POINT.
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF171.png"
alt="[Figure 171. Not displayed.]" 
/>
<br>
<br>
Fig. 171. 
<br>
</p>

        </blockquote></div>

<div class="node">
<a name="Solving-Ellipses"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Rectangles-for-Ellipses">Rectangles for Ellipses</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Ellipse-Intersections">Ellipse Intersections</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Ellipse-Reference">Ellipse Reference</a>

</div>

<h3 class="section">31.10 Solving</h3>

<div class="defun">
&mdash; <code>const</code> function: real_pair <b>solve</b> (<var>char axis_unknown, real known</var>)<var><a name="index-solve-753"></a></var><br>
<blockquote><p>Returns two possible values for either the horizontal or vertical
coordinate.  This function assumes that the <code>Ellipse</code> lies in a major
plane with <code>center</code> at the origin.  Code that calls it must ensure
that these conditions are fulfilled. 
<!-- !! TO DO: Add EXAMPLE!! -->

        <p><code>solve()</code> is called in
<code>Reg_Cl_Plane_Curve::intersection_points(Point, Point, Point)</code> and
<code>Reg_Cl_Plane_Curve::location()</code>, and
resolves to this function, when these functions are called on an
<code>Ellipse</code>.  However, <code>Ellipse::location()</code> overloads
<code>Reg_Cl_Plane_Curve::location()</code>, so the latter won't normally be
called on an <code>Ellipse</code>. 
See <a href="#Regular-Closed-Plane-Curve-Intersections">Regular Closed Plane Curve Reference; Intersections</a>, and
<a href="#Querying-Regular-Closed-Plane-Curves">Regular Closed Plane Curve Reference; Querying</a>.

     </blockquote></div>

<div class="defun">
&mdash; <code>const</code> function: real_triple <b>get_coefficients</b> (<var>real Slope, real v_intercept</var>)<var><a name="index-get_005fcoefficients-754"></a></var><br>
<blockquote>
        <p>Let x and y stand for the x and y-coordinates of a point on an
ellipse in the x-y plane, a for half of the horizontal axis
(<code>axis_h</code> / 2),
and b for half of the vertical axis
(<code>axis_v</code> / 2).

        <p>Further, let y = mx + i be the equation of a line in
the x-y plane, where m is the slope and i the
y-intercept.

        <p>This function returns the coefficients of the quadratic equation
that results from replacing y with mx + i
in the equation for the ellipse

     <pre class="display">          x^2/a^2 + y^2/b^2 = 1<br>
</pre>
        <p>namely
     <pre class="display">          x^2/a^2 + (mx + i)^2/b^2 - 1 = 0
          == (b^2x + a^2m^2)x^2 + 2a^2imx + (a^2i^2 - a^2b^2) = 0.
</pre>
        <p>The coefficients are returned in the <code>real_triple</code> in the order
one would expect: <code>r.first</code> is the coefficient of x^2, <code>r.second</code> of
x and <code>r.third</code> of the constant term
(x^0 == 1).

        <p><code>get_coefficients()</code> is called in
<code>Reg_Cl_Plane_Curve::intersection_points(Point, Point, Point)</code>, and
resolves to this function, when the latter is called on an
<code>Ellipse</code>. 
See <a href="#Regular-Closed-Plane-Curve-Intersections">Regular Closed Plane Curve Reference; Intersections</a>. 
</p></blockquote></div>

<div class="node">
<a name="Rectangles-for-Ellipses"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Solving-Ellipses">Solving Ellipses</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Ellipse-Reference">Ellipse Reference</a>

</div>

<h3 class="section">31.11 Rectangles</h3>

<div class="defun">
&mdash; <code>const</code> function: Rectangle <b>out_rectangle</b> (<code>void</code>)<var><a name="index-out_005frectangle-755"></a></var><br>
<blockquote><p>Returns the <code>Rectangle</code> that surrounds the <code>Ellipse</code>.

     <pre class="example">          Ellipse e(origin, 3, 4, 45, 30, 17);
          e.shift(1, -1, 2);
          Rectangle r = e.out_rectangle();
          r.filldraw(black, gray);
          e.unfilldraw(black);
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF172.png"
alt="[Figure 172. Not displayed.]" 
/>
<br>
<br>
Fig. 172. 
<br>
</p>

     </blockquote></div>

<div class="defun">
&mdash; <code>const</code> function: Rectangle <b>in_rectangle</b> (<code>void</code>)<var><a name="index-in_005frectangle-756"></a></var><br>
<blockquote><p>Returns the <code>Rectangle</code> enclosed within the <code>Ellipse</code>.

     <pre class="example">          Rectangle r = e.in_rectangle();
          e.filldraw(black, gray);
          r.unfilldraw(black);
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF173.png"
alt="[Figure 173. Not displayed.]" 
/>
<br>
<br>
Fig. 173. 
<br>
</p>

        </blockquote></div>

<div class="defun">
&mdash; <code>const</code> function: Rectangle <b>draw_out_rectangle</b> ([<var>const Color&amp; ddraw_color = </var><code>*Colors::default_color</code><var>, </var>[<var>string ddashed = "", </var>[<var>string ppen = "", </var>[<var>Picture&amp; picture = </var><code>current_picture</code>]]]])<var><a name="index-draw_005fout_005frectangle-757"></a></var><br>
<blockquote><p>Draws the <code>Rectangle</code> that surrounds the <code>Ellipse</code>.  The arguments
are like those of <code>Path::draw()</code>. 
The return value is the surrounding <code>Rectangle</code>. 
See <a href="#Drawing-and-Filling-Paths">Path Reference; Drawing and Filling</a>.

     <pre class="example">          Ellipse e(origin, 2.5, 5, 10, 12, 15.5);
          e.shift(-1, 1, 1);
          e.draw_out_rectangle(black, "evenly", "pencircle scaled .3mm");
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF174.png"
alt="[Figure 174. Not displayed.]" 
/>
<br>
<br>
Fig. 174. 
<br>
</p>

        </blockquote></div>

<div class="defun">
&mdash; <code>const</code> function: Rectangle <b>draw_in_rectangle</b> ([<var>const Color&amp; ddraw_color = </var><code>*Colors::default_color</code><var>, </var>[<var>string ddashed = "", </var>[<var>string ppen = "", </var>[<var>Picture&amp; picture = </var><code>current_picture</code>]]]])<var><a name="index-draw_005fin_005frectangle-758"></a></var><br>
<blockquote><p>Draws the <code>Rectangle</code> enclosed within the <code>Ellipse</code>.  The arguments
are like those of <code>Path::draw()</code>. 
The return value is the enclosed <code>Rectangle</code>. 
See <a href="#Drawing-and-Filling-Paths">Path Reference; Drawing and Filling</a>.

     <pre class="example">          Ellipse e(origin, 3.5, 6, 10, 12, 15.5);
          e.shift(-1, 1, 1);
          e.draw_in_rectangle(black, "evenly", "pencircle scaled .3mm");
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF175.png"
alt="[Figure 175. Not displayed.]" 
/>
<br>
<br>
Fig. 175. 
<br>
</p>

        </blockquote></div>

<!-- circle.texi -->
<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
<div class="node">
<a name="Circle-Reference"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Pattern-Reference">Pattern Reference</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Ellipse-Reference">Ellipse Reference</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">32 Circle Reference</h2>

<p><a name="index-Circle-759"></a>Class <code>Circle</code> is defined in <samp><span class="file">circles.web</span></samp>. 
It is derived from <code>Ellipse</code>, using public derivation.

   <p>Since <code>Circle</code> is just a special kind of <code>Ellipse</code>, there is
often no need to define special functions for <code>Circles</code>.

   <p>Currently, <code>Circle</code> inherits the transformation functions and
<code>operator*=(const Transform&amp;)</code> from <code>Ellipse</code>.  Consequently,
the data member <code>radius</code>, described below,
is not recalculated, when transformations
are performed on a <code>Circle</code>.  I plan to change this soon!

<ul class="menu">
<li><a accesskey="1" href="#Circle-Data-Members">Circle Data Members</a>
<li><a accesskey="2" href="#Circle-Constructors-and-Setting-Functions">Circle Constructors and Setting Functions</a>
<li><a accesskey="3" href="#Circle-Operators">Circle Operators</a>
<li><a accesskey="4" href="#Querying-Circles">Querying Circles</a>
<li><a accesskey="5" href="#Circle-Intersections">Circle Intersections</a>
</ul>

<div class="node">
<a name="Circle-Data-Members"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Circle-Constructors-and-Setting-Functions">Circle Constructors and Setting Functions</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Circle-Reference">Circle Reference</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Circle-Reference">Circle Reference</a>

</div>

<h3 class="section">32.1 Data Members</h3>

<div class="defun">
&mdash; Private variable: real <b>radius</b><var><a name="index-radius-760"></a></var><br>
<blockquote><p>The radius of the <code>Circle</code>. 
</p></blockquote></div>

<div class="node">
<a name="Circle-Constructors-and-Setting-Functions"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Circle-Operators">Circle Operators</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Circle-Data-Members">Circle Data Members</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Circle-Reference">Circle Reference</a>

</div>

<h3 class="section">32.2 Constructors and Setting Functions</h3>

<div class="defun">
&mdash; Default constructor: <code>void</code> <b>Circle</b> (<code>void</code>)<var><a name="index-Circle-761"></a></var><br>
<blockquote><p>Creates an empty <code>Circle</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Constructor: <code>void</code> <b>Circle</b> (<var>const Point&amp; ccenter, const real ddiameter, </var>[<var>const real angle_x = 0, </var>[<var>const real angle_y = 0, </var>[<var>const real angle_z = 0, </var>[<var>const unsigned short nnumber_of_points = </var><code>DEFAULT_NUMBER_OF_POINTS</code>]]]])<var><a name="index-Circle-762"></a></var><br>
<blockquote><p>Creates a <code>Circle</code> with <code>radius</code> ==
<var>ddiameter</var>/2 in the x-z plane and centered at the origin
with <var>nnumber_of_points</var> <code>Points</code>.  If any of the arguments
<var>angle_x</var>, <var>angle_y</var>, or <var>angle_z</var> is
<code>!= 0</code>,
the <code>Circle</code> is rotated around the major axes by the angles
indicated by the arguments.  Finally, the
<code>Circle</code> is shifted such that <code>center</code> comes to lie at
<var>ccenter</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; Setting function: void <b>set</b> (<var>const Point&amp; ccenter, const real ddiameter, </var>[<var>const real angle_x = 0, </var>[<var>const real angle_y = 0, </var>[<var>const real angle_z = 0</var>]]])<var><a name="index-set-763"></a></var><br>
<blockquote><p>Corresponds to the constructor above. 
</p></blockquote></div>

<div class="defun">
&mdash; Template specializations: Circle* <b>create_new&lt;Circle&gt;</b> (<var>const Circle* c</var>)<var><a name="index-create_005fnew_003cCircle_003e-764"></a></var><br>
&mdash; : Circle* <b>create_new&lt;Circle&gt;</b> (<var>const Circle&amp; c</var>)<var><a name="index-create_005fnew_003cCircle_003e-765"></a></var><br>
<blockquote><p>Pseudo-constructors for dynamic allocation of <code>Circles</code>. 
They create a <code>Circle</code> on the free store and allocate memory for it using
<code>new(Circle)</code>.  They return a pointer to the new <code>Circle</code>.

        <p>If <var>c</var> is a non-zero pointer or a reference,
the new <code>Circle</code> will be a copy of
<var>c</var>.  If the new object is not meant to be a
copy of an existing one, &lsquo;<samp><span class="samp">0</span></samp>&rsquo; must be passed to
<code>create_new&lt;Circle&gt;()</code> as its argument. 
See <a href="#Dynamic-Allocation-of-Shapes">Dynamic Allocation of Shapes</a>, for more information. 
</p></blockquote></div>

<div class="node">
<a name="Circle-Operators"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Querying-Circles">Querying Circles</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Circle-Constructors-and-Setting-Functions">Circle Constructors and Setting Functions</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Circle-Reference">Circle Reference</a>

</div>

<h3 class="section">32.3 Operators</h3>

<div class="defun">
&mdash; Assignment operator: Circle&amp; <b>operator=</b> (<var>const Circle&amp; c</var>)<var><a name="index-operator_003d-766"></a></var><br>
<blockquote><p>Makes the <code>Circle</code> a copy of <var>c</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; Assignment operator: Circle&amp; <b>operator=</b> (<var>const Ellipse&amp; e</var>)<var><a name="index-operator_003d-767"></a></var><br>
<blockquote><p>Makes the <code>Circle</code> a copy of <var>e</var>, if <var>e</var> is circular. 
<code>radius</code> is set to <var>e</var>.<code>axis_v</code> / 2 and
<code>*this</code> is returned.

        <p>If <var>e</var> is not circular, this function issues an error message and returns <code>*this</code>. 
</p></blockquote></div>

<div class="node">
<a name="Querying-Circles"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Circle-Intersections">Circle Intersections</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Circle-Operators">Circle Operators</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Circle-Reference">Circle Reference</a>

</div>

<h3 class="section">32.4 Querying</h3>

<div class="defun">
&mdash; <code>const</code> function: bool <b>is_circular</b> (<var>void</var>)<var><a name="index-is_005fcircular-768"></a></var><br>
<blockquote><p>Returns <code>true</code> if the <code>Circle</code> is circular, otherwise
<code>false</code>.

        <p>Certain transformations, such as shearing and scaling, can cause
<code>Circles</code> to become non-circular.

     <pre class="example">          Circle c(origin, 3, 90);
          cout &lt;&lt; c.is_circular();
          -| 1
          
          Circle d = c;
          d.shift(2.5);
          d.scale(2, 3);
          cout &lt;&lt; d.is_circular();
          -| 0
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF176.png"
alt="[Figure 176. Not displayed.]" 
/>
<br>
<br>
Fig. 176. 
<br>
</p>

     </blockquote></div>

<div class="defun">
&mdash; Inline function: real <b>get_radius</b> (<code>void</code>)<var><a name="index-get_005fradius-769"></a></var><br>
<blockquote><p>Returns <code>radius</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Inline function: real <b>get_diameter</b> (<code>void</code>)<var><a name="index-get_005fdiameter-770"></a></var><br>
<blockquote><p>Returns
2 * <code>radius</code>. 
</p></blockquote></div>

<div class="node">
<a name="Circle-Intersections"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Querying-Circles">Querying Circles</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Circle-Reference">Circle Reference</a>

</div>

<h3 class="section">32.5 Intersections</h3>

<div class="defun">
&mdash; Virtual <code>const</code> function: bool_point_quadruple <b>intersection_points</b> (<var>const Circle&amp; c, </var>[<var>const bool verbose = </var><code>false</code>])<var><a name="index-intersection_005fpoints-771"></a></var><br>
<blockquote><p>Returns the intersection points of two <code>Circles</code>.

        <p>If the <code>Circles</code> are coplanar, they can intersect at at most two
points.  There is an easy algebraic solution for this, so in this case,
this function is faster than <code>Ellipse::intersection_points(Ellipse,
bool)</code>, which uses an iterative procedure to find the points.

        <p>If the <code>Circles</code> are non-coplanar, the intersection points of each
<code>Circle</code> with the plane of the other <code>Circle</code> are returned, so
a maximum of four <code>Points</code> can be found.

     <!-- !! TO DO:  Add more examples. -->
     <pre class="example">          Circle t(origin, 5, 90);
          Circle c(origin, 3, 90);
          c.shift(3);
          c.rotate(0, 0, 45);
          bool_point_quadruple bpq = t.intersection_points(c);
          bpq.first.pt.dotlabel("$f$");
          bpq.second.pt.dotlabel("$s$");
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF177.png"
alt="[Figure 177. Not displayed.]" 
/>
<br>
<br>
Fig. 177. 
<br>
</p>

     </blockquote></div>

<!-- pattern.texi -->
<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
<div class="node">
<a name="Pattern-Reference"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Solid-Reference">Solid Reference</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Circle-Reference">Circle Reference</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">33 Pattern Reference</h2>

<p>There is no currently no class &ldquo;<code>Pattern</code>&rdquo;. 
If it turns out to be
useful for this purpose, I will define a <code>Pattern</code> class, and
perhaps additional derived classes.

<ul class="menu">
<li><a accesskey="1" href="#Plane-Tesselations">Plane Tesselations</a>
<li><a accesskey="2" href="#Roulettes-and-Involutes">Roulettes and Involutes</a>
</ul>

<div class="node">
<a name="Plane-Tesselations"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Roulettes-and-Involutes">Roulettes and Involutes</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Pattern-Reference">Pattern Reference</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Pattern-Reference">Pattern Reference</a>

</div>

<h3 class="section">33.1 Plane Tesselations</h3>

<p>3DLDF can be used to make perspective projections of plane tesselations
and other two-dimensional patterns.  These can be used for
drawing tiled floors and other architectural items, among other things. 
While patterns can be generated by using the basic facilities of C++
 and
3DLDF without any specially defined functions, it can be useful to
define such functions.

   <p>3DLDF currently contains only one function for drawing patterns based on
a plane tessellation.  I plan to add more soon.

<div class="defun">
&mdash; Function: unsigned int <b>hex_pattern_1</b> ([<var>real diameter_outer = 5, </var>[<var>real diameter_middle = 0, </var>[<var>real diameter_inner = 0, </var>[<var>unsigned short first_row = 5, </var>[<var>unsigned short double_rows = 10, </var>[<var>unsigned short row_shift = 2, </var>[<var>Color draw_color_outer = </var><code>*Colors::default_color</code><var>, </var>[<var>Color fill_color_outer = </var><code>*Colors::background_color</code><var>, </var>[<var>Color draw_color_middle = </var><code>*Colors::default_color</code><var>, </var>[<var>Color fill_color_middle = </var><code>*Colors::background_color</code><var>, </var>[<var>Color draw_color_inner = </var><code>*Colors::default_color</code><var>, </var>[<var>Color fill_color_inner = </var><code>*Colors::background_color</code><var>, </var>[<var>string pen_outer = "pencircle scaled .5mm", </var>[<var>string pen_middle = "pencircle scaled .3mm", </var>[<var>string pen_inner = "pencircle scaled .3mm", </var>[<var>Picture&amp; picture = </var><code>current_picture</code><var>, </var>[<var>unsigned int max_hexagons = 1000</var>]]]]]]]]]]]]]]]]])<var><a name="index-hex_005fpattern_005f1-772"></a></var><br>
<blockquote><p>Draws a pattern consisting of hexagons forming a tesselation of the x-z
plane, with additional hexagons within them.

        <p>The arguments:
          <dl>
<dt><code>real</code> <var>diameter_outer</var><dd>Default:  5.  The diameter of the outer hexagon in each set of three
hexagons.  The outer hexagons form a tessellation of the plane.

          <br><dt><code>real</code> <var>diameter_middle</var><dd>Default: 0.  The diameter of the middle hexagon in a set of three
hexagons.

          <br><dt><code>real</code> <var>diameter_inner</var><dd>Default: 0.  The diameter of the inner hexagon in a set of three
hexagons.

          <br><dt><code>unsigned short</code> <var>first_row</var><dd>Default: 5.  The number of sets of hexagons in the first single row. 
The second single row will have
<var>first_row</var> + 1 sets of hexagons.

          <br><dt><code>unsigned short</code> <var>double_rows</var><dd>Default: 10.  The number of double rows drawn.

          <br><dt><code>unsigned short</code> <var>row_shift</var><dd>Default: 2. 
For <var>row_shift</var>
!= 0,
the number of sets of hexagons in each (single) row is
increased by 2 every <var>row_shift</var> rows.  If <var>row_shift</var> ==
0, the number sets of hexagons remains constant. 
The rows remain centered around the z-axis.

          <br><dt><code>Color</code> <var>draw_color_outer</var><dd>Default: <code>*Colors::default_color</code>. 
The <code>Color</code> used for drawing the outer hexagons.

          <br><dt><code>Color</code> <var>fill_color_outer</var><dd>Default: <code>*Colors::background_color</code>. 
The <code>Color</code> used for filling the outer hexagons.

          <br><dt><code>Color</code> <var>draw_color_middle</var><dd>Default:  <code>*Colors::default_color</code>. 
The <code>Color</code> used for drawing the middle hexagon.

          <br><dt><code>Color</code> fill_color_middle<dd>Default:  <code>*Colors::background_color</code>. 
The <code>Color</code> used for filling the middle hexagons.

          <br><dt><code>Color</code> <var>draw_color_inner</var><dd>Default:  <code>*Colors::default_color</code>. 
The <code>Color</code> used for drawing the inner hexagons.

          <br><dt><code>Color</code> <var>fill_color_inner</var><dd>Default:  <code>*Colors::background_color</code>. 
The <code>Color</code> used for filling the inner hexagons.

          <br><dt><code>string</code> <var>pen_outer</var><dd>Default: <code>"pencircle scaled .5mm"</code>. 
The pen used for drawing the outer hexagons.

          <br><dt><code>string</code> <var>pen_middle</var><dd>Default:  <code>"pencircle scaled .3mm"</code>. 
The pen used for drawing the middle hexagons.

          <br><dt><code>string</code> pen_inner<dd>Default:  <code>"pencircle scaled .3mm"</code>. 
The pen used for drawing the inner hexagons.

          <br><dt><code>Picture&amp;</code> <var>picture</var><dd>Default:  <code>current_picture</code>. 
The <code>Picture</code> onto which the pattern is put.

          <br><dt><code>unsigned int</code> <var>max_hexagons</var><dd>Default:  1000. 
The maximum number of hexagons that will be drawn.

        </dl>

        <p>Draws a pattern in the x-z plane consisting of hexagons.  The outer
hexagons form a tessellation.  The middle and inner hexagons fit
within the outer hexagons.  The hexagons are drawn in double rows. 
The tessellation can be repeated by copying a
double row and shifting the copy to lie directly behind the first double
row.  If the <code>Picture</code> with the pattern is projected with the
<code>Focus</code> in front of the pattern, looking in the direction of the back
of the pattern,
the first row of hexagons will appear larger than the rows
behind it.  Therefore, in order for the perspective projection of the
pattern to fill a rectangular area on the plane of projection,
it will generally be necessary to increase the number of sets of
hexagons in each double row.  On the other hand, if the same number of
sets of hexagons were used in the front double row, as will be needed for the
back double row, many of them would probably be unprojectable.

        <p>The return value of this function is the number of hexagons drawn.

     <pre class="example">          default_focus.set(0, 10, -10, 0, 10, 25, 10);
          hex_pattern_1(1, 0, 0, 5, 5);
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF178.png"
alt="[Figure 178. Not displayed.]" 
/>
<br>
<br>
Fig. 178. 
<br>
</p>

     <pre class="example">          default_focus.set(-5, 5, -10, 0, 10, 25, 10);
          hex_pattern_1(2, 1.5, 1, 2, 5, 2, black, gray, black,
                        light_gray, black);
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF179.png"
alt="[Figure 179. Not displayed.]" 
/>
<br>
<br>
Fig. 179. 
<br>
</p>

        </blockquote></div>

<div class="node">
<a name="Roulettes-and-Involutes"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Plane-Tesselations">Plane Tesselations</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Pattern-Reference">Pattern Reference</a>

</div>

<h3 class="section">33.2 Roulettes and Involutes</h3>

<blockquote>
&ldquo;A <dfn>roulette</dfn> is the curve generated by a point which is carried by
a curve which rolls on a fixed curve. [<small class="dots">...</small>]  The locus of a point
carried by a circle rolling on a straight line is a <dfn>trochoid</dfn>.  If
the point is inside the circle the trochoid has inflexions;  if it is
outside the circle, but rigidly attached to it, the trochoid has loops. 
[<small class="dots">...</small>]  In the particular case when the point is on the circumference
of the rolling circle the roulette is a <dfn>cycloid</dfn>.  When the circle
rolls on the outside of another circle the corresponding curves are the
<dfn>epitrochoids</dfn> and <dfn>epicycloids</dfn>;  if it rolls on the inside,
they are the <dfn>hypotrochoids</dfn> and <dfn>hypocycloids</dfn>.&rdquo;
<div align="right">H. Martyn Cundy and A. P. Rollett, <em>Mathematical Models</em>, p. 46.
   </div>
</blockquote>

<ul class="menu">
<li><a accesskey="1" href="#Epicycloids">Epicycloids</a>
</ul>

<div class="node">
<a name="Epicycloids"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Roulettes-and-Involutes">Roulettes and Involutes</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Roulettes-and-Involutes">Roulettes and Involutes</a>

</div>

<h4 class="subsection">33.2.1 Epicycloids</h4>

<!-- !! TO DO:  Check whether @code{epicycloid_pattern_3()} works.  If it -->
<!-- does, document it here.  LDF 2003.09.02. -->
<div class="defun">
&mdash; Function: unsigned int <b>epicycloid_pattern_1</b> (<var>real diameter_inner, real diameter_outer_start, real diameter_outer_end, real step, int arc_divisions, unsigned int offsets, </var>[<var>vector&lt;const Color*&gt; colors = </var><code>Colors::default_color_vector</code>])<var><a name="index-epicycloid_005fpattern_005f1-773"></a></var><br>
<blockquote><p>Draws a pattern consisting of epicycloids.  The  outer circle rolls
around the circumference of the inner circle and a <code>Point</code> on the
outer circle traces an epicycloid.

        <p>If <var>offsets</var> is greater than 1, the outer circle is rotated
<var>offset</var> times around the center of the inner circle
by
360 / offsets
(starting from the outer circle's original
position).  From each of these new positions, an epicycloid is drawn.

        <p>While <var>diameter_outer_start</var> is
greater than or equal to <var>diameter_outer_end</var>, the diameter of the
outer circle is reduced by <var>step</var>, and another set of epicycloids is
traced, as described above.  Each time the diameter of
the outer circle is reduced, a new <code>Color</code> is taken from
<var>colors</var> for the drawing commands.  If there are more iterations
than <code>Colors</code>, the last <code>Color</code> on <var>colors</var> is used for
the remaining iterations.

     <!-- !! TO DO:  Change function, so that the list is run through again. -->
        <p>The arguments:
          <dl>
<dt><code>real</code> <var>diameter_inner</var><dd>The diameter of the inner circle.

          <br><dt><code>real</code> <var>diameter_outer_start</var><dd>The diameter of the outer circle for the first iteration.  It must be
greater than or equal to <var>diameter_outer_end</var>.

          <br><dt><code>real</code> <var>diameter_outer_end</var><dd>The diameter of the outer circle for the last iteration. 
It must be
less than or equal to <var>diameter_outer_start</var>.

          <br><dt><code>real</code> <var>step</var><dd>The amount by which the diameter of the outer circle is <em>reduced</em>
upon each iteration.

          <br><dt><code>int</code> <var>arc_divisions</var><dd>The number of divisions of the circle used for calculating <code>Points</code>
on the epicycloid.  For instance, if <var>arc_divisions</var> is 90, then
the <code>Path</code> for each epicycloid will only have 4 <code>Points</code>,
since 360 / 90 = 4.

          <br><dt><code>unsigned int</code> <var>offsets</var><dd>The number of epicycloids drawn upon each iteration.  Each one is
rotated by 360 / <var>offsets</var> around the center of the inner circle. 
<var>offsets</var> must be greater than or equal to 1.

          <br><dt><code>vector&lt;const Color*&gt;</code> <var>colors</var><dd>Default: <code>Colors::default_color_vector</code>.  The <code>Colors</code> pointed
to by the pointers on this vector are used for drawing the epicycloids. 
One <code>Color</code> is used for each iteration.

        </dl>

        <p>Example:
     <pre class="example">          epicycloid_pattern_1(5, 3, 3, 1, 72);
          current_picture.output(Projections::PARALLEL_X_Z);
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF180.png"
alt="[Figure 180. Not displayed.]" 
/>
<br>
<br>
Fig. 180. 
<br>
</p>

        <p>Example:
     <pre class="example">          default_focus.set(2, 5, -10, 2, 5, 10, 10);
          epicycloid_pattern_1(5, 3, 3, 1, 36);
          current_picture.output();
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF181.png"
alt="[Figure 181. Not displayed.]" 
/>
<br>
<br>
Fig. 181. 
<br>
</p>

     </blockquote></div>

<!-- solid.texi -->
<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
<div class="node">
<a name="Solid-Reference"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Faced-Solid-Reference">Faced Solid Reference</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Pattern-Reference">Pattern Reference</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">34 Solid Reference</h2>

<p><a name="index-Solid-774"></a>Class <code>Solid</code> is defined in <samp><span class="file">solids.web</span></samp>. 
It's derived from <code>Shape</code> using public derivation.  It is intended
to be used as a base class for
more specialized classes representing solid figures, e.g., cuboids,
polyhedra, solids of rotation, etc.

<ul class="menu">
<li><a accesskey="1" href="#Solid-Data-Members">Solid Data Members</a>
<li><a accesskey="2" href="#Solid-Constructors-and-Setting-Functions">Solid Constructors and Setting Functions</a>
<li><a accesskey="3" href="#Solid-Destructor">Solid Destructor</a>
<li><a accesskey="4" href="#Solid-Operators">Solid Operators</a>
<li><a accesskey="5" href="#Copying-Solids">Copying Solids</a>
<li><a accesskey="6" href="#Setting-Solid-Members">Setting Solid Members</a>
<li><a accesskey="7" href="#Querying-Solids">Querying Solids</a>
<li><a accesskey="8" href="#Returning-Elements-and-Information-Solids">Returning Elements and Information Solids</a>
<li><a accesskey="9" href="#Showing-Solids">Showing Solids</a>
<li><a href="#Affine-Transformations-for-Solids">Affine Transformations for Solids</a>
<li><a href="#Applying-Transformations-to-Solids">Applying Transformations to Solids</a>
<li><a href="#Outputting-Solids">Outputting Solids</a>
<li><a href="#Drawing-and-Filling-Solids">Drawing and Filling Solids</a>
<li><a href="#Clearing-Solids">Clearing Solids</a>
</ul>

<div class="node">
<a name="Solid-Data-Members"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Solid-Constructors-and-Setting-Functions">Solid Constructors and Setting Functions</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Solid-Reference">Solid Reference</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Solid-Reference">Solid Reference</a>

</div>

<h3 class="section">34.1 Data Members</h3>

<div class="defun">
&mdash; Protected variable: bool <b>on_free_store</b><var><a name="index-on_005ffree_005fstore-775"></a></var><br>
<blockquote><p><code>true</code>, if the <code>Solid</code> was dynamically allocated on the free
store, otherwise <code>false</code>.  <code>Solids</code> should only be allocated
on the free store by <code>create_new&lt;Solid&gt;()</code>, or analogous functions
for derived classes. 
See <a href="#Solid-Constructors-and-Setting-Functions">Solid Reference; Constructors and Setting Functions</a>. 
</p></blockquote></div>

<div class="defun">
&mdash; Protected variable: Point <b>center</b><var><a name="index-center-776"></a></var><br>
<blockquote><p>The center of the <code>Solid</code>.  An object of a type derived from
<code>Solid</code> need not have a meaningful <code>center</code>.  However, many
do, so it's convenient to be able to access it using the member
functions of <code>Solid</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Protected variable: bool <b>do_output</b><var><a name="index-do_005foutput-777"></a></var><br>
<blockquote><p>Set to <code>false</code> in <code>Picture::output()</code>, if the <code>Solid</code>
cannot be projected using the arguments of that particular invocation of
<code>output()</code>.  Reset to <code>true</code> at the end of
<code>Picture::output()</code>, so that the <code>Solid</code> will be tested for
projectability again, if <code>output()</code> is called on the
<code>Picture</code> again. 
</p></blockquote></div>

<div class="defun">
&mdash; Protected variables: vector&lt;Path*&gt; <b>paths</b><var><a name="index-paths-778"></a></var><br>
&mdash; : vector&lt;Circle*&gt; <b>circles</b><var><a name="index-circles-779"></a></var><br>
&mdash; : vector&lt;Ellipse*&gt; <b>ellipses</b><var><a name="index-ellipses-780"></a></var><br>
&mdash; : vector &lt;Reg_Polygon*&gt; <b>reg_polygons</b><var><a name="index-reg_005fpolygons-781"></a></var><br>
&mdash; : vector&lt;Rectangle*&gt; <b>rectangles</b><var><a name="index-rectangles-782"></a></var><br>
<blockquote><p>Vectors of pointers to the <code>Paths</code>, <code>Circles</code>,
<code>Ellipses</code>, <code>Reg_Polygons</code>, and <code>Rectangles</code>,
respectively, belonging to the <code>Solid</code>, if any exist. 
</p></blockquote></div>

<div class="defun">
&mdash; Protected variable: valarray&lt;real&gt; <b>projective_extremes</b><var><a name="index-projective_005fextremes-783"></a></var><br>
<blockquote><p>The maximum and minimum values for the x, y, and z-coordinates of the
<code>Points</code> belonging to the <code>Solid</code>.  Used in
<code>Picture::output()</code> for testing whether a <code>Solid</code> is
projectable using a particular set of arguments. 
</p></blockquote></div>

<div class="defun">
&mdash; Public static <code>const</code> variables: unsigned short <b>CIRCLE</b><var><a name="index-CIRCLE-784"></a></var><br>
&mdash; : unsigned short <b>ELLIPSE</b><var><a name="index-ELLIPSE-785"></a></var><br>
&mdash; : unsigned short <b>PATH</b><var><a name="index-PATH-786"></a></var><br>
&mdash; : unsigned short <b>RECTANGLE</b><var><a name="index-RECTANGLE-787"></a></var><br>
&mdash; : unsigned short <b>REG_POLYGON</b><var><a name="index-REG_005fPOLYGON-788"></a></var><br>
<blockquote><p>Used as arguments in the functions <code>get_shape_ptr()</code> and
<code>get_shape_center()</code>
(see <a href="#Returning-Elements-and-Information-Solids">Returning Elements and Information</a>). 
</p></blockquote></div>

<div class="node">
<a name="Solid-Constructors-and-Setting-Functions"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Solid-Destructor">Solid Destructor</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Solid-Data-Members">Solid Data Members</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Solid-Reference">Solid Reference</a>

</div>

<h3 class="section">34.2 Constructors and Setting Functions</h3>

<div class="defun">
&mdash; Default constructor: <code>void</code> <b>Solid</b> (<code>void</code>)<var><a name="index-Solid-789"></a></var><br>
<blockquote><p>Creates an empty <code>Solid</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Copy constructor: <code>void</code> <b>Solid</b> (<var>const Solid&amp; s</var>)<var><a name="index-Solid-790"></a></var><br>
<blockquote><p>Creates a new <code>Solid</code> and makes it a copy of <var>s</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; Template specializations: Solid* <b>create_new&lt;Solid&gt;</b> (<var>const Solid* s</var>)<var><a name="index-create_005fnew_003cSolid_003e-791"></a></var><br>
&mdash; : Solid* <b>create_new&lt;Solid&gt;</b> (<var>const Solid&amp; s</var>)<var><a name="index-create_005fnew_003cSolid_003e-792"></a></var><br>
<blockquote><p>Pseudo-constructors for dynamic allocation of <code>Solids</code>. 
They create a <code>Solid</code> on the free store and allocate memory for it using
<code>new(Solid)</code>.  They return a pointer to the new <code>Solid</code>.

        <p>If <var>s</var> is a non-zero pointer or a reference,
the new <code>Solid</code> will be a copy of
<var>s</var>.  If the new object is not meant to be a
copy of an existing one, &lsquo;<samp><span class="samp">0</span></samp>&rsquo; must be passed to
<code>create_new&lt;Solid&gt;()</code> as its argument. 
See <a href="#Dynamic-Allocation-of-Shapes">Dynamic Allocation of Shapes</a>, for more information. 
</p></blockquote></div>

<div class="node">
<a name="Solid-Destructor"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Solid-Operators">Solid Operators</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Solid-Constructors-and-Setting-Functions">Solid Constructors and Setting Functions</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Solid-Reference">Solid Reference</a>

</div>

<h3 class="section">34.3 Destructor</h3>

<div class="defun">
&mdash; <code>virtual</code> Destructor: void <b>~Solid</b> (<code>void</code>)<var><a name="index-g_t_007eSolid-793"></a></var><br>
<blockquote><p>This function currently has an empty definition, but its existence
prevents GCC 3.3 from issuing the following warning:
&ldquo;`class Solid' has virtual functions but non-virtual destructor&rdquo;. 
</p></blockquote></div>

<div class="node">
<a name="Solid-Operators"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Copying-Solids">Copying Solids</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Solid-Destructor">Solid Destructor</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Solid-Reference">Solid Reference</a>

</div>

<h3 class="section">34.4 Operators</h3>

<div class="defun">
&mdash; Virtual function: const Solid&amp; <b>operator=</b> (<var>const Solid&amp; s</var>)<var><a name="index-operator_003d-794"></a></var><br>
<blockquote><p>Assignment operator.  Makes <code>*this</code> a copy of <var>s</var>, discarding
the old contents of <code>*this</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Virtual function: Transform <b>operator*=</b> (<var>const Transform&amp; t</var>)<var><a name="index-operator_002a_003d-795"></a></var><br>
<blockquote><p>Multiplication by a <code>Transform</code>.  All of the <code>Shapes</code> that
make up the <code>Solid</code> are transformed by <var>t</var>. 
</p></blockquote></div>

<div class="node">
<a name="Copying-Solids"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Setting-Solid-Members">Setting Solid Members</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Solid-Operators">Solid Operators</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Solid-Reference">Solid Reference</a>

</div>

<h3 class="section">34.5 Copying</h3>

<div class="defun">
&mdash; <code>const</code> virtual function: Shape* <b>get_copy</b> (<code>void</code>)<var><a name="index-get_005fcopy-796"></a></var><br>
<blockquote><p>Dynamically allocates a new <code>Solid</code> on the free store, using
<code>create_new&lt;Solid&gt;()</code>, and makes it a copy of <code>*this</code>.  Then, a
pointer to <code>Shape</code> is pointed at the copy and returned.  Used for
putting <code>Solids</code> onto <code>Picture::shapes</code> in the drawing and
filling functions for <code>Solid</code>. 
See <a href="#Drawing-and-Filling-Solids">Solid Reference; Drawing and Filling</a>. 
</p></blockquote></div>

<div class="node">
<a name="Setting-Solid-Members"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Querying-Solids">Querying Solids</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Copying-Solids">Copying Solids</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Solid-Reference">Solid Reference</a>

</div>

<h3 class="section">34.6 Setting Members</h3>

<div class="defun">
&mdash; Virtual function: bool <b>set_on_free_store</b> ([<var>bool b = </var><code>true</code>])<var><a name="index-set_005fon_005ffree_005fstore-797"></a></var><br>
<blockquote><p>Sets <code>on_free_store</code> to <var>b</var>.  This function is
called in the  template function
<code>create_new()</code>. 
See <a href="#Solid-Constructors-and-Setting-Functions">Solid Reference; Constructors and Setting Functions</a>. 
</p></blockquote></div>

<div class="node">
<a name="Querying-Solids"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Returning-Elements-and-Information-Solids">Returning Elements and Information Solids</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Setting-Solid-Members">Setting Solid Members</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Solid-Reference">Solid Reference</a>

</div>

<h3 class="section">34.7 Querying</h3>

<div class="defun">
&mdash; <code>const</code> virtual function: bool <b>is_on_free_store</b> (<code>void</code>)<var><a name="index-is_005fon_005ffree_005fstore-798"></a></var><br>
<blockquote><p>Returns the value of <code>on_free_store</code>; <code>true</code>, if the
<code>Solid</code> was dynamically allocated on the free store, otherwise
<code>false</code>. 
<code>Solids</code>, and objects of classes derived from <code>Solid</code>,
should only ever be allocated on the free store by
a specialization of the template function <code>create_new()</code>. 
See <a href="#Solid-Constructors-and-Setting-Functions">Solid Reference; Constructors and Setting Functions</a>. 
</p></blockquote></div>

<div class="node">
<a name="Returning-Elements-and-Information-Solids"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Showing-Solids">Showing Solids</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Querying-Solids">Querying Solids</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Solid-Reference">Solid Reference</a>

</div>

<h3 class="section">34.8 Returning Elements and Information</h3>

<div class="defun">
&mdash; <code>const</code> virtual function: const Point&amp; <b>get_center</b> (<var>void</var>)<var><a name="index-get_005fcenter-799"></a></var><br>
<blockquote><p>Returns <code>center</code>.  If the <code>Solid</code> doesn't
have a meaningful center, the return value will probably be
<code>INVALID_POINT</code>. 
</p></blockquote></div>

<ul class="menu">
<li><a accesskey="1" href="#Getting-Shape-Centers-Solids">Getting Shape Centers Solids</a>
<li><a accesskey="2" href="#Getting-Shapes-Solids">Getting Shapes Solids</a>
</ul>

<div class="node">
<a name="Getting-Shape-Centers-Solids"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Getting-Shapes-Solids">Getting Shapes Solids</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Returning-Elements-and-Information-Solids">Returning Elements and Information Solids</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Returning-Elements-and-Information-Solids">Returning Elements and Information Solids</a>

</div>

<h4 class="unnumberedsubsec">Getting Shape Centers</h4>

<div class="defun">
&mdash; <code>const</code> virtual function: const Point&amp; <b>get_shape_center</b> (<var>const unsigned short shape_type, const unsigned short s</var>)<var><a name="index-get_005fshape_005fcenter-800"></a></var><br>
<blockquote><p>Returns the <code>center</code> of a <code>Shape</code> belonging to the <code>Solid</code>. 
Currently, the object can be a <code>Circle</code>, <code>Ellipse</code>,
<code>Rectangle</code>, or <code>Reg_Polygon</code>, and it is accessed through a pointer
on one of the following vectors of pointers to <code>Shape</code>:
<code>circles</code>, <code>ellipses</code>,
<code>rectangles</code>, or <code>reg_polygons</code>. 
The type of
object is specified
using the <var>shape_type</var> argument. 
The following <code>public static const</code> data members of <code>Solid</code>
can (and probably should) be passed as the <var>shape_type</var> argument:
<code>CIRCLE</code>, <code>ELLIPSE</code>, <code>RECTANGLE</code>, and
<code>REG_POLYGON</code>.

        <p>The argument <var>s</var> is used to index the vector.

        <p>This function is called within the more specialized functions in this
section, namely: <code>get_circle_center()</code>,
<code>get_ellipse_center()</code>, <code>get_rectangle_center()</code>, and
<code>get_reg_polygon_center()</code>.  I don't expect it to be needed in user
code very often.

     <pre class="example">          Dodecahedron d(origin, 3);
          d.filldraw();
          Point C = d.get_shape_center(Solid::REG_POLYGON, 1);
          C.dotlabel("C");
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF182.png"
alt="[Figure 182. Not displayed.]" 
/>
<br>
<br>
Fig. 182. 
<br>
</p>

     <!-- !! NOTE.  LDF 2003.08.15. -->
        <p>Note that this function will have to be changed, if new vectors of
<code>Shape</code> pointers are added to <code>class Solid</code>! 
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> virtual functions: const Point&amp; <b>get_circle_center</b> (<var>const unsigned short s</var>)<var><a name="index-get_005fcircle_005fcenter-801"></a></var><br>
&mdash; : const Point&amp; <b>get_ellipse_center</b> (<var>const unsigned short s</var>)<var><a name="index-get_005fellipse_005fcenter-802"></a></var><br>
&mdash; : const Point&amp; <b>get_rectangle_center</b> (<var>const unsigned short s</var>)<var><a name="index-get_005frectangle_005fcenter-803"></a></var><br>
&mdash; : const Point&amp; <b>get_reg_polygon_center</b> (<var>const unsigned short s</var>)<var><a name="index-get_005freg_005fpolygon_005fcenter-804"></a></var><br>
<blockquote><p>These functions all return the center of the <code>Shape</code> pointed to by a pointer on
one of the vectors of <code>Shapes</code> belonging to the <code>Solid</code>.  The argument <var>s</var>
indicates which element on the vector is to be accessed.  For example,
<code>get_rectangle_center(2)</code> returns the center of the
<code>Rectangle</code> pointed to by <code>rectangles[2]</code>.

     <pre class="example">          Cuboid c(origin, 3, 4, 5, 0, 30);
          c.draw();
          for (int i = 0; i &lt; 6; ++i)
            c.get_rectangle_center(i).label(i, "");
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF183.png"
alt="[Figure 183. Not displayed.]" 
/>
<br>
<br>
Fig. 183. 
<br>
</p>

        </blockquote></div>

<div class="node">
<a name="Getting-Shapes-Solids"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Getting-Shape-Centers-Solids">Getting Shape Centers Solids</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Returning-Elements-and-Information-Solids">Returning Elements and Information Solids</a>

</div>

<h4 class="unnumberedsubsec">Getting Shapes</h4>

<p>The functions in this section
all return <code>const</code> pointers to <code>Shape</code>, or one of its derived
classes. Therefore, they must be invoked in such a way, that
the <code>const</code> qualifier is not discarded.  See
the description of <code>get_reg_polygon_ptr()</code> below, for an example.

<div class="defun">
&mdash; <code>const</code> virtual function: Shape* <b>get_shape_ptr</b> (<var>const unsigned short shape_type, const unsigned short s</var>)<var><a name="index-get_005fshape_005fptr-805"></a></var><br>
<blockquote><p>Copies one of the objects belonging to the <code>Solid</code>, and returns a
pointer to <code>Shape</code> that points to the copy. 
The object is found by dereferencing one of the pointers on one of the
vectors of pointers belonging to the <code>Solid</code>. 
Currently, these
vectors are <code>circles</code>, <code>ellipses</code>, <code>paths</code>,
<code>rectangles</code>, and <code>reg_polygons</code>.  The argument
<var>shape_type</var> specifies the vector, and the
argument <var>s</var> specifies which element of the vector should be
accessed.  The following <code>public static const</code> data members of
<code>Solid</code> can (and probably should) be passed as the <var>shape_type</var>
argument: <code>CIRCLE</code>, <code>ELLIPSE</code>, <code>PATH</code>, <code>RECTANGLE</code>,
and <code>REG_POLYGON</code>.

        <p>This function was originally intended to be called within the more
specialized functions in this
section, namely: <code>get_circle_ptr()</code>, <code>get_ellipse_ptr()</code>,
<code>get_path_ptr()</code>, <code>get_rectangle_ptr</code>, and <code>get_reg_polygon_ptr</code>. 
However, these functions no longer use <code>get_shape_ptr()</code>, so this
function is probably no longer needed.

     <pre class="example">          Icosahedron I(origin, 3);
          I.filldraw();
          Reg_Polygon* t =
          static_cast&lt;Reg_Polygon*&gt;(I.get_shape_ptr(Solid::REG_POLYGON, 9));
          t-&gt;fill(gray);
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF184.png"
alt="[Figure 184. Not displayed.]" 
/>
<br>
<br>
Fig. 184. 
<br>
</p>

        </blockquote></div>

<div class="defun">
&mdash; <code>const</code> virtual functions: const Reg_Polygon* <b>get_circle_ptr</b> (<var>const unsigned short s</var>)<var><a name="index-get_005fcircle_005fptr-806"></a></var><br>
&mdash; : const Reg_Polygon* <b>get_ellipse_ptr</b> (<var>const unsigned short s</var>)<var><a name="index-get_005fellipse_005fptr-807"></a></var><br>
&mdash; : const Reg_Polygon* <b>get_path_ptr</b> (<var>const unsigned short s</var>)<var><a name="index-get_005fpath_005fptr-808"></a></var><br>
&mdash; : const Reg_Polygon* <b>get_rectangle_ptr</b> (<var>const unsigned short s</var>)<var><a name="index-get_005frectangle_005fptr-809"></a></var><br>
&mdash; : const Reg_Polygon* <b>get_reg_polygon_ptr</b> (<var>const unsigned short s</var>)<var><a name="index-get_005freg_005fpolygon_005fptr-810"></a></var><br>
<blockquote><p>Each of these functions returns a pointer from one of the vectors of
<code>Shape</code> pointers belonging to the <code>Solid</code>.  The argument <var>s</var>
specifies which element of the appropriate vector should be returned. 
For example, <code>get_reg_polygon_ptr(2)</code> returns the <code>Reg_Polygon*</code>
in <code>reg_polygons[2]</code>.

        <p>Since these functions return <code>const</code> pointers, they must be invoked
in such a way, that the <code>const</code> qualifier is not discarded, as
noted at the beginning of this section.  The following example
demonstrates two ways of invoking <code>get_reg_polygon_ptr()</code>:

     <pre class="example">          Dodecahedron d(origin, 3);
          d.draw();
          const Reg_Polygon* ptr = d.get_reg_polygon_ptr(0);
          ptr-&gt;draw(black, "evenly scaled 4", "pencircle scaled 1mm");
          Reg_Polygon A = *d.get_reg_polygon_ptr(5);
          A.fill(gray);
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF185.png"
alt="[Figure 185. Not displayed.]" 
/>
<br>
<br>
Fig. 185. 
<br>
</p>

        </blockquote></div>

<div class="node">
<a name="Showing-Solids"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Affine-Transformations-for-Solids">Affine Transformations for Solids</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Returning-Elements-and-Information-Solids">Returning Elements and Information Solids</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Solid-Reference">Solid Reference</a>

</div>

<h3 class="section">34.9 Showing</h3>

<div class="defun">
&mdash; <code>const</code> virtual function: <code>void</code> <b>show</b> ([<var>string text = "", </var>[<var>char coords = 'w', </var>[<var>const bool do_persp = </var><code>true</code><var>, </var>[<var>const bool do_apply = </var><code>true</code><var>, </var>[<var>Focus* f = 0, </var>[<var>const unsigned short proj = </var><code>Projections::PERSP</code><var>, </var>[<var>const real factor = 1</var>]]]]]]])<var><a name="index-show-811"></a></var><br>
<blockquote><p>Prints <var>text</var> and the value of <code>on_free_store</code> to the standard
output (<code>stdout</code>), and then calls
<code>show()</code> on the objects pointed to by the pointers on
<code>paths</code>, <code>circles</code>, <code>ellipses</code>, <code>reg_polygons</code>, and
<code>rectangles</code>, unless the vectors are empty.  The arguments are
passed to <code>Path::show()</code>, <code>Ellipse::show()</code>, etc.  If a vector
is empty, a message to this effect is printed to the standard output. 
</p></blockquote></div>

<div class="node">
<a name="Affine-Transformations-for-Solids"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Applying-Transformations-to-Solids">Applying Transformations to Solids</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Showing-Solids">Showing Solids</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Solid-Reference">Solid Reference</a>

</div>

<h3 class="section">34.10 Affine Transformations</h3>

<div class="defun">
&mdash; Virtual functions: Transform <b>scale</b> (<var>real x, </var>[<var>real y = 0, </var>[<var>real z = 0</var>]])<var><a name="index-scale-812"></a></var><br>
<blockquote><p><code>Solid</code>.

   &mdash; : Transform <b>shear</b> (<var>real xy, </var>[<var>real xz = 0, </var>[<var>real yx = 0, </var>[<var>real yz = 0, </var>[<var>real zx = 0, </var>[<var>real zy = 0</var>]]]]])<var><a name="index-shear-813"></a></var><br>
&mdash; : Transform <b>shift</b> (<var>real x, </var>[<var>real y = 0, </var>[<var>real z = 0</var>]])<var><a name="index-shift-814"></a></var><br>
&mdash; : Transform <b>shift</b> (<var>const Point&amp; pt</var>)<var><a name="index-shift-815"></a></var><br>
&mdash; : Transform <b>rotate</b> (<var>const real x, </var>[<var>const real y = 0, </var>[<var>const real z = 0</var>]])<var><a name="index-rotate-816"></a></var><br>
&mdash; : Transform <b>rotate</b> (<var>const Point&amp; p0, const Point&amp; p1, </var>[<var>const real angle = 180</var>])<var><a name="index-rotate-817"></a></var><br>
<blockquote><p>These functions perform the corresponding transformations on all of the
<code>Shapes</code> belonging to the <code>Solid</code>. 
See <a href="#Affine-Transformations-for-Transforms">Transform Reference; Affine Transformations</a>. 
</p></blockquote></div>

<div class="node">
<a name="Applying-Transformations-to-Solids"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Outputting-Solids">Outputting Solids</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Affine-Transformations-for-Solids">Affine Transformations for Solids</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Solid-Reference">Solid Reference</a>

</div>

<h3 class="section">34.11 Applying Transformations</h3>

<div class="defun">
&mdash; Virtual function: void <b>apply_transform</b> (<code>void</code>)<var><a name="index-apply_005ftransform-818"></a></var><br>
<blockquote><p>Calls <code>apply_transform()</code> on all of the <code>Shapes</code> belonging to
the <code>Solid</code>. 
</p></blockquote></div>

<div class="node">
<a name="Outputting-Solids"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Drawing-and-Filling-Solids">Drawing and Filling Solids</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Applying-Transformations-to-Solids">Applying Transformations to Solids</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Solid-Reference">Solid Reference</a>

</div>

<h3 class="section">34.12 Outputting</h3>

<p>The functions in this section are are called, directly or indirectly, by
<code>Picture::output()</code>. 
See <a href="#Outputting-Pictures">Picture Reference; Outputting</a>.

<div class="defun">
&mdash; Virtual function: void <b>output</b> (<code>void</code>)<var><a name="index-output-819"></a></var><br>
<blockquote><p>Writes the MetaPost code for drawing, filling, filldrawing, undrawing,
unfilling, or unfilldrawing the <code>Solid</code> to <code>out_stream</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Virtual function: void <b>suppress_output</b> (<code>void</code>)<var><a name="index-suppress_005foutput-820"></a></var><br>
<blockquote><p>Used in <code>Picture::output()</code>.  Sets <code>do_output</code> to <code>false</code>, if the
<code>Solid</code> cannot be projected using a particular set of arguments to
<code>Picture::output()</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Virtual function: void <b>unsuppress_output</b> (<code>void</code>)<var><a name="index-unsuppress_005foutput-821"></a></var><br>
<blockquote><p>Used in <code>Picture::output()</code>.  Resets <code>do_output</code> to <code>true</code>,
so that the <code>Solid</code> will be tested for projectability again, if the
<code>Picture</code> it's on is output again. 
</p></blockquote></div>

<div class="defun">
&mdash; Virtual function: vector&lt;Shape*&gt; <b>extract</b> (<var>const Focus&amp; f, const unsigned short proj, real factor</var>)<var><a name="index-extract-822"></a></var><br>
<blockquote><p>Tests whether all of the <code>Shapes</code> belonging to the <code>Solid</code> are
projectable, using the arguments passed to <code>output()</code>.  If it is,
this function returns a
vector of pointers to <code>Shape</code> containing a single pointer to
the <code>Solid</code>.  If not, an empty vector is returned. 
</p></blockquote></div>

<div class="defun">
&mdash; Virtual function: bool <b>set_extremes</b> (<code>void</code>)<var><a name="index-set_005fextremes-823"></a></var><br>
<blockquote><p>Sets <code>projective_extremes</code> to contain the maximum and minimum
values for the x, y, and z-coordinates of the <code>Points</code> on the
<code>Shape</code>.  Used for determining projectability of a <code>Solid</code>
using a particular set of arguments. 
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> inline virtual function: const valarray&lt;real&gt; <b>get_extremes</b> (<code>void</code>)<var><a name="index-get_005fextremes-824"></a></var><br>
<blockquote><p>Returns <code>projective_extremes</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> virtual functions: real <b>get_minimum_z</b> (<code>void</code>)<var><a name="index-get_005fminimum_005fz-825"></a></var><br>
&mdash; : real <b>get_maximum_z</b> (<code>void</code>)<var><a name="index-get_005fmaximum_005fz-826"></a></var><br>
&mdash; : real <b>get_mean_z</b> (<code>void</code>)<var><a name="index-get_005fmean_005fz-827"></a></var><br>
<blockquote><p>Returns the minimum, maximum, or mean z-value, respectively, of the
<code>Points</code> belonging to the <code>Solid</code>. 
Used for surface hiding. 
See <a href="#Surface-Hiding">Surface Hiding</a>. 
</p></blockquote></div>

<div class="node">
<a name="Drawing-and-Filling-Solids"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Clearing-Solids">Clearing Solids</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Outputting-Solids">Outputting Solids</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Solid-Reference">Solid Reference</a>

</div>

<h3 class="section">34.13 Drawing and Filling</h3>

<div class="defun">
&mdash; <code>const</code> virtual function: void <b>draw</b> ([<var>const vector&lt;const Color*&gt; v = </var><code>Colors::default_color_vector</code><var>, </var>[<var>const string ddashed = "", </var>[<var>const string ppen = "", </var>[<var>Picture&amp; picture = </var><code>current_picture</code>]]]])<var><a name="index-draw-828"></a></var><br>
<blockquote><p>Draws the <code>Solid</code>.

        <p>This function allocates a new <code>Solid</code>, makes it a copy of
<code>*this</code>, and puts a pointer to the copy onto
<var>picture</var><code>.shapes</code>.  The data members of the <code>Shapes</code>
belonging to the copy are set appropriately, so that they can be drawn,
when <code>Picture::output()</code> is called.

        <p>The <code>Colors</code> used
for drawing the various
<code>Paths</code>, <code>Circles</code>, <code>Ellipses</code>, etc., belonging to the
<code>Solid</code> are passed in <var>v</var>.  If the <code>Solid</code> contains more
<code>Shapes</code> than <var>v</var> contains pointers to <code>Color</code>, the
<code>Color</code> pointed to by the last pointer on <var>v</var> is used to draw
the remaining <code>Shapes</code>.

        <p>Currently, a <code>Solid</code> can
only be drawn with a single dash pattern (<var>ddashed</var>), and
pen (<var>ppen</var>). 
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> virtual function: void <b>fill</b> ([<var>const vector&lt;const Color*&gt; v = </var><code>Colors::default_color_vector</code><var>, </var>[<var>Picture&amp; picture = </var><code>current_picture</code>]])<var><a name="index-fill-829"></a></var><br>
<blockquote><p>Fills the <code>Solid</code>.

        <p>This function allocates a new <code>Solid</code> makes it a copy of <code>*this</code>, and puts a
pointer to it onto <var>picture</var>.<code>shapes</code>. 
The data members of the <code>Shapes</code>
belonging to the copy are set appropriately, so that they can be filled,
when <code>Picture::output()</code> is called.

        <p>The <code>Colors</code> used
for filling the various
<code>Paths</code>, <code>Circles</code>, <code>Ellipses</code>, etc., belonging to the
<code>Solid</code> are passed in <var>v</var>. 
If the <code>Solid</code> contains more
<code>Shapes</code> than <var>v</var> contains pointers to <code>Color</code>, the
<code>Color</code> pointed to by the last pointer on <var>v</var> is used to fill
the remaining <code>Shapes</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> virtual function: void <b>filldraw</b> ([<var>const vector&lt;const Color*&gt; draw_colors = Colors::default_color_vector, </var>[<var>const vector&lt;const Color*&gt; fill_colors = Colors::background_color_vector, </var>[<var>const string ddashed = "", </var>[<var>const string ppen = "", </var>[<var>Picture&amp; picture = </var><code>current_picture</code>]]]]])<var><a name="index-filldraw-830"></a></var><br>
<blockquote><p>Filldraws the <code>Solid</code>.

        <p>This function allocates a new <code>Solid</code>, makes it a copy of <code>*this</code>, and puts a
pointer to it onto <var>picture</var><code>.shapes</code>. 
The data members of the <code>Shapes</code>
belonging to the copy are set appropriately, so that they can be filldrawn,
when <code>Picture::output()</code> is called.

        <p>The <code>Colors</code> used
for drawing and filling the various
<code>Paths</code>, <code>Circles</code>, <code>Ellipses</code>, etc., belonging to the
<code>Solid</code> are passed in <var>draw_colors</var> and <var>fill_colors</var>. 
If the <code>Solid</code> contains more
<code>Shapes</code> than <var>draw_colors</var> contains pointers to <code>Color</code>, the
<code>Color</code> pointed to by the last pointer on <var>draw_colors</var> is used to draw
the remaining <code>Shapes</code>.  The same applies to <code>fill_colors</code>.

        <p>Currently, a <code>Solid</code> can only be filldrawn with a single dash
pattern (<var>ddashed</var>), and pen (<var>ppen</var>). 
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> virtual function: void <b>undraw</b> ([<var>const string ddashed = "", </var>[<var>const string ppen = "", </var>[<var>Picture&amp; picture = </var><code>current_picture</code>]]])<var><a name="index-undraw-831"></a></var><br>
<blockquote><p>Undraws the <code>Solid</code>.

        <p>This function allocates a new <code>Solid</code>, makes it a copy of <code>*this</code>, and puts a
pointer to it onto <var>picture</var>.<code>shapes</code>. 
The data members of the <code>Shapes</code>
belonging to the copy are set appropriately, so that they can be undrawn,
when <code>Picture::output()</code> is called.

        <p>A <code>Solid</code> can currently only be undrawn using a single dash
pattern (<var>ddashed</var>), and
pen (<var>ppen</var>). 
</p></blockquote></div>

<div class="defun">
&mdash; <code>const</code> virtual function: void <b>unfill</b> ([<var>Picture&amp; picture = </var><code>current_picture</code>])<var><a name="index-unfill-832"></a></var><br>
<blockquote><p>Unfills the <code>Solid</code>.

        <p>This function allocates a new <code>Solid</code> makes it a copy of
<code>*this</code>, and puts a pointer to it onto <var>picture</var>.<code>shapes</code>. 
The data members of the <code>Shapes</code>
belonging to the copy are set appropriately, so that they can be unfilled,
when <code>Picture::output()</code> is called.

        </blockquote></div>

<div class="defun">
&mdash; <code>const</code> virtual function: void <b>unfilldraw</b> ([<var>const string ddashed = "", </var>[<var>const string ppen = "", </var>[<var>Picture&amp; picture = </var><code>current_picture</code>]]])<var><a name="index-unfilldraw-833"></a></var><br>
&mdash; <code>const</code> virtual function: void <b>undraw</b> ([<var>const string ddashed = "", </var>[<var>const string ppen = "", </var>[<var>Picture&amp; picture = </var><code>current_picture</code>]]])<var><a name="index-undraw-834"></a></var><br>
<blockquote><p>Unfilldraws the <code>Solid</code>.

        <p>This function allocates a new <code>Solid</code>, makes it a copy of
<code>*this</code>, and puts a
pointer to it onto <var>picture</var>.<code>shapes</code>.  The data members of the
<code>Shapes</code>
belonging to the copy are set appropriately, so that they can be
unfilldrawn, when <code>Picture::output()</code> is called.

        <p>A <code>Solid</code> can currently only be unfilldrawn using a single dash
pattern (<var>ddashed</var>), and
pen (<var>ppen</var>). 
</p></blockquote></div>

<div class="node">
<a name="Clearing-Solids"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Drawing-and-Filling-Solids">Drawing and Filling Solids</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Solid-Reference">Solid Reference</a>

</div>

<h3 class="section">34.14 Clearing</h3>

<div class="defun">
&mdash; Virtual function: void <b>clear</b> (<code>void</code>)<var><a name="index-clear-835"></a></var><br>
<blockquote><p>Calls <code>clear()</code> on all the <code>Shapes</code> belonging to the
<code>Solid</code>. 
Used in <code>Picture::clear()</code> for deallocating
and destroying <code>Solids</code>.

        <p>Currently, &lt;<var>Shape</var>&gt;.<code>clear()</code> always resolves to
<code>Path::clear()</code>, since none of the other types of <code>Shape</code> that a
<code>Solid</code> can contain, e.g., <code>Ellipse</code>, <code>Circle</code>, etc.,
overloads <code>Path::clear()</code>. 
</p></blockquote></div>

<!-- solfaced.texi -->
<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
<div class="node">
<a name="Faced-Solid-Reference"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Cuboid-Reference">Cuboid Reference</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Solid-Reference">Solid Reference</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">35 Faced Solid Reference</h2>

<p><a name="index-Solid_005fFaced-836"></a>Class <code>Solid_Faced</code> is defined in <samp><span class="file">solfaced.web</span></samp>. 
It is derived from <code>Solid</code> using public derivation.

   <p><code>Solid_Faced</code> currently has no member functions.  It is intended
for use as a base class.  The classes <code>Cuboid</code> and
<code>Polyhedron</code> are derived from <code>Solid_Faced</code>. 
See <a href="#Cuboid-Reference">Cuboid Reference</a>, and <a href="#Polyhedron-Reference">Polyhedron Reference</a>.

<ul class="menu">
<li><a accesskey="1" href="#Solid_005fFaced-Data-Members">Solid_Faced Data Members</a>
</ul>

<div class="node">
<a name="Solid_Faced-Data-Members"></a>
<a name="Solid_005fFaced-Data-Members"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Faced-Solid-Reference">Faced Solid Reference</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Faced-Solid-Reference">Faced Solid Reference</a>

</div>

<h3 class="section">35.1 Data Members</h3>

<div class="defun">
&mdash; Protected variable: unsigned short <b>faces</b><var><a name="index-faces-837"></a></var><br>
<blockquote><p>The number of faces of the <code>Solid_Faced</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Protected variable: unsigned short <b>vertices</b><var><a name="index-vertices-838"></a></var><br>
<blockquote><p>The number of vertices of the <code>Solid_Faced</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Protected variable: unsigned short <b>edges</b><var><a name="index-edges-839"></a></var><br>
<blockquote><p>The number of edges of the <code>Solid_Faced</code>. 
</p></blockquote></div>

<!-- cuboid.texi -->
<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
<div class="node">
<a name="Cuboid-Reference"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Polyhedron-Reference">Polyhedron Reference</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Faced-Solid-Reference">Faced Solid Reference</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">36 Cuboid Reference</h2>

<p><a name="index-Cuboid-840"></a>Class <code>Cuboid</code> is defined in <samp><span class="file">cuboid.web</span></samp>. 
It is derived from <code>Solid_Faced</code> using public derivation.

<ul class="menu">
<li><a accesskey="1" href="#Cuboid-Data-Members">Cuboid Data Members</a>
<li><a accesskey="2" href="#Cuboid-Constructors-and-Setting-Functions">Cuboid Constructors and Setting Functions</a>
<li><a accesskey="3" href="#Cuboid-Operators">Cuboid Operators</a>
</ul>

<div class="node">
<a name="Cuboid-Data-Members"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Cuboid-Constructors-and-Setting-Functions">Cuboid Constructors and Setting Functions</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Cuboid-Reference">Cuboid Reference</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Cuboid-Reference">Cuboid Reference</a>

</div>

<h3 class="section">36.1 Data Members</h3>

<div class="defun">
&mdash; Protected variables: real <b>height</b><var><a name="index-height-841"></a></var><br>
&mdash; : real <b>width</b><var><a name="index-width-842"></a></var><br>
&mdash; : real <b>depth</b><var><a name="index-depth-843"></a></var><br>
<blockquote><p>The height, width, and depth of the <code>Cuboid</code>, respectively.

        <p>Please note, that &ldquo;<code>height</code>&rdquo;, &ldquo;<code>width</code>&rdquo;, and
&ldquo;<code>depth</code>&rdquo; are conventional terms.  There are no restrictions on
the orientation of a <code>Cuboid</code>. 
</p></blockquote></div>

<div class="node">
<a name="Cuboid-Constructors-and-Setting-Functions"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Cuboid-Operators">Cuboid Operators</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Cuboid-Data-Members">Cuboid Data Members</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Cuboid-Reference">Cuboid Reference</a>

</div>

<h3 class="section">36.2 Constructors and Setting Functions</h3>

<div class="defun">
&mdash; Default constructor: void <b>Cuboid</b> (<code>void</code>)<var><a name="index-Cuboid-844"></a></var><br>
<blockquote><p>Creates an empty <code>Cuboid</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Copy constructor: void <b>Cuboid</b> (<var>const Cuboid&amp; c</var>)<var><a name="index-Cuboid-845"></a></var><br>
<blockquote><p>Creates a new <code>Cuboid</code> and makes it a copy of <var>c</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; Constructor: void <b>Cuboid</b> (<var>const Point&amp; c, const real h, const real w, const real d, </var>[<var>const real x = 0, </var>[<var>const real y = 0, </var>[<var>const real z = 0</var>]]])<var><a name="index-Cuboid-846"></a></var><br>
<blockquote><p>Creates a <code>Cuboid</code> with <code>center</code> at the origin, with
<code>height</code> == <var>h</var>, <code>width</code> == <var>w</var>, and
<code>depth</code> == <var>d</var>.  If <var>x</var>, <var>y</var>, or <var>z</var> is
non-zero, the <code>Cuboid</code> is rotated by the amounts indicated around
the corresponding main axes.  Finally, the
<code>Cuboid</code> is shifted such that <code>center</code> comes to lie at
<var>c</var>.

     <pre class="example">          Point P(-3, -2, 12);
          Cuboid c(P, 3, 5, 2.93, 35, 10, 60);
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF186.png"
alt="[Figure 186. Not displayed.]" 
/>
<br>
<br>
Fig. 186. 
<br>
</p>

        </blockquote></div>

<div class="defun">
&mdash; Template specializations: Cuboid* <b>create_new&lt;Cuboid&gt;</b> (<var>const Cuboid* c</var>)<var><a name="index-create_005fnew_003cCuboid_003e-847"></a></var><br>
&mdash; : Cuboid* <b>create_new&lt;Cuboid&gt;</b> (<var>const Cuboid&amp; c</var>)<var><a name="index-create_005fnew_003cCuboid_003e-848"></a></var><br>
<blockquote><p>Pseudo-constructors for dynamic allocation of <code>Cuboids</code>. 
They create a <code>Cuboid</code> on the free store and allocate memory for it using
<code>new(Cuboid)</code>.  They return a pointer to the new <code>Cuboid</code>.

        <p>If <var>c</var> is a non-zero pointer or a reference,
the new <code>Cuboid</code> will be a copy of
<var>c</var>.  If the new object is not meant to be a
copy of an existing one, &lsquo;<samp><span class="samp">0</span></samp>&rsquo; must be passed to
<code>create_new&lt;Cuboid&gt;()</code> as its argument. 
See <a href="#Dynamic-Allocation-of-Shapes">Dynamic Allocation of Shapes</a>, for more information. 
</p></blockquote></div>

<div class="defun">
&mdash; Destructor: void <b>~Cuboid</b> (<code>void</code>)<var><a name="index-g_t_007eCuboid-849"></a></var><br>
<blockquote><p>Deallocates the <code>Rectangles</code> pointed to by the pointers on
<code>rectangles</code> (a <code>Solid</code> data member), and calls
<code>rectangles.clear()</code>.  <code>Cuboids</code> consist entirely of
<code>Rectangles</code>, so nothing must be done to the other vectors. 
</p></blockquote></div>

<div class="node">
<a name="Cuboid-Operators"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Cuboid-Constructors-and-Setting-Functions">Cuboid Constructors and Setting Functions</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Cuboid-Reference">Cuboid Reference</a>

</div>

<h3 class="section">36.3 Operators</h3>

<div class="defun">
&mdash; Assignment operator: void <b>operator=</b> (<var>const Cuboid&amp; c</var>)<var><a name="index-operator_003d-850"></a></var><br>
<blockquote><p>Makes the <code>Cuboid</code> a copy of <var>c</var>.  The old contents of <code>*this</code>
are deallocated (where necessary) and discarded. 
</p></blockquote></div>

<!-- polyhed.texi -->
<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
<div class="node">
<a name="Polyhedron-Reference"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Utility-Functions">Utility Functions</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Cuboid-Reference">Cuboid Reference</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">37 Polyhedron Reference</h2>

<p><a name="index-Polyhedron-851"></a>Class <code>Polyhedron</code> is defined in <samp><span class="file">polyhed.web</span></samp>. 
It is derived from <code>Solid_Faced</code> using public derivation.  It is
intended for use as a base class for specific types of polyhedra. 
Currently, the classes <code>Tetrahedron</code>, <code>Dodecahedron</code>,
<code>Icosahedron</code>, and <code>Trunc_Octahedron</code> (truncated octahedron)
are derived from <code>Polyhedron</code>.

   <p>There is a great deal of work left to do on the polyhedra.

<ul class="menu">
<li><a accesskey="1" href="#Polyhedron-Data-Members">Polyhedron Data Members</a>
<li><a accesskey="2" href="#Regular-Platonic-Polyhedra">Regular Platonic Polyhedra</a>
<li><a accesskey="3" href="#Semi_002dRegular-Archimedean-Polyhedra">Semi-Regular Archimedean Polyhedra</a>
</ul>

<div class="node">
<a name="Polyhedron-Data-Members"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Regular-Platonic-Polyhedra">Regular Platonic Polyhedra</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Polyhedron-Reference">Polyhedron Reference</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Polyhedron-Reference">Polyhedron Reference</a>

</div>

<h3 class="section">37.1 Data Members</h3>

<div class="defun">
&mdash; Protected variable: unsigned short <b>number_of_polygon_types</b><var><a name="index-number_005fof_005fpolygon_005ftypes-852"></a></var><br>
<blockquote><p>The number of different types of polygon making up the faces of a
<code>Polyhedron</code>.  The Platonic polyhedra have only one type of face,
while the Archimedean can have more. 
</p></blockquote></div>

<div class="defun">
&mdash; Protected variable: real <b>face_radius</b><var><a name="index-face_005fradius-853"></a></var><br>
<blockquote><p>The radius of the sphere that touches the centers of the polygonal faces
of the polyhedron (<em>Inkugel</em>, in German). 
</p></blockquote></div>

<div class="defun">
&mdash; Protected variable: real <b>edge_radius</b><var><a name="index-edge_005fradius-854"></a></var><br>
<blockquote><p>The radius of the sphere that touches the centers of the edges of the
polyhedron. 
<!-- ?? GERMAN TERM?? IS IT ALWAYS THE CENTERS?? -->
</p></blockquote></div>

<div class="defun">
&mdash; Protected variable: real <b>vertex_radius</b><var><a name="index-vertex_005fradius-855"></a></var><br>
<blockquote><p>The radius of the sphere touching the vertices of the polyhedron
(<em>Umkugel</em>, in German). 
</p></blockquote></div>

<div class="node">
<a name="Regular-Platonic-Polyhedra"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Semi_002dRegular-Archimedean-Polyhedra">Semi-Regular Archimedean Polyhedra</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Polyhedron-Data-Members">Polyhedron Data Members</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Polyhedron-Reference">Polyhedron Reference</a>

</div>

<h3 class="section">37.2 Regular Platonic Polyhedra</h3>

<p>3DLDF currently has classes for three of the five regular Platonic
polyhedra: <code>Tetrahedron</code>, <code>Dodecahedron</code>, and
<code>Icosahedron</code>.  There is no need for a special <code>Cube</code> class,
because cubes can be created using <code>Cuboid</code> with equal width,
height, and depth arguments (see <a href="#Cuboid-Reference">Cuboid Reference</a>).  <code>Octahedron</code> is
missing at the moment, but I plan to add it soon.

<ul class="menu">
<li><a accesskey="1" href="#Tetrahedron">Tetrahedron</a>
<li><a accesskey="2" href="#Dodecahedron">Dodecahedron</a>
<li><a accesskey="3" href="#Icosahedron">Icosahedron</a>
</ul>

<div class="node">
<a name="Tetrahedron"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Dodecahedron">Dodecahedron</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Regular-Platonic-Polyhedra">Regular Platonic Polyhedra</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Regular-Platonic-Polyhedra">Regular Platonic Polyhedra</a>

</div>

<h4 class="subsection">37.2.1 Tetrahedron</h4>

<p><a name="index-Tetrahedron-856"></a>Class <code>Tetrahedron</code> is defined in <samp><span class="file">polyhed.web</span></samp>. 
It is derived from <code>Polyhedron</code> using public derivation.

<ul class="menu">
<li><a accesskey="1" href="#Tetrahedron-Data-Members">Tetrahedron Data Members</a>
<li><a accesskey="2" href="#Tetrahedron-Constructors-and-Setting-Functions">Tetrahedron Constructors and Setting Functions</a>
<li><a accesskey="3" href="#Tetrahedron-Net">Tetrahedron Net</a>
</ul>

<div class="node">
<a name="Tetrahedron-Data-Members"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Tetrahedron-Constructors-and-Setting-Functions">Tetrahedron Constructors and Setting Functions</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Tetrahedron">Tetrahedron</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Tetrahedron">Tetrahedron</a>

</div>

<h5 class="subsubsection">37.2.1.1 Data Members</h5>

<div class="defun">
&mdash; Protected static <code>const</code> variable: real <b>dihedral_angle</b><var><a name="index-dihedral_005fangle-857"></a></var><br>
<blockquote><p>The angle in radians between the faces of the <code>Tetrahedron</code>, namely
70 degrees
 32'
. 
Only
the Platonic polyhedra have a single dihedral angle, so
<code>dihedral_angle</code> is not a member of
<code>Polyhedron</code>.  This means that it must be a member of all of the
classes representing Platonic polyhedra. 
<!-- !! TO DO:  Make illustration. -->
</p></blockquote></div>

<div class="defun">
&mdash; Protected variable: real <b>triangle_radius</b><var><a name="index-triangle_005fradius-858"></a></var><br>
<blockquote><p>The radius of the circle enclosing a triangular face of the
<code>Tetrahedron</code>. 
<!-- !! TO DO:  Make illustration. -->
</p></blockquote></div>

<div class="node">
<a name="Tetrahedron-Constructors-and-Setting-Functions"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Tetrahedron-Net">Tetrahedron Net</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Tetrahedron-Data-Members">Tetrahedron Data Members</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Tetrahedron">Tetrahedron</a>

</div>

<h5 class="subsubsection">37.2.1.2 Constructors and Setting Functions</h5>

<div class="defun">
&mdash; Default constructor: void <b>Tetrahedron</b> (<code>void</code>)<var><a name="index-Tetrahedron-859"></a></var><br>
<blockquote><p>Creates an empty <code>Tetrahedron</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Constructor: void <b>Tetrahedron</b> (<var>const Point&amp; p, const real diameter_of_triangle, </var>[<var>real angle_x = 0, </var>[<var>real angle_y = 0, </var>[<var>real angle_z = 0</var>]]])<var><a name="index-Tetrahedron-860"></a></var><br>
<blockquote><p>Creates a <code>Tetrahedron</code> with its center at the origin. 
The faces have enclosing circles of diameter
<var>diameter_of_triangle</var>.  If any of <var>angle_x</var>, <var>angle_y</var>, or
<var>angle_z</var> is non-zero, the <code>Tetrahedron</code> is rotated by the
amounts specified around the corresponding axes.  Finally, if <var>p</var> is
not the origin, the <code>Tetrahedron</code> is shifted such that
<code>center</code> comes to lie at <var>p</var>.

        <p>The center of a <code>Tetrahedron</code> is the intersection of the line
segments connecting the vertices with the centers of the opposite
faces.

     <pre class="example">          Tetrahedron t(origin, 3);
          t.draw();
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF187.png"
alt="[Figure 187. Not displayed.]" 
/>
<br>
<br>
Fig. 187. 
<br>
</p>

     <pre class="example">          Point P(1, 0, 1);
          Tetrahedron t(P, 2.75, 30, 32.5, 20);
          t.draw();
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF188.png"
alt="[Figure 188. Not displayed.]" 
/>
<br>
<br>
Fig. 188. 
<br>
</p>

        </blockquote></div>

<div class="defun">
&mdash; Setting function: void <b>set</b> (<var>const Point&amp; p, const real diameter_of_triangle, </var>[<var>real angle_x = 0, </var>[<var>real angle_y = 0, </var>[<var>real angle_z = 0</var>]]])<var><a name="index-set-861"></a></var><br>
<blockquote><p>Corresponds to the constructor above. 
</p></blockquote></div>

<div class="node">
<a name="Tetrahedron-Net"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Tetrahedron-Constructors-and-Setting-Functions">Tetrahedron Constructors and Setting Functions</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Tetrahedron">Tetrahedron</a>

</div>

<h5 class="subsubsection">37.2.1.3 Net</h5>

<div class="defun">
&mdash; Static function: vector&lt;Reg_Polygon*&gt; <b>get_net</b> (<var>const real triangle_diameter</var>)<var><a name="index-get_005fnet-862"></a></var><br>
<blockquote><p>Returns the <dfn>net</dfn> of the <code>Tetrahedron</code>, i.e., the
two-dimensional pattern of triangles that can be folded into
a model of a tetrahedron.<a rel="footnote" href="#fn-45" name="fnd-45"><sup>45</sup></a>
The net lies in the x-z plane.  The triangles
have enclosing circles of diameter <var>triangle_diameter</var>.  The center
of the middle triangle is at the origin.

     <pre class="example">          vector&lt;Reg_Polygon*&gt; vrp = Tetrahedron::get_net(2);
          for (vector&lt;Reg_Polygon*&gt;::iterator iter = vrp.begin();
               iter != vrp.end();
               ++iter)
            {
              (**iter).draw();
            }
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF189.png"
alt="[Figure 189. Not displayed.]" 
/>
<br>
<br>
Fig. 189. 
<br>
</p>

        <p>This function is used in the non-default constructor. 
See <a href="#Tetrahedron-Constructors-and-Setting-Functions">Polyhedron Reference; Regular Platonic Polyhedra; Tetrahedron; Constructors and Setting Functions</a>. 
The constructor starts with the net and rotates three of the triangles
about the adjacent vertices of the middle triangle.  Currently, all of
the <code>Polyhedron</code> constructors work this way. 
However, this is not ideal, because rotation uses the sine and cosine
functions, which cause inaccuracies to creep in. 
I think there must be a better way of constructing <code>Polyhedra</code>, but
I haven't found one yet.

        <p>The <code>Polyhedron</code> constructors are also especially
sensitive to changes made to <code>Transform::align_with_axis()</code>. 
I have already had to rewrite them twice, and since
<code>Transform::align_with_axis()</code> may need to be changed or rewritten
again, it's possible that the <code>Polyhedron</code> constructors will have
to be, too.  It has also occurred in the past, that the <code>Polyhedra</code>
were constructed correctly on one platform, using a particular compiler,
but not on another platform, using a different compiler. 
</p></blockquote></div>

<div class="defun">
&mdash; Static function: void <b>draw_net</b> (<var>const real triangle_diameter, </var>[<var>bool make_tabs = </var><code>true</code>])<var><a name="index-draw_005fnet-863"></a></var><br>
<blockquote><p>Draws the net for a <code>Tetrahedron</code> in the x-y plane. 
The triangles
have enclosing circles of diameter <var>triangle_diameter</var>.  The
origin is used as the center of the middle triangle. 
The centers of the triangles are numbered. 
If the argument <var>make_tabs</var> is used, tabs for gluing and/or sewing a
cardboard model of the <code>Tetrahedron</code> together will be drawn, too. 
The dots on the tabs mark where to stick the needle through, when sewing
the model together (I've had good results with sewing).

     <pre class="example">          Tetrahedron::draw_net(3, true);
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF190.png"
alt="[Figure 190. Not displayed.]" 
/>
<br>
<br>
Fig. 190. 
<br>
</p>

        <p>The net is drawn in the x-y plane, because it currently doesn't work to
draw it in the x-z plane.  I haven't gotten around to fixing this
problem yet. 
</p></blockquote></div>

<div class="node">
<a name="Dodecahedron"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Icosahedron">Icosahedron</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Tetrahedron">Tetrahedron</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Regular-Platonic-Polyhedra">Regular Platonic Polyhedra</a>

</div>

<h4 class="subsection">37.2.2 Dodecahedron</h4>

<p><a name="index-Dodecahedron-864"></a>Class <code>Dodecahedron</code> is defined in <samp><span class="file">polyhed.web</span></samp>. 
It is derived from <code>Polyhedron</code> using public derivation.

   <p>Dodecahedra have 12 regular pentagonal faces.

<ul class="menu">
<li><a accesskey="1" href="#Dodecahedron-Data-Members">Dodecahedron Data Members</a>
<li><a accesskey="2" href="#Dodecahedron-Constructors-and-Setting-Functions">Dodecahedron Constructors and Setting Functions</a>
<li><a accesskey="3" href="#Dodecahedron-Net">Dodecahedron Net</a>
</ul>

<div class="node">
<a name="Dodecahedron-Data-Members"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Dodecahedron-Constructors-and-Setting-Functions">Dodecahedron Constructors and Setting Functions</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Dodecahedron">Dodecahedron</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Dodecahedron">Dodecahedron</a>

</div>

<h5 class="subsubsection">37.2.2.1 Data Members</h5>

<div class="defun">
&mdash; Protected static <code>const</code> variable: real <b>dihedral_angle</b><var><a name="index-dihedral_005fangle-865"></a></var><br>
<blockquote><p>The angle between the faces of the <code>Dodecahedron</code>,
namely
116 degrees
 34'
 = \pi - \arctan(2). 
<!-- !! TO DO:  Make illustration. -->
</p></blockquote></div>

<div class="defun">
&mdash; Protected variable: real <b>pentagon_radius</b><var><a name="index-pentagon_005fradius-866"></a></var><br>
<blockquote><p>The radius of the circle enclosing a pentagonal face of the
<code>Dodecahedron</code>. 
<!-- !! TO DO:  Make illustration. -->
</p></blockquote></div>

<div class="node">
<a name="Dodecahedron-Constructors-and-Setting-Functions"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Dodecahedron-Net">Dodecahedron Net</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Dodecahedron-Data-Members">Dodecahedron Data Members</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Dodecahedron">Dodecahedron</a>

</div>

<h5 class="subsubsection">37.2.2.2 Constructors and Setting Functions</h5>

<div class="defun">
&mdash; Default constructor: void <b>Dodecahedron</b> (<code>void</code>)<var><a name="index-Dodecahedron-867"></a></var><br>
<blockquote><p>Creates an empty <code>Dodecahedron</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Constructor: void <b>Dodecahedron</b> (<var>const Point&amp; p, const real pentagon_diameter, </var>[<var>real angle_x = 0, </var>[<var>real angle_y = 0, </var>[<var>real angle_z = 0</var>]]])<var><a name="index-Dodecahedron-868"></a></var><br>
<blockquote><p>Creates a <code>Dodecahedron</code> with its center at the origin, where the
pentagonal faces have enclosing circles of diameter
<var>pentagon_diameter</var>.  If any of <var>angle_x</var>, <var>angle_y</var>, or
<var>angle_z</var> is non-zero, the <code>Dodecahedron</code> is rotated by the
amounts specified around the corresponding axes.  Finally, if <var>p</var> is
not the origin, the <code>Dodecahedron</code> is shifted such that
<code>center</code> comes to lie at <var>p</var>.

     <pre class="example">          Point P(-1, -2, 4);
          Dodecahedron d(P, 3, 12.5, 16, 2);
          d.draw();
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF191.png"
alt="[Figure 191. Not displayed.]" 
/>
<br>
<br>
Fig. 191. 
<br>
</p>

     <pre class="example">          d.filldraw();
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF192.png"
alt="[Figure 192. Not displayed.]" 
/>
<br>
<br>
Fig. 192. 
<br>
</p>

        </blockquote></div>

<div class="node">
<a name="Dodecahedron-Net"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Dodecahedron-Constructors-and-Setting-Functions">Dodecahedron Constructors and Setting Functions</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Dodecahedron">Dodecahedron</a>

</div>

<h5 class="subsubsection">37.2.2.3 Net</h5>

<div class="defun">
&mdash; Static function: vector&lt;Reg_Polygon*&gt; <b>get_net</b> (<var>const real pentagon_diameter, </var>[<var>bool do_half = false</var>])<var><a name="index-get_005fnet-869"></a></var><br>
<blockquote><p>Returns the <dfn>net</dfn>, i.e., the two-dimensional pattern of pentagons
that can be folded into a model of a dodecahedron.  The net lies
in the x-z plane.  The pentagons have enclosing circles of diameter
<var>pentagon_diameter</var>.  The center of the center pentagon of the first
half of the net is at the origin.  If the argument
<var>do_half</var> is <code>true</code>, only the first half of the
net is created.  This is used in the non-default constructor. 
See <a href="#Dodecahedron-Constructors-and-Setting-Functions">Polyhedron Reference; Regular Platonic Polyhedra; Dodecahedron; Constructors and Setting Functions</a>.

     <pre class="example">          vector&lt;Reg_Polygon*&gt; vrp = Dodecahedron::get_net(1);
          for(vector&lt;Reg_Polygon*&gt;::iterator iter = vrp.begin();
              iter != vrp.end(); ++iter)
                 (**iter).draw();
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF193.png"
alt="[Figure 193. Not displayed.]" 
/>
<br>
<br>
Fig. 193. 
<br>
</p>

     </blockquote></div>

<div class="defun">
&mdash; Static function: void <b>draw_net</b> (<var>const real pentagon_diameter, </var>[<var>bool portrait = </var><code>true</code><var>, </var>[<var>bool make_tabs = </var><code>true</code>]])<var><a name="index-draw_005fnet-870"></a></var><br>
<blockquote><p>Draws the net for a <code>Dodecahedron</code> in the x-z plane.  The pentagons
have enclosing circles of diameter <var>pentagon_diameter</var>.  The
origin is used as the center of the middle pentagon of the first half of
the net.  The centers of the pentagons are numbered.

        <p>If the argument <var>portrait</var> is <code>true</code> (the default), the net
is arranged for printing in portrait format.  If it's <code>false</code>,
it's arranged for printing in landscape format.

        <p>The argument <var>make_tabs</var> currently has no effect. 
When I get around to programming this, it will be used for specifying
whether tabs for gluing and/or sewing a cardboard model should be drawn,
too.

     <pre class="example">          Dodecahedron::draw_net(1, false);
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF194.png"
alt="[Figure 194. Not displayed.]" 
/>
<br>
<br>
Fig. 194. 
<br>
</p>

        </blockquote></div>

<div class="node">
<a name="Icosahedron"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Dodecahedron">Dodecahedron</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Regular-Platonic-Polyhedra">Regular Platonic Polyhedra</a>

</div>

<h4 class="subsection">37.2.3 Icosahedron</h4>

<p><a name="index-Icosahedron-871"></a>Class <code>Icosahedron</code> is defined in <samp><span class="file">polyhed.web</span></samp>. 
It is derived from <code>Polyhedron</code> using public derivation.

   <p>Icosahedra have 20 regular triangular faces.

<ul class="menu">
<li><a accesskey="1" href="#Icosahedron-Data-Members">Icosahedron Data Members</a>
<li><a accesskey="2" href="#Icosahedron-Constructors-and-Setting-Functions">Icosahedron Constructors and Setting Functions</a>
<li><a accesskey="3" href="#Icosahedron-Net">Icosahedron Net</a>
</ul>

<div class="node">
<a name="Icosahedron-Data-Members"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Icosahedron-Constructors-and-Setting-Functions">Icosahedron Constructors and Setting Functions</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Icosahedron">Icosahedron</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Icosahedron">Icosahedron</a>

</div>

<h5 class="subsubsection">37.2.3.1 Data Members</h5>

<div class="defun">
&mdash; Protected static <code>const</code> variable: real <b>dihedral_angle</b><var><a name="index-dihedral_005fangle-872"></a></var><br>
<blockquote><p>The angle between the faces of the <code>Icosahedron</code>, namely
138 degrees
 11'
 = \pi - \arcsin(2/3). 
<!-- !! TO DO:  Add illustration. -->
</p></blockquote></div>

<div class="defun">
&mdash; Protected variable: real <b>triangle_radius</b><var><a name="index-triangle_005fradius-873"></a></var><br>
<blockquote><p>The radius of the circle enclosing a triangular face of
the <code>Icosahedron</code>. 
<!-- !! TO DO:  Add illustration. -->
</p></blockquote></div>

<div class="node">
<a name="Icosahedron-Constructors-and-Setting-Functions"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Icosahedron-Net">Icosahedron Net</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Icosahedron-Data-Members">Icosahedron Data Members</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Icosahedron">Icosahedron</a>

</div>

<h5 class="subsubsection">37.2.3.2 Constructors and Setting Functions</h5>

<div class="defun">
&mdash; Default constructor: void <b>Icosahedron</b> (<code>void</code>)<var><a name="index-Icosahedron-874"></a></var><br>
<blockquote><p>Creates an empty <code>Icosahedron</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Constructor: void <b>Icosahedron</b> (<var>const Point&amp; p, const real diameter_of_triangle, </var>[<var>real angle_x = 0, </var>[<var>real angle_y = 0, </var>[<var>real angle_z = 0</var>]]])<var><a name="index-Icosahedron-875"></a></var><br>
<blockquote><p>Creates an <code>Icosahedron</code> with its center at the origin, where the
triangular faces have enclosing circles of diameter
<var>diameter_of_triangle</var>.  If any of <var>angle_x</var>, <var>angle_y</var>, or
<var>angle_z</var> is non-zero, the <code>Icosahedron</code> is rotated by the
amounts specified around the corresponding axes.  Finally, if <var>p</var> is
not the origin, the <code>Icosahedron</code> is shifted such that
<code>center</code> comes to lie at <var>p</var>.

     <pre class="example">          Icosahedron i(origin, 3, 0, 10);
          i.draw();
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF195.png"
alt="[Figure 195. Not displayed.]" 
/>
<br>
<br>
Fig. 195. 
<br>
</p>

     <pre class="example">          i.filldraw();
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF196.png"
alt="[Figure 196. Not displayed.]" 
/>
<br>
<br>
Fig. 196. 
<br>
</p>

        </blockquote></div>

<div class="node">
<a name="Icosahedron-Net"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Icosahedron-Constructors-and-Setting-Functions">Icosahedron Constructors and Setting Functions</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Icosahedron">Icosahedron</a>

</div>

<h5 class="subsubsection">37.2.3.3 Net</h5>

<div class="defun">
&mdash; Static function: vector&lt;Reg_Polygon*&gt; <b>get_net</b> (<var>const real triangle_diameter, </var>[<var>bool do_half = </var><code>false</code>])<var><a name="index-get_005fnet-876"></a></var><br>
<blockquote><p>Returns the <dfn>net</dfn>, i.e., the two-dimensional pattern of triangles
that can be folded into a model of an icosahedron.  The net lies
in the x-z plane.  The triangles have enclosing circles of diameter
<var>triangle_diameter</var>. 
If the argument <var>do_half</var> = <code>true</code>, only the first half of the
net is created.  This is used in the non-default constructor. 
See <a href="#Icosahedron-Constructors-and-Setting-Functions">Polyhedron Reference; Regular Platonic Polyhedra; Icosahedron; Constructors and Setting Functions</a>.

     <pre class="example">          vector&lt;Reg_Polygon*&gt; vrp = Icosahedron::get_net(1.5);
          for (vector&lt;Reg_Polygon*&gt;::iterator iter = vrp.begin();
               iter != vrp.end(); ++iter)
             (**iter).draw();
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF197.png"
alt="[Figure 197. Not displayed.]" 
/>
<br>
<br>
Fig. 197. 
<br>
</p>

     </blockquote></div>

<div class="defun">
&mdash; Static function: void <b>draw_net</b> (<var>const real triangle_diameter, </var>[<var>bool portrait = true, </var>[<var>bool make_tabs = </var><code>true</code>]])<var><a name="index-draw_005fnet-877"></a></var><br>
<blockquote><p>Draws the net for an <code>Icosahedron</code> in the x-z plane.  The triangles
have enclosing circles of diameter <var>triangle_diameter</var>. 
If the argument <var>portrait</var> is <code>true</code> (the default), the net
will be arranged for printing in portrait format.  If it's <code>false</code>,
it will be arranged for printing in landscape format. 
In portrait format, the center of the bottom right triangle is at the
origin.  In landscape format, the center of the bottom left
triangle is at the origin.  The triangles are numbered.

        <p>The argument <var>make_tabs</var> currently has no effect. 
When I get around to programming this, it will be used for specifying
whether tabs for gluing and/or sewing a cardboard model should be drawn,
too.

     <pre class="example">          Icosahedron::draw_net(2, false);
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF198.png"
alt="[Figure 198. Not displayed.]" 
/>
<br>
<br>
Fig. 198. 
<br>
</p>

        </blockquote></div>

<!-- node-name,  next,  previous,  up -->
<div class="node">
<a name="Semi-Regular-Archimedean-Polyhedra"></a>
<a name="Semi_002dRegular-Archimedean-Polyhedra"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Regular-Platonic-Polyhedra">Regular Platonic Polyhedra</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Polyhedron-Reference">Polyhedron Reference</a>

</div>

<h3 class="section">37.3 Semi-Regular Archimedean Polyhedra</h3>

<p>Once I've added <code>class Octahedron</code>, the only Platonic polyhedron I
haven't programmed yet, I plan to start adding classes
for the semi-regular Archimedean polyhedra.

<ul class="menu">
<li><a accesskey="1" href="#Truncated-Octahedron">Truncated Octahedron</a>
</ul>

<!-- node-name,  next,  previous,  up -->
<div class="node">
<a name="Truncated-Octahedron"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Semi_002dRegular-Archimedean-Polyhedra">Semi-Regular Archimedean Polyhedra</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Semi_002dRegular-Archimedean-Polyhedra">Semi-Regular Archimedean Polyhedra</a>

</div>

<h4 class="subsection">37.3.1 Truncated Octahedron</h4>

<p><a name="index-Trunc_005fOctahedron-878"></a><a name="index-Truncated-Octahedron-879"></a>Class <code>Trunc_Octahedron</code> is defined in <samp><span class="file">polyhed.web</span></samp>. 
It is derived from <code>Polyhedron</code> using public derivation.

   <p><code>Trunc_Octahedron</code> does not yet have a functioning constructor, so
it cannot be used as yet.

<ul class="menu">
<li><a accesskey="1" href="#Truncated-Octahedron-Data-Members">Truncated Octahedron Data Members</a>
<li><a accesskey="2" href="#Truncated-Octahedron-Constructors-and-Setting-Functions">Truncated Octahedron Constructors and Setting Functions</a>
<li><a accesskey="3" href="#Truncated-Octahedron-Net">Truncated Octahedron Net</a>
</ul>

<!-- node-name,  next,  previous,  up -->
<div class="node">
<a name="Truncated-Octahedron-Data-Members"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Truncated-Octahedron-Constructors-and-Setting-Functions">Truncated Octahedron Constructors and Setting Functions</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Truncated-Octahedron">Truncated Octahedron</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Truncated-Octahedron">Truncated Octahedron</a>

</div>

<h5 class="subsubsection">37.3.1.1 Data Members</h5>

<div class="defun">
&mdash; Protected static <code>const</code> variable: real <b>angle_hex_square</b><var><a name="index-angle_005fhex_005fsquare-880"></a></var><br>
<blockquote><p>The angle between the hexagonal and the square faces of the truncated
octahedron, namely
125 degrees
 16'
. 
<!-- !! TO DO:  Add illustration. -->
</p></blockquote></div>

<div class="defun">
&mdash; Protected static <code>const</code> variable: real <b>angle_hex_hex</b><var><a name="index-angle_005fhex_005fhex-881"></a></var><br>
<blockquote><p>The angle between the hexagonal faces of the truncated
octahedron, namely
109 degrees
 28'
. 
<!-- !! TO DO:  Add illustration. -->
</p></blockquote></div>

<div class="defun">
&mdash; Protected variable: real <b>hexagon_radius</b><var><a name="index-hexagon_005fradius-882"></a></var><br>
<blockquote><p>The radius of the circle enclosing a hexagonal or square face of the
<code>Trunc_Octahedron</code>. 
</p></blockquote></div>

<div class="node">
<a name="Truncated-Octahedron-Constructors-and-Setting-Functions"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Truncated-Octahedron-Net">Truncated Octahedron Net</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Truncated-Octahedron-Data-Members">Truncated Octahedron Data Members</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Truncated-Octahedron">Truncated Octahedron</a>

</div>

<h5 class="subsubsection">37.3.1.2 Constructors and Setting Functions</h5>

<div class="defun">
&mdash; Default constructor: void <b>Trunc_Octahedron</b> (<code>void</code>)<var><a name="index-Trunc_005fOctahedron-883"></a></var><br>
<blockquote><p>Creates an empty <code>Trunc_Octahedron</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Constructor: void <b>Trunc_Octahedron</b> (<var>const Point&amp; p, const real diameter_of_hexagon, </var>[<var>real angle_x = 0, </var>[<var>real angle_y = 0, </var>[<var>real angle_z = 0</var>]]])<var><a name="index-Trunc_005fOctahedron-884"></a></var><br>
<blockquote><p>This function does not yet exist! 
When it does, it will create a <code>Trunc_Octahedron</code> with its center
at the origin, where the
hexagonal and square faces have enclosing circles of diameter
<var>diameter_of_hexagon</var>.  If any of <var>angle_x</var>, <var>angle_y</var>, or
<var>angle_z</var> is non-zero, the <code>Trunc_Octahedron</code> will be rotated
by the amounts specified around the corresponding axes.  Finally,
if <var>p</var> is not the origin, the <code>Trunc_Octahedron</code> will be
shifted such that <code>center</code> comes to lie at <var>p</var>. 
</p></blockquote></div>

<!-- node-name,  next,  previous,  up -->
<div class="node">
<a name="Truncated-Octahedron-Net"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Truncated-Octahedron-Constructors-and-Setting-Functions">Truncated Octahedron Constructors and Setting Functions</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Truncated-Octahedron">Truncated Octahedron</a>

</div>

<h5 class="subsubsection">37.3.1.3 Net</h5>

<div class="defun">
&mdash; Static function: vector&lt;Reg_Polygon*&gt; <b>get_net</b> (<var>const real hexagon_diameter, </var>[<var>bool do_half = </var><code>false</code>])<var><a name="index-get_005fnet-885"></a></var><br>
<blockquote><p>This function does not yet exist! 
When it does, it will return the <dfn>net</dfn>, i.e., the two-dimensional
pattern of hexagons and squares that can be folded into
a model of a truncated octahedron.  The net will lie in the x-z plane. 
The hexagons and squares will
have enclosing circles of diameter <var>hexagon_diameter</var>. 
If the argument <var>do_half</var> is <code>true</code>, only the first half of the
net will be created.  This will be used in the non-default constructor. 
See <a href="#Truncated-Octahedron-Constructors-and-Setting-Functions">Polyhedron Reference; Regular Platonic Polyhedra; Truncated Octahedron Constructors and Setting Functions</a>. 
</p></blockquote></div>

<!-- utility.texi -->
<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
<div class="node">
<a name="Utility-Functions"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Adding-a-File">Adding a File</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Polyhedron-Reference">Polyhedron Reference</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">38 Utility Functions</h2>

<div class="defun">
&mdash; Function: double <b>trunc</b> (<var>double d</var>)<var><a name="index-trunc-886"></a></var><br>
<blockquote><p>Defined in <samp><span class="file">pspglb.web</span></samp>. 
For some reason, when I compile 3DLDF using GNU CC on a PC Pentium II
XEON under Linux 2.4.4 i686, the standard library function
<code>trunc()</code> is not available.  Therefore, I've had to write one. 
<!-- !! TO DO: -->
<a name="index-kludge-887"></a>This is a kludge! 
Someday, I'll have to try to find a better solution to this problem. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: pair&lt;real, real&gt; <b>solve_quadratic</b> (<var>real a, real b, real c</var>)<var><a name="index-solve_005fquadratic-888"></a></var><br>
<blockquote><p>Defined in <samp><span class="file">pspglb.web</span></samp>. 
This function tries to find the solutions S_0 and S_1 to the
quadratic equation
ax^2 + bx + c according to the formulae
S_0 == -b + sqrt(b^2 - 4ac) / 2a) and
S_1 == -b - sqrt( b^2 - 4ac) / 2a. 
Let <code>r</code> stand for the return value.  If S_0 cannot be found,
<code>r.first</code> will be <code>INVALID_REAL</code>, otherwise S_0. 
If S_1 cannot be found,
<code>r.second</code> will be <code>INVALID_REAL</code>, otherwise S_1.

     <pre class="display">          (x + 4)(x + 2) = x^2 + 6x + 8 = 0
</pre>
        <pre class="example">          real_pair r = solve_quadratic(1, 6, 8);
          &rArr; r.first == -2
          &rArr; r.second == -4
</pre>
        <pre class="example">          real_pair r = solve_quadratic(1, -2, 4);
          &rArr; r.first == INVALID_REAL
          &rArr; r.second == INVALID_REAL
</pre>
        </blockquote></div>

<ul class="menu">
<li><a accesskey="1" href="#Perspective-Functions">Perspective Functions</a>
</ul>

<div class="node">
<a name="Perspective-Functions"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Utility-Functions">Utility Functions</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Utility-Functions">Utility Functions</a>

</div>

<h3 class="section">38.1 Perspective Functions</h3>

<div class="defun">
&mdash; Function: void <b>persp_0</b> (<var>const real front_corner_x, const real front_corner_z, const real side_lft, const real side_rt, const real angle_rt, const real f_2_cv, const real gl_2_cv, </var>[<var>const real horizon_lft = 6, </var>[<var>real horizon_rt = 0, </var>[<var>real gl_lft = 0, </var>[<var>real gl_rt = 0</var>]]]])<var><a name="index-persp_005f0-889"></a></var><br>
<blockquote><p>Defined in <samp><span class="file">utility.web</span></samp>. 
This function is used for the figure in <a href="#The-Perspective-Projection">The Perspective Projection</a>, illustrating a perspective projection as it could be done
by hand.  It draws a rectangle in the ground plane and the construction
lines used for putting it into perspective.  It also labels the
vanishing and measuring points.

        <p>The arguments:
          <dl>
<dt><code>const real</code><var> front_corner_x</var><dd>The x-coordinate of the front corner of the rectangle.

          <br><dt><code>const real</code><var> front_corner_z</var><dd>The z-coordinate of the front corner of the rectangle.

          <br><dt><code>const real</code><var> side_lft</var><dd>The length of the left side of the rectangle.

          <br><dt><code>const real</code><var> side_rt</var><dd>The length of the right side of the rectangle.

          <br><dt><code>const real</code><var> angle_rt</var><dd>The angle at which the right side of the rectangle recedes to the
horizon.

          <br><dt><code>const real</code><var> f_2_cv</var><dd>The distance from the focus to the center of vision.

          <br><dt><code>const real</code><var> gl_2_cv</var><dd>The distance of the ground line to the center of vision.

          <br><dt><code>const real</code><var> horizon_lft</var><dd>Default: 6. 
The length of the horizon line leftwards of the center of vision.

          <br><dt><code>real</code><var> horizon_rt</var><dd>Default: 0. 
The length of the horizon line rightwards of the center of vision.

          <br><dt><code>real</code><var> gl_lft</var><dd>Default: 0. 
The length of the ground line leftwards of the line from the focus to
the center of vision.

          <br><dt><code>real</code><var> gl_rt</var><dd>Default: 0. 
The length of the ground line rightwards of the line from the focus to
the center of vision. 
</dl>

        <p>Example:

     <pre class="example">          persp_0(3, 2, 10, 5, 47.5, 7, 5, 8.5, 9.5, 8.5, 9.5);
</pre>
        <p><p align="center">
<br>
<img src="./graphics/png/3DLDF199.png"
alt="[Figure 199. Not displayed.]" 
/>
<br>
<br>
Fig. 199. 
<br>
</p>

     </blockquote></div>

<!-- addfile.texi -->
<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
<div class="node">
<a name="Adding-a-File"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Future-Plans">Future Plans</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Utility-Functions">Utility Functions</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">39 Adding a File</h2>

<p>Version 1.1.1 was the first version of 3DLDF since it became a GNU
package (the current version is 1.1.5.1).  In previous versions,
recompilation was controlled by an
auxilliary program, which I wrote in C++
 using CWEB.  However,
in the course of making 3DLDF conformant to the
GNU Coding Standards<a rel="footnote" href="#fn-46" name="fnd-46"><sup>46</sup></a>,
this has
been changed.  Recompilation is now controlled by <samp><span class="command">make</span></samp>, as is
customary.  The chapter &ldquo;Compiling&rdquo; in previous editions of this
manual, is therefore no longer needed.

   <p>Nonetheless, using CWEB still has consequences for the way recompilation
must be handled, and it was fairly tricky getting <samp><span class="command">make</span></samp> to work
for 3DLDF.  Users who only put code in <samp><span class="file">main.web</span></samp> and/or change
code in existing files won't have to worry about this;
for others, this chapter explains how to add
files to 3DLDF.

   <p>Let's say you want to add a file <samp><span class="file">widgets.web</span></samp> that defines a
<code>class Widget</code>, and that the latter needs access to
<code>class Rectangle</code>, and is in turn required by <code>class Ellipse</code>. 
Code must be added to <samp><span class="file">3DLDF-1.1.5.1/CWEB/Makefile</span></samp> for
ctangling <samp><span class="file">widgets.web</span></samp>, compiling <samp><span class="file">widgets.cxx</span></samp>, and linking
<samp><span class="file">widgets.o</span></samp> with the other object files to make the executable
<samp><span class="file">3dldf</span></samp>.

   <p>The best way to do this is to change
<samp><span class="file">3DLDF-1.1.5.1/CWEB/Makefile.am</span></samp> and use Automake
to generate a new <samp><span class="file">Makefile.in</span></samp>.  Then, <samp><span class="command">configure</span></samp> can be
used to generate a new <samp><span class="file">Makefile</span></samp>.  It would be possible to modify
<samp><span class="file">Makefile</span></samp> by hand, but I don't recommend it.  The following
assumes that the user has access to Automake.  If he or she is using a
GNU/Linux system, this is probably true.<a rel="footnote" href="#fn-47" name="fnd-47"><sup>47</sup></a>

   <p>&lsquo;<samp><span class="samp">widgets.web</span></samp>&rsquo; must be added between &lsquo;<samp><span class="samp">rectangs.web</span></samp>&rsquo; and
&lsquo;<samp><span class="samp">ellipses.web</span></samp>&rsquo; in the following variable declaration in
<samp><span class="file">3DLDF-1.1.5.1/CWEB/Makefile.am</span></samp>:

<pre class="example">     3dldf_SOME_CWEBS = pspglb.web io.web colors.web transfor.web \
                        shapes.web pictures.web points.web \
                        lines.web planes.web paths.web curves.web \
                        polygons.web rectangs.web ellipses.web \
                        circles.web patterns.web solids.web
                        solfaced.web cuboid.web polyhed.web \
                        utility.web parser.web examples.web
</pre>
   <p>Now, add &lsquo;<samp><span class="samp">widgets.o</span></samp>&rsquo; between &lsquo;<samp><span class="samp">ellipses.o</span></samp>&rsquo; and
&lsquo;<samp><span class="samp">rectangs.o</span></samp>&rsquo; in the following variable declaration:

<pre class="example">     3dldf_OBS_REVERSED = main.o examples.o parser.o utility.o \
                          polyhed.o cuboid.o  solfaced.o solids.o \
                          patterns.o circles.o ellipses.o rectangs.o \
                          polygons.o curves.o paths.o \
                          planes.o lines.o points.o pictures.o shapes.o
                          transfor.o colors.o io.o pspglb.o
</pre>
   <p><code>3dldf_OBS_REVERSED</code> is needed, because 3DLDF fails with
a &ldquo;Segmentation fault&rdquo;, if
the executable is linked using <code>$(3dldf_OBJECTS)</code>.  This may cause
problems, if <samp><span class="file">3dldf</span></samp> isn't built using the GNU C++
 compiler
(GCC).

   <p>Now add a target for <samp><span class="file">widgets.o</span></samp> between the targets for
<samp><span class="file">rectangs.o</span></samp> and <samp><span class="file">ellipses.o</span></samp>, and add <samp><span class="file">widgets.tim</span></samp>
after <samp><span class="file">rectangs.tim</span></samp> in the list of prerequisites for
<samp><span class="file">ellipses.o</span></samp>:

<pre class="example">     rectangs.o: loader.tim pspglb.tim io.tim colors.tim transfor.tim \
              shapes.tim pictures.tim points.tim lines.tim planes.tim \
              paths.tim curves.tim polygons.tim rectangs.cxx
     
     ellipses.o: loader.tim pspglb.tim io.tim colors.tim transfor.tim \
              shapes.tim pictures.tim points.tim lines.tim planes.tim \
              paths.tim curves.tim polygons.tim rectangs.tim ellipses.cxx
</pre>
   <p>This is the result:
<pre class="example">     rectangs.o: loader.tim pspglb.tim io.tim colors.tim transfor.tim \
              shapes.tim pictures.tim points.tim lines.tim planes.tim \
              paths.tim curves.tim polygons.tim rectangs.cxx
     
     widgets.o: loader.tim pspglb.tim io.tim colors.tim transfor.tim \
              shapes.tim pictures.tim points.tim lines.tim planes.tim \
              paths.tim curves.tim polygons.tim rectangs.tim \
              widgets.cxx
     
     ellipses.o: loader.tim pspglb.tim io.tim colors.tim transfor.tim \
              shapes.tim pictures.tim points.tim lines.tim planes.tim \
              paths.tim curves.tim polygons.tim rectangs.tim widgets.tim \
              ellipses.cxx
</pre>
   <p>In addition, <samp><span class="file">widgets.tim</span></samp>
must be added to the list of prerequisites in all of the following
targets up to and including <samp><span class="file">examples.o</span></samp>.

<!-- This is ~/metafont/metapost/perspective/DOCUMENTATION/future.texi -->
<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
<div class="node">
<a name="Future-Plans"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Changes">Changes</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Adding-a-File">Adding a File</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">40 Future Plans</h2>

<p>3DLDF is a work-in-progress.  In fact, it can never be
finished, because the supply of interesting geometric constructions
is inexhaustible.  However, presently 3DLDF still has a number of major
gaps.

   <p>If you're interesting in contributing to 3DLDF, with respect to one of
the topics below and in the following sections, or if you have ideas
of your own, see <a href="#Contributing-to-3DLDF">Contributing to 3DLDF</a>.

     <ul>
<li>Input routine. 
The lack of one is the most significant
defect in 3DLDF, as mentioned in <a href="#No-Input-Routine">No Input Routine</a>.

     <li>Port to other platforms. 
See <a href="#Ports">Ports</a>. 
</ul>

<ul class="menu">
<li><a accesskey="1" href="#Geometry">Geometry</a>
<li><a accesskey="2" href="#Curves-and-Surfaces">Curves and Surfaces</a>
<li><a accesskey="3" href="#Shadows">Shadows</a>
<li><a accesskey="4" href="#Multi_002dThreading">Multi-Threading</a>
</ul>

<div class="node">
<a name="Geometry"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Curves-and-Surfaces">Curves and Surfaces</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Future-Plans">Future Plans</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Future-Plans">Future Plans</a>

</div>

<h3 class="section">40.1 Geometry</h3>

<p>3DLDF currently provides a set of basic plane and solid geometrical
figures.  However, some important ones are still missing. 
There are many useful geometrical data types and functions whose
implementation would require no more than elementary geometry.

     <ul>
<li>Add constructors with a normal vector argument rather than angles of
rotation about the main axes.

     <li>I have started defining <code>class Triangle</code>, which can be used for
calculating triangle solutions.

     <li><a name="index-multiple-inheritance-890"></a><a name="index-derived-classes-891"></a><a name="index-derivation-892"></a>Add a class <code>Conic_Section</code> and derive <code>Ellipse</code>
from it.  This will be the first case of
<dfn>multiple inheritance</dfn><a rel="footnote" href="#fn-48" name="fnd-48"><sup>48</sup></a>
in 3DLDF, since <code>Ellipse</code> is already
derived from <code>Path</code>.  See <a href="#Ellipse-Reference">Ellipse Reference</a>. 
Add the classes <code>Parabola</code> and <code>Hyperbola</code>.

     <li>Add more functions for finding the intersections of objects of various
types, starting with the plane figures. 
In particular, I believe I've found an algebraic solution for
the intersection of an <code>Ellipse</code> and a <code>Circle</code> in a plane,
but I haven't had a chance to try implementing it yet.

     <p>If this works, I think it will make it possible to find the intersection
of two coplanar ellipses algebraically, because it will be possible to
transform them both such that one of them becomes circular.

     <li>Class <code>Octahedron</code> will complete the set of regular Platonic
polyhedra.

     <li>Add classes for the Kepler-Poinsot polyhedra, the semi-regular
Archimedean polyhedra,  the dual solids, the stellated Archimedean
polyhedra, and the regular compounds.<a rel="footnote" href="#fn-49" name="fnd-49"><sup>49</sup></a>

     <li>Add class <code>Ellipsoid</code> and a derived class <code>Sphere</code>.

     <li>Improve the specification of <code>Solid</code> and
<code>Solid_Faced</code>. 
In particular, it would help to store the vertices of
<code>Polyhedra</code> as individual <code>Points</code>, rather
than using <code>Reg_Polygons</code>.  I'd also
like to find a better way of generating <code>Solids</code>, without using
rotations, if possible.

   </ul>

<div class="node">
<a name="Curves-and-Surfaces"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Shadows">Shadows</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Geometry">Geometry</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Future-Plans">Future Plans</a>

</div>

<h3 class="section">40.2 Curves and Surfaces</h3>

<p><a name="index-splines-893"></a><a name="index-spline-curves-894"></a><a name="index-B_0040_0027ezier-curves-895"></a><a name="index-B_002dsplines-896"></a><a name="index-NURBS-_0028non_002duniform-rational-B_002dsplines_0029-897"></a><a name="index-non_002duniform-rational-B_002dsplines-_0028NURBS_0029-898"></a><a name="index-patches-899"></a><a name="index-surface-patches-900"></a>3D modelling software usually supports the creation and manipulation of
various kinds of <dfn>spline curves</dfn>: <dfn>B&eacute;zier curves</dfn>,
<dfn>B-splines</dfn>, and <dfn>non-uniform rational B-splines</dfn> or
<dfn>NURBS</dfn>.  These curves can be used for generating surfaces.<a rel="footnote" href="#fn-50" name="fnd-50"><sup>50</sup></a>

   <p><a name="index-projective-invariance-901"></a><a name="index-invariance_002c-projective-902"></a><code>paths</code> in Metafont and MetaPost are B&eacute;zier curves. 
It would be possible to implement three-dimensional B&eacute;zier curves in
3DLDF, but unfortunately they are not <dfn>projectively invariant</dfn>:

   <p>Let c_0 represent a B&eacute;zier curve in three dimensions,
P the control points of c_0, and
t a projection transformation. 
Further, let Q represent the points generated from applying
t to P, and c_1 the curve generated from Q. 
Finally, let R represent the points generated from applying
t to all of the points on c_0, and
 c_2 the curve through R:
c_1 \not\equiv c_2.

   <p><a name="index-NURBS-_0028non_002duniform-rational-B_002dsplines_0029-903"></a><a name="index-non_002duniform-rational-B_002dsplines-_0028NURBS_0029-904"></a><a name="index-projective-invariance-905"></a><a name="index-invariance_002c-projective-906"></a>NURBS, on the other hand, are projectively invariant,<a rel="footnote" href="#fn-51" name="fnd-51"><sup>51</sup></a>
so I will probably
concentrate on implementing them.  On the other hand, it would be nice
to be able to implement Metafont's way of specifying <code>paths</code>
using `<code>curl</code>', `<code>tension</code>', and `<code>dir</code>' in 3DLDF. 
This may prove to be difficult or impossible.  I do not yet know
whether Metafont's <code>path</code> creation algorithm can be generalized to
three dimensions.<a rel="footnote" href="#fn-52" name="fnd-52"><sup>52</sup></a>

   <p>Curves and surfaces are advanced topics, so it may be a while
before I implement them in 3DLDF.

<div class="node">
<a name="Shadows"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Multi_002dThreading">Multi-Threading</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Curves-and-Surfaces">Curves and Surfaces</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Future-Plans">Future Plans</a>

</div>

<h3 class="section">40.3 Shadows, Reflections, and Rendering</h3>

<p><a name="index-shadows-907"></a><a name="index-reflections-908"></a>Shadows and reflections are closely related to transformations and
projections. 
A shadow is the projection of the outline of an object onto a surface or
surfaces, and reflection in a plane is an affine transformation.

   <p><a name="index-shading-909"></a>3D rendering software generally implements shadows, or more generally,
<dfn>shading</dfn>, reflections, and certain other effects using methods
involving the calculation of individual pixel values. 
Surface hiding is also often implemented at the pixel level. 
3DLDF does no scan converting ((see <a href="#Accuracy">Accuracy</a>), and hence
no calculation of pixel values at all, so these methods cannot be
used in 3DLDF at present.

   <p>However, it is possible to define functions for generating
shadows and reflections within 3DLDF by other means.

   <p>I have defined the function <code>Point::reflect()</code> for reflecting a
<code>Point</code> in a <code>Plane</code>, and have begun definining versions for
other classes.

   <p>However, in order for reflections to work, I must define functions for
breaking up objects into smaller units.  This is also necessary for
surface hiding to work properly.

   <p>For MetaPost output, I will have to implement shadows, reflections, and
surface hiding in this way.  However, 3DLDF could be made to produce
output in other formats.  There are two possibilities:  implementing
rendering functionality within 3DLDF, or interfacing to
existing rendering software.  If I decide to do the latter, there are
again two possibilities:  having 3DLDF write output in a format that a
renderer can input, or linking to a library supplied by a rendering
package.

   <p>I haven't yet decided which course to pursue.  However, in the long run,
I'd like it to be possible to use 3DLDF for fancier graphics than is
currently possible using MetaPost and PostScript alone.

<div class="node">
<a name="Multi-Threading"></a>
<a name="Multi_002dThreading"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Shadows">Shadows</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Future-Plans">Future Plans</a>

</div>

<h3 class="section">40.4 Multi-Threading</h3>

<p><a name="index-multi_002dthreading-910"></a>When 3DLDF is run, there is only one thread of execution. 
However, it could benefit from the use of multiple threads. 
In particular, it may be faster and more efficient to have
<code>Picture::output()</code> run in its own thread. 
In this case, it will no longer be possible to share
<code>current_picture</code> among figures.

   <p>It may also be
worthwhile to execute the code for &ldquo;figures&rdquo;, i.e., the code
between &lsquo;<samp><span class="samp">beginfig()</span></samp>&rsquo; and &lsquo;<samp><span class="samp">endfig()</span></samp>&rsquo;, inclusive,
in their own threads.  This will require some changes in the way data
are handled.  For example, if non-constant objects are shared
among figures, there may be no advantage to multi-threading because of
the need to coordinate the access of the threads to the objects. 
If threads are used, then non-constant objects should be
declared locally within the figure.  They may be locally declared
copies of global objects.  Alternatively,  <code>beginfig()</code> could be
changed so that objects could be passed to it as  arguments, perhaps as
a <code>vector&lt;void*&gt;</code> and/or a <code>vector&lt;Shape*&gt;</code>.

<!-- Local Variables: -->
<!-- eval:(outline-minor-mode) -->
<!-- eval:(read-abbrev-file) -->
<!-- run-texi2dvi-on-file:"3DLDF.texi" -->
<!-- run-dvips-on-file:"3DLDF.dvi" -->
<!-- End: -->
<!-- changes.texi -->
<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
<div class="node">
<a name="Changes"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Bibliography">Bibliography</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Future-Plans">Future Plans</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">41 Changes</h2>

<p class="noindent">Updated 16 January 2004.

<ul class="menu">
<li><a accesskey="1" href="#Changes-in-3DLDF-1_002e1_002e5_002e1">Changes in 3DLDF 1.1.5.1</a>
<li><a accesskey="2" href="#Changes-in-3DLDF-1_002e1_002e5">Changes in 3DLDF 1.1.5</a>
<li><a accesskey="3" href="#Changes-in-3DLDF-1_002e1_002e4_002e2">Changes in 3DLDF 1.1.4.2</a>
<li><a accesskey="4" href="#Changes-in-3DLDF-1_002e1_002e4_002e1">Changes in 3DLDF 1.1.4.1</a>
<li><a accesskey="5" href="#Changes-in-3DLDF-1_002e1_002e4">Changes in 3DLDF 1.1.4</a>
<li><a accesskey="6" href="#Initial-version">Initial version</a>
</ul>

<div class="node">
<a name="Changes-in-3DLDF-1.1.5.1"></a>
<a name="Changes-in-3DLDF-1_002e1_002e5_002e1"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Changes-in-3DLDF-1_002e1_002e5">Changes in 3DLDF 1.1.5</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Changes">Changes</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Changes">Changes</a>

</div>

<h3 class="section">41.1 3DLDF 1.1.5.1</h3>

     <ul>
<li>Added missing Texinfo files to the <code>3dldf_TEXINFOS</code> variable in
<samp><span class="file">3DLDF-1.1.5.1/DOC/TEXINFO/Makefile.am</span></samp>, and reordered the
filenames.

     <li><a name="index-PNG-_0028Portable-Network-Graphics_0029-911"></a><a name="index-Portable-Network-Graphics-_0028PNG_0029-912"></a>Changed the names of the PNG (Portable Network Graphics) files
included in the HTML version of this manual. 
Changed the names in the commands for including these
files in the Texinfo files.  I wasn't able to write some of the
files with the old names to a CD-R (Compact Disk, Recordable). 
</ul>

<div class="node">
<a name="Changes-in-3DLDF-1.1.5"></a>
<a name="Changes-in-3DLDF-1_002e1_002e5"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Changes-in-3DLDF-1_002e1_002e4_002e2">Changes in 3DLDF 1.1.4.2</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Changes-in-3DLDF-1_002e1_002e5_002e1">Changes in 3DLDF 1.1.5.1</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Changes">Changes</a>

</div>

<h3 class="section">41.2 3DLDF 1.1.5</h3>

<p>In release 1.1.5, I've tied up some loose ends.  I wanted to do this
before starting on the input routine.

     <ul>
<li>Added <code>const real</code> <var>step</var> argument to the version of
<code>Ellipse::intersection_points()</code> that takes an <code>Ellipse</code>
argument. 
See <a href="#Ellipse-Intersections">Ellipse Reference; Intersections</a>.

     <li>It is now possible to &ldquo;typedef&rdquo; <code>real</code> to either <code>float</code>
or <code>double</code>.  This means that <code>real</code> can now be made a synonym
for either <code>float</code> or <code>double</code> by using a <code>typedef</code>
declaration.  <code>real</code> is typedeffed to <code>float</code> by default.

     <li>Added <code>const bool ldf_real_float</code> and
<code>extern const bool ldf_real_double</code>
for use in non-conditionally compiled code. 
They are set according to the values
of <code>LDF_REAL_FLOAT</code> and <code>LDF_REAL_DOUBLE</code>.

     <li><code>Transform::epsilon()</code> and <code>Point::epsilon()</code> now return
different values, depending on the values of the preprocessor macros
<code>LDF_REAL_FLOAT</code> and <code>LDF_REAL_DOUBLE</code>.  I have not yet tested
whether good values are returned when <code>real</code> is <code>double</code>.

     <li><code>MAX_REAL</code> and <code>MAX_REAL_SQRT</code> are no longer constants. 
Their values are set at the beginning of <code>main()</code>.  However,
users should not change their values.  <code>MAX_REAL</code> is the
second-largest <code>float</code> or <code>double</code> on a given machine.  This
now works for all common architectures.

     <li>Added <code>namespace System</code> containing the following functions:
<code>get_endianness()</code>, <code>is_big_endian()</code>,
<code>is_little_endian()</code>, <code>get_register_width()</code>,
<code>is_32_bit()</code>, <code>is_64_bit()</code>, and the template function
<code>get_second_largest()</code>.

     <p><code>namespace System</code> and its functions are documented in
<samp><span class="file">system.texi</span></samp>, which is new in edition 1.1.5.1.

     <li>Replaced the various <code>create_new_</code>&lt;<i>type</i>&gt;<code>()</code> functions with the
template function <code>create_new()</code>.  The latter is documented in
<samp><span class="file">creatnew.texi</span></samp>, which is new in edition 1.1.5.1.

     <li>Added the file <samp><span class="file">3DLDF-1.1.5.1/CWEB/cnepspng.el</span></samp> to
the distribution.  It contains the definitions of the Emacs-Lisp
functions <samp><span class="command">convert-eps</span></samp> and <samp><span class="command">convert-eps-loop</span></samp>. 
See <a href="#Converting-EPS-Files-ELISP">Running 3DLDF; Converting EPS Files; Emacs-Lisp Functions</a>.

     <li>Added the files
<samp><span class="file">3DLDF-1.1.5.1/CWEB/exampman.web</span></samp> and<br>
<samp><span class="file">3DLDF-1.1.5.1/CWEB/examples.mp</span></samp> to the
distribution.  They contain the C++
 and MetaPost code,
respectively, for generating the illustrations in this manual.

   </ul>

<div class="node">
<a name="Changes-in-3DLDF-1.1.4.2"></a>
<a name="Changes-in-3DLDF-1_002e1_002e4_002e2"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Changes-in-3DLDF-1_002e1_002e4_002e1">Changes in 3DLDF 1.1.4.1</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Changes-in-3DLDF-1_002e1_002e5">Changes in 3DLDF 1.1.5</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Changes">Changes</a>

</div>

<h3 class="section">41.3 3DLDF 1.1.4.2</h3>

     <ul>
<li>The illustrations in the HTML output are now scaled to
<code>magstep3</code>. 
</ul>

<div class="node">
<a name="Changes-in-3DLDF-1.1.4.1"></a>
<a name="Changes-in-3DLDF-1_002e1_002e4_002e1"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Changes-in-3DLDF-1_002e1_002e4">Changes in 3DLDF 1.1.4</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Changes-in-3DLDF-1_002e1_002e4_002e2">Changes in 3DLDF 1.1.4.2</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Changes">Changes</a>

</div>

<h3 class="section">41.4 3DLDF 1.1.4.1</h3>

     <ul>
<li>The HTML output now includes illustrations. 
</ul>

<div class="node">
<a name="Changes-in-3DLDF-1.1.4"></a>
<a name="Changes-in-3DLDF-1_002e1_002e4"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Initial-version">Initial version</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Changes-in-3DLDF-1_002e1_002e4_002e1">Changes in 3DLDF 1.1.4.1</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Changes">Changes</a>

</div>

<h3 class="section">41.5 3DLDF 1.1.4</h3>

     <ul>
<li><code>MAX_REAL</code> is now the second largest float value.  However, the
calculation is system dependent, and will only work on 32-bit
little-endian architectures.  I will start working on porting this
soon.

     <li>Fixed bug in <samp><span class="file">tsthdweb</span></samp>, that caused files to be compiled more
often than necessary.  It will be necessary to keep an eye on this.

     <li>Added <code>Rectangle::is_rectangular()</code>.

     <li>Made <code>mediate()</code> a member function of <code>Point</code>.

     <li>It is now possible to generate this manual in the Info and HTML
formats. 
</ul>

<div class="node">
<a name="Initial-version"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Changes-in-3DLDF-1_002e1_002e4">Changes in 3DLDF 1.1.4</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Changes">Changes</a>

</div>

<h3 class="section">41.6 3DLDF 1.1.1</h3>

<p>3DLDF 1.1.1 was the first version of 3DLDF since it became a GNU
package (the current version is 1.1.5.1).  It is now conformant
to the GNU Coding Standards, except that
a functioning <samp><span class="file">3DLDF.info</span></samp> cannot be generated from
<samp><span class="file">3DLDF.texi</span></samp>.   The
distribution now includes a <code>configure</code> script,
<samp><span class="file">Makefile.in</span></samp> files, and other files generated by Autoconf and
Automake.  Recompilation is now handled by <samp><span class="command">make</span></samp> rather than
the auxilliary program <samp><span class="command">3DLDFcpl</span></samp>.  The files
<samp><span class="file">3DLDFcpl.web</span></samp> and <samp><span class="file">3DLDFprc.web</span></samp> have been removed from the
distribution.

   <p>The extension of the C++
 files generated by <samp><span class="command">ctangle</span></samp> is
changed from <samp><span class="file">c</span></samp> to <samp><span class="file">cxx</span></samp> before they are compiled. 
After <samp><span class="command">ctangle</span></samp> is run on a CWEB file, <samp><span class="file">&lt;</span><i>filename</i><span class="file">&gt;.c</span></samp>
is compared to the old <samp><span class="file">&lt;</span><i>filename</i><span class="file">&gt;.cxx</span></samp> using <samp><span class="command">diff</span></samp>. 
Whitespace, comments, and <code>#line</code> preprocessor commands are
ignored.  The <samp><span class="file">&lt;</span><i>filename</i><span class="file">&gt;.c</span></samp> is only renamed to
<samp><span class="file">&lt;</span><i>filename</i><span class="file">&gt;.cxx</span></samp> and compiled if they differ.  This way,
changes to the TeX text only in a CWEB file no longer cause
recompilation and relinking.

   <p>The main Texinfo file is now called <samp><span class="file">3DLDF.texi</span></samp>.  It was formerly
called <samp><span class="file">3DLDFman.texi</span></samp>.  This is because Automake expects this
name.  For this reason, the CWEB
file passed as an argument to cweave has been renamed
<samp><span class="file">3DLDFprg.web</span></samp>.  It was formerly called <samp><span class="file">3DLDF.web</span></samp>.

<!-- biblio.texi -->
<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
<div class="node">
<a name="Bibliography"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#GNU-Free-Documentation-License">GNU Free Documentation License</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Changes">Changes</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="unnumbered">Bibliography</h2>

<!-- I'm not happy with the formatting of the bibliography entries, but I -->
<!-- wasn't able to fix it.  I tried various solutions involving \hangafter -->
<!-- and \hangindent and macros, but none of them worked.  LDF 2003.12.07. -->
<!-- Nor was I able to prevent the displayed comment about Vredemann de Vries -->
<!-- from being split from the entry.  !! I think fixing these problems -->
<!-- will involve  fixing texinfo.tex.  LDF 2003.12.07. -->
<p>Cundy, H. Martyn and A.P. Rollet. 
<i>Mathematical Models</i>. 
Oxford 1961. 
Oxford University Press.

<pre class="display">     Unfortunately out of print.
</pre>
   <pre class="sp">

</pre>

<p class="noindent">Finston, Laurence D. 
<i>3DLDF:  The Program</i>. 
G&ouml;ttingen 2003.
   <pre class="sp">

</pre>

<p class="noindent">Fischer, Gerd. 
<i>Ebene algebraische Kurven</i>. 
Vieweg Studium.  Aufbaukurs Mathematik. 
Friedr.&nbsp;<!-- /@w -->Vieweg &amp; Sohn Verlagsgesellschaft mbH. 
Braunschweig/Wiesbaden 1994.
   <pre class="sp">

</pre>

<p class="noindent">Gill, Robert W. 
<i>Creative Perspective</i>. 
London 1975. 
Thames and Hudson Ltd. 
ISBN&nbsp;0-500-27056-2.<!-- /@w -->
   <pre class="sp">

</pre>

<p class="noindent">Harbison, Samuel P., and Guy L. Steele Jr. 
<i>C, A Reference Manual</i>. 
Prentice Hall. 
Englewood Cliffs, New Jersey 1995. 
ISBN&nbsp;0-13-326232-4&nbsp;{Case}.<!-- /@w -->
ISBN~0-13-326224-3&nbsp;{Paperback}.<!-- /@w -->
   <pre class="sp">

</pre>

<p class="noindent">Hobby, John D. 
<i>Smooth, Easy to Compute Interpolating Splines</i>. 
Discrete and Computational Geometery 1(2). 
Springer-Verlag. 
New York 1986.
   <pre class="sp">

</pre>

<p class="noindent">Hobby, John D. 
<i>A User's Manual for MetaPost</i>. 
AT &amp; T Bell Laboratories. 
Murray Hill, NJ. No date.
   <pre class="sp">

</pre>

<p class="noindent">Jones, Huw. 
<i>Computer Graphics through Key Mathematics</i>. 
Springer-Verlag London Limited 2001. 
ISBN&nbsp;1-85233-422-3.<!-- /@w -->
   <pre class="sp">

</pre>

<p class="noindent">Knuth, Donald Ervin. 
<i>Metafont:  The Program</i>. Computers and Typesetting; D. 
Addison Wesley Publishing Company, Inc. 
Reading, Massachusetts 1986. 
ISBN&nbsp;0-201-13438-1.<!-- /@w -->
   <pre class="sp">

</pre>

<p class="noindent">Knuth, Donald Ervin. 
<i>The METAFONTbook</i>. 
Computers and Typesetting; C. 
Addison Wesley Publishing Company, Inc. 
Reading, Massachusetts 1986.
   <pre class="sp">

</pre>

<p class="noindent">Knuth, Donald Ervin. 
<i>TeX: The Program</i>. Computers and Typesetting; B. 
Addison Wesley Publishing Company, Inc. 
Reading, Massachusetts 1986. 
ISBN&nbsp;0-201-13437-3.<!-- /@w -->
   <pre class="sp">

</pre>

<p class="noindent">Knuth, Donald E. <i>The TeXbook</i>. 
Computers and Typesetting; A. 
Addison Wesley Publishing Company, Inc. 
Reading, Massachusetts 1986.
   <pre class="sp">

</pre>

<p class="noindent">Knuth, Donald E. and Silvio Levy. 
<i>The </i><b>CWEB</b><i> System of Structured Documentation</i>. 
Version&nbsp;3.64&mdash;February&nbsp;2002.<!-- /@w -->
   <pre class="sp">

</pre>

<p class="noindent">Rokicki, Tomas. 
<i>Dvips: A DVI-to-PostScript Translator</i>
for version 5.66a. 
February 1997. 
<a href="http://dante.ctan.org/CTAN/dviware/dvips/">http://dante.ctan.org/CTAN/dviware/dvips/</a>
   <pre class="sp">

</pre>

<p class="noindent">Salomon, David. 
<i>Computer Graphics and Geometric Modeling</i>. 
Berlin 1999. 
Springer-Verlag. 
ISBN:&nbsp;0-387-98682-0.<!-- /@w -->
   <pre class="sp">

</pre>

<p class="noindent">Stallman, Richard M. and Roland McGrath. 
<i>GNU Make.  A Program for Directing Recompilation. 
</i><b>make</b><i> Version 3.79</i>. 
Boston 2000. 
Free Software Foundation, Inc. 
ISBN:&nbsp;1-882114-80-9.<!-- /@w -->
   <pre class="sp">

</pre>

<p class="noindent">Stallman, Richard M. 
<i>Using and Porting the GNU Compiler Collection</i>. 
For GCC Version 3.3.2. 
Boston 2003. 
Free Software Foundation, Inc.
   <pre class="sp">

</pre>

<p class="noindent">Stroustrup, Bjarne. 
<i>The C++
 Programming Language</i>. 
Special Edition. 
Reading, Massachusetts 2000. 
Addison-Wesley. 
ISBN&nbsp;0-201-70073-5.<!-- /@w -->
   <pre class="sp">

</pre>

<p class="noindent">Stroustrup, Bjarne. 
<i>The Design and Evolution of C++
</i>. 
Reading, Massachusetts 1994. 
Addison-Wesley Publishing Company. 
ISBN&nbsp;0-201-54330-3.<!-- /@w -->
   <pre class="sp">

</pre>

<p class="noindent">Vredeman de Vries, Jan. 
<i>Perspective</i>. 
New York 1968. 
Dover Publications, Inc. 
Standard&nbsp;Book&nbsp;Number:&nbsp;486-21086-4.<!-- /@w -->

<pre class="display">     The beautiful perspective constructions in this volume are taken from
     the original work, first published by Henricus Hondius in Leiden in 1604
     and 1605.
</pre>
   <pre class="sp">

</pre>

<p class="noindent">White, Gwen. 
<i>Perspective.  A Guide for Artists, Architects and Designers</i>. 
London 1968 and 1982. 
B T Batsford Ltd. 
ISBN&nbsp;0-7134-3412-0.<!-- /@w -->

<div class="node">
<a name="GNU-Free-Documentation-License"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Data-Type-and-Variable-Index">Data Type and Variable Index</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Bibliography">Bibliography</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="appendix">Appendix A GNU Free Documentation License</h2>

<!-- The GNU Free Documentation License. -->
<div align="center">Version 1.3, 3 November 2008</div>

<!-- This file is intended to be included within another document, -->
<!-- hence no sectioning command or @node. -->
<pre class="display">     Copyright &copy; 2000, 2001, 2002, 2007, 2008 Free Software Foundation, Inc.
     <a href="http://fsf.org/">http://fsf.org/</a>
     
     Everyone is permitted to copy and distribute verbatim copies
     of this license document, but changing it is not allowed.
</pre>
     <ol type=1 start=0>
<li>PREAMBLE

     <p>The purpose of this License is to make a manual, textbook, or other
functional and useful document <dfn>free</dfn> in the sense of freedom: to
assure everyone the effective freedom to copy and redistribute it,
with or without modifying it, either commercially or noncommercially. 
Secondarily, this License preserves for the author and publisher a way
to get credit for their work, while not being considered responsible
for modifications made by others.

     <p>This License is a kind of &ldquo;copyleft&rdquo;, which means that derivative
works of the document must themselves be free in the same sense.  It
complements the GNU General Public License, which is a copyleft
license designed for free software.

     <p>We have designed this License in order to use it for manuals for free
software, because free software needs free documentation: a free
program should come with manuals providing the same freedoms that the
software does.  But this License is not limited to software manuals;
it can be used for any textual work, regardless of subject matter or
whether it is published as a printed book.  We recommend this License
principally for works whose purpose is instruction or reference.

     <li>APPLICABILITY AND DEFINITIONS

     <p>This License applies to any manual or other work, in any medium, that
contains a notice placed by the copyright holder saying it can be
distributed under the terms of this License.  Such a notice grants a
world-wide, royalty-free license, unlimited in duration, to use that
work under the conditions stated herein.  The &ldquo;Document&rdquo;, below,
refers to any such manual or work.  Any member of the public is a
licensee, and is addressed as &ldquo;you&rdquo;.  You accept the license if you
copy, modify or distribute the work in a way requiring permission
under copyright law.

     <p>A &ldquo;Modified Version&rdquo; of the Document means any work containing the
Document or a portion of it, either copied verbatim, or with
modifications and/or translated into another language.

     <p>A &ldquo;Secondary Section&rdquo; is a named appendix or a front-matter section
of the Document that deals exclusively with the relationship of the
publishers or authors of the Document to the Document's overall
subject (or to related matters) and contains nothing that could fall
directly within that overall subject.  (Thus, if the Document is in
part a textbook of mathematics, a Secondary Section may not explain
any mathematics.)  The relationship could be a matter of historical
connection with the subject or with related matters, or of legal,
commercial, philosophical, ethical or political position regarding
them.

     <p>The &ldquo;Invariant Sections&rdquo; are certain Secondary Sections whose titles
are designated, as being those of Invariant Sections, in the notice
that says that the Document is released under this License.  If a
section does not fit the above definition of Secondary then it is not
allowed to be designated as Invariant.  The Document may contain zero
Invariant Sections.  If the Document does not identify any Invariant
Sections then there are none.

     <p>The &ldquo;Cover Texts&rdquo; are certain short passages of text that are listed,
as Front-Cover Texts or Back-Cover Texts, in the notice that says that
the Document is released under this License.  A Front-Cover Text may
be at most 5 words, and a Back-Cover Text may be at most 25 words.

     <p>A &ldquo;Transparent&rdquo; copy of the Document means a machine-readable copy,
represented in a format whose specification is available to the
general public, that is suitable for revising the document
straightforwardly with generic text editors or (for images composed of
pixels) generic paint programs or (for drawings) some widely available
drawing editor, and that is suitable for input to text formatters or
for automatic translation to a variety of formats suitable for input
to text formatters.  A copy made in an otherwise Transparent file
format whose markup, or absence of markup, has been arranged to thwart
or discourage subsequent modification by readers is not Transparent. 
An image format is not Transparent if used for any substantial amount
of text.  A copy that is not &ldquo;Transparent&rdquo; is called &ldquo;Opaque&rdquo;.

     <p>Examples of suitable formats for Transparent copies include plain
<span class="sc">ascii</span> without markup, Texinfo input format, LaTeX input
format, <acronym>SGML</acronym> or <acronym>XML</acronym> using a publicly available
<acronym>DTD</acronym>, and standard-conforming simple <acronym>HTML</acronym>,
PostScript or <acronym>PDF</acronym> designed for human modification.  Examples
of transparent image formats include <acronym>PNG</acronym>, <acronym>XCF</acronym> and
<acronym>JPG</acronym>.  Opaque formats include proprietary formats that can be
read and edited only by proprietary word processors, <acronym>SGML</acronym> or
<acronym>XML</acronym> for which the <acronym>DTD</acronym> and/or processing tools are
not generally available, and the machine-generated <acronym>HTML</acronym>,
PostScript or <acronym>PDF</acronym> produced by some word processors for
output purposes only.

     <p>The &ldquo;Title Page&rdquo; means, for a printed book, the title page itself,
plus such following pages as are needed to hold, legibly, the material
this License requires to appear in the title page.  For works in
formats which do not have any title page as such, &ldquo;Title Page&rdquo; means
the text near the most prominent appearance of the work's title,
preceding the beginning of the body of the text.

     <p>The &ldquo;publisher&rdquo; means any person or entity that distributes copies
of the Document to the public.

     <p>A section &ldquo;Entitled XYZ&rdquo; means a named subunit of the Document whose
title either is precisely XYZ or contains XYZ in parentheses following
text that translates XYZ in another language.  (Here XYZ stands for a
specific section name mentioned below, such as &ldquo;Acknowledgements&rdquo;,
&ldquo;Dedications&rdquo;, &ldquo;Endorsements&rdquo;, or &ldquo;History&rdquo;.)  To &ldquo;Preserve the Title&rdquo;
of such a section when you modify the Document means that it remains a
section &ldquo;Entitled XYZ&rdquo; according to this definition.

     <p>The Document may include Warranty Disclaimers next to the notice which
states that this License applies to the Document.  These Warranty
Disclaimers are considered to be included by reference in this
License, but only as regards disclaiming warranties: any other
implication that these Warranty Disclaimers may have is void and has
no effect on the meaning of this License.

     <li>VERBATIM COPYING

     <p>You may copy and distribute the Document in any medium, either
commercially or noncommercially, provided that this License, the
copyright notices, and the license notice saying this License applies
to the Document are reproduced in all copies, and that you add no other
conditions whatsoever to those of this License.  You may not use
technical measures to obstruct or control the reading or further
copying of the copies you make or distribute.  However, you may accept
compensation in exchange for copies.  If you distribute a large enough
number of copies you must also follow the conditions in section 3.

     <p>You may also lend copies, under the same conditions stated above, and
you may publicly display copies.

     <li>COPYING IN QUANTITY

     <p>If you publish printed copies (or copies in media that commonly have
printed covers) of the Document, numbering more than 100, and the
Document's license notice requires Cover Texts, you must enclose the
copies in covers that carry, clearly and legibly, all these Cover
Texts: Front-Cover Texts on the front cover, and Back-Cover Texts on
the back cover.  Both covers must also clearly and legibly identify
you as the publisher of these copies.  The front cover must present
the full title with all words of the title equally prominent and
visible.  You may add other material on the covers in addition. 
Copying with changes limited to the covers, as long as they preserve
the title of the Document and satisfy these conditions, can be treated
as verbatim copying in other respects.

     <p>If the required texts for either cover are too voluminous to fit
legibly, you should put the first ones listed (as many as fit
reasonably) on the actual cover, and continue the rest onto adjacent
pages.

     <p>If you publish or distribute Opaque copies of the Document numbering
more than 100, you must either include a machine-readable Transparent
copy along with each Opaque copy, or state in or with each Opaque copy
a computer-network location from which the general network-using
public has access to download using public-standard network protocols
a complete Transparent copy of the Document, free of added material. 
If you use the latter option, you must take reasonably prudent steps,
when you begin distribution of Opaque copies in quantity, to ensure
that this Transparent copy will remain thus accessible at the stated
location until at least one year after the last time you distribute an
Opaque copy (directly or through your agents or retailers) of that
edition to the public.

     <p>It is requested, but not required, that you contact the authors of the
Document well before redistributing any large number of copies, to give
them a chance to provide you with an updated version of the Document.

     <li>MODIFICATIONS

     <p>You may copy and distribute a Modified Version of the Document under
the conditions of sections 2 and 3 above, provided that you release
the Modified Version under precisely this License, with the Modified
Version filling the role of the Document, thus licensing distribution
and modification of the Modified Version to whoever possesses a copy
of it.  In addition, you must do these things in the Modified Version:

          <ol type=A start=1>
<li>Use in the Title Page (and on the covers, if any) a title distinct
from that of the Document, and from those of previous versions
(which should, if there were any, be listed in the History section
of the Document).  You may use the same title as a previous version
if the original publisher of that version gives permission.

          <li>List on the Title Page, as authors, one or more persons or entities
responsible for authorship of the modifications in the Modified
Version, together with at least five of the principal authors of the
Document (all of its principal authors, if it has fewer than five),
unless they release you from this requirement.

          <li>State on the Title page the name of the publisher of the
Modified Version, as the publisher.

          <li>Preserve all the copyright notices of the Document.

          <li>Add an appropriate copyright notice for your modifications
adjacent to the other copyright notices.

          <li>Include, immediately after the copyright notices, a license notice
giving the public permission to use the Modified Version under the
terms of this License, in the form shown in the Addendum below.

          <li>Preserve in that license notice the full lists of Invariant Sections
and required Cover Texts given in the Document's license notice.

          <li>Include an unaltered copy of this License.

          <li>Preserve the section Entitled &ldquo;History&rdquo;, Preserve its Title, and add
to it an item stating at least the title, year, new authors, and
publisher of the Modified Version as given on the Title Page.  If
there is no section Entitled &ldquo;History&rdquo; in the Document, create one
stating the title, year, authors, and publisher of the Document as
given on its Title Page, then add an item describing the Modified
Version as stated in the previous sentence.

          <li>Preserve the network location, if any, given in the Document for
public access to a Transparent copy of the Document, and likewise
the network locations given in the Document for previous versions
it was based on.  These may be placed in the &ldquo;History&rdquo; section. 
You may omit a network location for a work that was published at
least four years before the Document itself, or if the original
publisher of the version it refers to gives permission.

          <li>For any section Entitled &ldquo;Acknowledgements&rdquo; or &ldquo;Dedications&rdquo;, Preserve
the Title of the section, and preserve in the section all the
substance and tone of each of the contributor acknowledgements and/or
dedications given therein.

          <li>Preserve all the Invariant Sections of the Document,
unaltered in their text and in their titles.  Section numbers
or the equivalent are not considered part of the section titles.

          <li>Delete any section Entitled &ldquo;Endorsements&rdquo;.  Such a section
may not be included in the Modified Version.

          <li>Do not retitle any existing section to be Entitled &ldquo;Endorsements&rdquo; or
to conflict in title with any Invariant Section.

          <li>Preserve any Warranty Disclaimers.
          </ol>

     <p>If the Modified Version includes new front-matter sections or
appendices that qualify as Secondary Sections and contain no material
copied from the Document, you may at your option designate some or all
of these sections as invariant.  To do this, add their titles to the
list of Invariant Sections in the Modified Version's license notice. 
These titles must be distinct from any other section titles.

     <p>You may add a section Entitled &ldquo;Endorsements&rdquo;, provided it contains
nothing but endorsements of your Modified Version by various
parties&mdash;for example, statements of peer review or that the text has
been approved by an organization as the authoritative definition of a
standard.

     <p>You may add a passage of up to five words as a Front-Cover Text, and a
passage of up to 25 words as a Back-Cover Text, to the end of the list
of Cover Texts in the Modified Version.  Only one passage of
Front-Cover Text and one of Back-Cover Text may be added by (or
through arrangements made by) any one entity.  If the Document already
includes a cover text for the same cover, previously added by you or
by arrangement made by the same entity you are acting on behalf of,
you may not add another; but you may replace the old one, on explicit
permission from the previous publisher that added the old one.

     <p>The author(s) and publisher(s) of the Document do not by this License
give permission to use their names for publicity for or to assert or
imply endorsement of any Modified Version.

     <li>COMBINING DOCUMENTS

     <p>You may combine the Document with other documents released under this
License, under the terms defined in section 4 above for modified
versions, provided that you include in the combination all of the
Invariant Sections of all of the original documents, unmodified, and
list them all as Invariant Sections of your combined work in its
license notice, and that you preserve all their Warranty Disclaimers.

     <p>The combined work need only contain one copy of this License, and
multiple identical Invariant Sections may be replaced with a single
copy.  If there are multiple Invariant Sections with the same name but
different contents, make the title of each such section unique by
adding at the end of it, in parentheses, the name of the original
author or publisher of that section if known, or else a unique number. 
Make the same adjustment to the section titles in the list of
Invariant Sections in the license notice of the combined work.

     <p>In the combination, you must combine any sections Entitled &ldquo;History&rdquo;
in the various original documents, forming one section Entitled
&ldquo;History&rdquo;; likewise combine any sections Entitled &ldquo;Acknowledgements&rdquo;,
and any sections Entitled &ldquo;Dedications&rdquo;.  You must delete all
sections Entitled &ldquo;Endorsements.&rdquo;

     <li>COLLECTIONS OF DOCUMENTS

     <p>You may make a collection consisting of the Document and other documents
released under this License, and replace the individual copies of this
License in the various documents with a single copy that is included in
the collection, provided that you follow the rules of this License for
verbatim copying of each of the documents in all other respects.

     <p>You may extract a single document from such a collection, and distribute
it individually under this License, provided you insert a copy of this
License into the extracted document, and follow this License in all
other respects regarding verbatim copying of that document.

     <li>AGGREGATION WITH INDEPENDENT WORKS

     <p>A compilation of the Document or its derivatives with other separate
and independent documents or works, in or on a volume of a storage or
distribution medium, is called an &ldquo;aggregate&rdquo; if the copyright
resulting from the compilation is not used to limit the legal rights
of the compilation's users beyond what the individual works permit. 
When the Document is included in an aggregate, this License does not
apply to the other works in the aggregate which are not themselves
derivative works of the Document.

     <p>If the Cover Text requirement of section 3 is applicable to these
copies of the Document, then if the Document is less than one half of
the entire aggregate, the Document's Cover Texts may be placed on
covers that bracket the Document within the aggregate, or the
electronic equivalent of covers if the Document is in electronic form. 
Otherwise they must appear on printed covers that bracket the whole
aggregate.

     <li>TRANSLATION

     <p>Translation is considered a kind of modification, so you may
distribute translations of the Document under the terms of section 4. 
Replacing Invariant Sections with translations requires special
permission from their copyright holders, but you may include
translations of some or all Invariant Sections in addition to the
original versions of these Invariant Sections.  You may include a
translation of this License, and all the license notices in the
Document, and any Warranty Disclaimers, provided that you also include
the original English version of this License and the original versions
of those notices and disclaimers.  In case of a disagreement between
the translation and the original version of this License or a notice
or disclaimer, the original version will prevail.

     <p>If a section in the Document is Entitled &ldquo;Acknowledgements&rdquo;,
&ldquo;Dedications&rdquo;, or &ldquo;History&rdquo;, the requirement (section 4) to Preserve
its Title (section 1) will typically require changing the actual
title.

     <li>TERMINATION

     <p>You may not copy, modify, sublicense, or distribute the Document
except as expressly provided under this License.  Any attempt
otherwise to copy, modify, sublicense, or distribute it is void, and
will automatically terminate your rights under this License.

     <p>However, if you cease all violation of this License, then your license
from a particular copyright holder is reinstated (a) provisionally,
unless and until the copyright holder explicitly and finally
terminates your license, and (b) permanently, if the copyright holder
fails to notify you of the violation by some reasonable means prior to
60 days after the cessation.

     <p>Moreover, your license from a particular copyright holder is
reinstated permanently if the copyright holder notifies you of the
violation by some reasonable means, this is the first time you have
received notice of violation of this License (for any work) from that
copyright holder, and you cure the violation prior to 30 days after
your receipt of the notice.

     <p>Termination of your rights under this section does not terminate the
licenses of parties who have received copies or rights from you under
this License.  If your rights have been terminated and not permanently
reinstated, receipt of a copy of some or all of the same material does
not give you any rights to use it.

     <li>FUTURE REVISIONS OF THIS LICENSE

     <p>The Free Software Foundation may publish new, revised versions
of the GNU Free Documentation License from time to time.  Such new
versions will be similar in spirit to the present version, but may
differ in detail to address new problems or concerns.  See
<a href="http://www.gnu.org/copyleft/">http://www.gnu.org/copyleft/</a>.

     <p>Each version of the License is given a distinguishing version number. 
If the Document specifies that a particular numbered version of this
License &ldquo;or any later version&rdquo; applies to it, you have the option of
following the terms and conditions either of that specified version or
of any later version that has been published (not as a draft) by the
Free Software Foundation.  If the Document does not specify a version
number of this License, you may choose any version ever published (not
as a draft) by the Free Software Foundation.  If the Document
specifies that a proxy can decide which future versions of this
License can be used, that proxy's public statement of acceptance of a
version permanently authorizes you to choose that version for the
Document.

     <li>RELICENSING

     <p>&ldquo;Massive Multiauthor Collaboration Site&rdquo; (or &ldquo;MMC Site&rdquo;) means any
World Wide Web server that publishes copyrightable works and also
provides prominent facilities for anybody to edit those works.  A
public wiki that anybody can edit is an example of such a server.  A
&ldquo;Massive Multiauthor Collaboration&rdquo; (or &ldquo;MMC&rdquo;) contained in the
site means any set of copyrightable works thus published on the MMC
site.

     <p>&ldquo;CC-BY-SA&rdquo; means the Creative Commons Attribution-Share Alike 3.0
license published by Creative Commons Corporation, a not-for-profit
corporation with a principal place of business in San Francisco,
California, as well as future copyleft versions of that license
published by that same organization.

     <p>&ldquo;Incorporate&rdquo; means to publish or republish a Document, in whole or
in part, as part of another Document.

     <p>An MMC is &ldquo;eligible for relicensing&rdquo; if it is licensed under this
License, and if all works that were first published under this License
somewhere other than this MMC, and subsequently incorporated in whole
or in part into the MMC, (1) had no cover texts or invariant sections,
and (2) were thus incorporated prior to November 1, 2008.

     <p>The operator of an MMC Site may republish an MMC contained in the site
under CC-BY-SA on the same site at any time before August 1, 2009,
provided the MMC is eligible for relicensing.

        </ol>

<h3 class="heading">ADDENDUM: How to use this License for your documents</h3>

<p>To use this License in a document you have written, include a copy of
the License in the document and put the following copyright and
license notices just after the title page:

<pre class="smallexample">       Copyright (C)  <var>year</var>  <var>your name</var>.
       Permission is granted to copy, distribute and/or modify this document
       under the terms of the GNU Free Documentation License, Version 1.3
       or any later version published by the Free Software Foundation;
       with no Invariant Sections, no Front-Cover Texts, and no Back-Cover
       Texts.  A copy of the license is included in the section entitled ``GNU
       Free Documentation License''.
</pre>
   <p>If you have Invariant Sections, Front-Cover Texts and Back-Cover Texts,
replace the &ldquo;with<small class="dots">...</small>Texts.&rdquo; line with this:

<pre class="smallexample">         with the Invariant Sections being <var>list their titles</var>, with
         the Front-Cover Texts being <var>list</var>, and with the Back-Cover Texts
         being <var>list</var>.
</pre>
   <p>If you have Invariant Sections without Cover Texts, or some other
combination of the three, merge those two alternatives to suit the
situation.

   <p>If your document contains nontrivial examples of program code, we
recommend releasing these examples in parallel under your choice of
free software license, such as the GNU General Public License,
to permit their use in free software.

<!-- Local Variables: -->
<!-- ispell-local-pdict: "ispell-dict" -->
<!-- End: -->
<!-- The Data Type Index is merged with the Variable Index, because the -->
<!-- former has so few entries. -->
<!-- "@syncodeindex tp vr" appears after "@c %**end of header", above. -->
<!-- LDF 2003.09.01. -->
<!-- varidx.texi -->
<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
<div class="node">
<a name="Data-Type-and-Variable-Index"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Function-Index">Function Index</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#GNU-Free-Documentation-License">GNU Free Documentation License</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="unnumbered">Data Type and Variable Index</h2>

<ul class="index-vr" compact>
<li><a href="#index-angle-478"><code>angle</code></a>: <a href="#Focus-Data-Members">Focus Data Members</a></li>
<li><a href="#index-angle_005fhex_005fhex-881"><code>angle_hex_hex</code></a>: <a href="#Truncated-Octahedron-Data-Members">Truncated Octahedron Data Members</a></li>
<li><a href="#index-angle_005fhex_005fsquare-880"><code>angle_hex_square</code></a>: <a href="#Truncated-Octahedron-Data-Members">Truncated Octahedron Data Members</a></li>
<li><a href="#index-arrow-536"><code>arrow</code></a>: <a href="#Path-Data-Members">Path Data Members</a></li>
<li><a href="#index-axis-479"><code>axis</code></a>: <a href="#Focus-Data-Members">Focus Data Members</a></li>
<li><a href="#index-axis_005fh-712"><code>axis_h</code></a>: <a href="#Ellipse-Data-Members">Ellipse Data Members</a></li>
<li><a href="#index-axis_005fh-672"><code>axis_h</code></a>: <a href="#Rectangle-Data-Members">Rectangle Data Members</a></li>
<li><a href="#index-axis_005fv-713"><code>axis_v</code></a>: <a href="#Ellipse-Data-Members">Ellipse Data Members</a></li>
<li><a href="#index-axis_005fv-673"><code>axis_v</code></a>: <a href="#Rectangle-Data-Members">Rectangle Data Members</a></li>
<li><a href="#index-AXON-329"><code>AXON</code></a>: <a href="#Namespace-Projections">Namespace Projections</a></li>
<li><a href="#index-background_005fcolor-217"><code>background_color</code></a>: <a href="#Namespace-Colors">Namespace Colors</a></li>
<li><a href="#index-background_005fcolor_005fvector-222"><code>background_color_vector</code></a>: <a href="#Namespace-Colors">Namespace Colors</a></li>
<li><a href="#index-black-212"><code>black</code></a>: <a href="#Namespace-Colors">Namespace Colors</a></li>
<li><a href="#index-blue-199"><code>blue</code></a>: <a href="#Namespace-Colors">Namespace Colors</a></li>
<li><a href="#index-blue_005fpart-169"><code>blue_part</code></a>: <a href="#Color-Data-Members">Color Data Members</a></li>
<li><a href="#index-blue_005fviolet-210"><code>blue_violet</code></a>: <a href="#Namespace-Colors">Namespace Colors</a></li>
<li><a href="#index-bool_005fpair-138"><code>bool_pair</code></a>: <a href="#Typedefs-and-Utility-Structures">Typedefs and Utility Structures</a></li>
<li><a href="#index-bool_005fpoint-355"><code>bool_point</code></a>: <a href="#Point-Typedefs-and-Utility-Structures">Point Typedefs and Utility Structures</a></li>
<li><a href="#index-bool_005fpoint_005fpair-359"><code>bool_point_pair</code></a>: <a href="#Point-Typedefs-and-Utility-Structures">Point Typedefs and Utility Structures</a></li>
<li><a href="#index-bool_005fpoint_005fquadruple-360"><code>bool_point_quadruple</code></a>: <a href="#Point-Typedefs-and-Utility-Structures">Point Typedefs and Utility Structures</a></li>
<li><a href="#index-bool_005freal-139"><code>bool_real</code></a>: <a href="#Typedefs-and-Utility-Structures">Typedefs and Utility Structures</a></li>
<li><a href="#index-bool_005freal_005fpoint-364"><code>bool_real_point</code></a>: <a href="#Point-Typedefs-and-Utility-Structures">Point Typedefs and Utility Structures</a></li>
<li><a href="#index-center-776"><code>center</code></a>: <a href="#Solid-Data-Members">Solid Data Members</a></li>
<li><a href="#index-center-693"><code>center</code></a>: <a href="#Regular-Closed-Plane-Curve-Data-Members">Regular Closed Plane Curve Data Members</a></li>
<li><a href="#index-center-637"><code>center</code></a>: <a href="#Polygon-Data-Members">Polygon Data Members</a></li>
<li><a href="#index-CIRCLE-784"><code>CIRCLE</code></a>: <a href="#Solid-Data-Members">Solid Data Members</a></li>
<li><a href="#index-Circle-759"><code>Circle</code></a>: <a href="#Circle-Reference">Circle Reference</a></li>
<li><a href="#index-Circle-57"><code>Circle</code></a>: <a href="#Plane-Figures">Plane Figures</a></li>
<li><a href="#index-circles-779"><code>circles</code></a>: <a href="#Solid-Data-Members">Solid Data Members</a></li>
<li><a href="#index-Color-162"><code>Color</code></a>: <a href="#Color-Reference">Color Reference</a></li>
<li><a href="#index-connectors-539"><code>connectors</code></a>: <a href="#Path-Data-Members">Path Data Members</a></li>
<li><a href="#index-Cuboid-840"><code>Cuboid</code></a>: <a href="#Cuboid-Reference">Cuboid Reference</a></li>
<li><a href="#index-Cuboid-63"><code>Cuboid</code></a>: <a href="#Cuboid-Getstart">Cuboid Getstart</a></li>
<li><a href="#index-CURR_005fY-352"><code>CURR_Y</code></a>: <a href="#Point-Data-Members">Point Data Members</a></li>
<li><a href="#index-CURR_005fZ-353"><code>CURR_Z</code></a>: <a href="#Point-Data-Members">Point Data Members</a></li>
<li><a href="#index-cyan-200"><code>cyan</code></a>: <a href="#Namespace-Colors">Namespace Colors</a></li>
<li><a href="#index-cycle_005fswitch-528"><code>cycle_switch</code></a>: <a href="#Path-Data-Members">Path Data Members</a></li>
<li><a href="#index-dashed-534"><code>dashed</code></a>: <a href="#Path-Data-Members">Path Data Members</a></li>
<li><a href="#index-default_005fbackground-216"><code>default_background</code></a>: <a href="#Namespace-Colors">Namespace Colors</a></li>
<li><a href="#index-default_005fcolor-218"><code>default_color</code></a>: <a href="#Namespace-Colors">Namespace Colors</a></li>
<li><a href="#index-default_005fcolor_005fvector-220"><code>default_color_vector</code></a>: <a href="#Namespace-Colors">Namespace Colors</a></li>
<li><a href="#index-default_005ffocus-482"><code>default_focus</code></a>: <a href="#Focus-Global-Variables">Focus Global Variables</a></li>
<li><a href="#index-DEFAULT_005fNUMBER_005fOF_005fPOINTS-714"><code>DEFAULT_NUMBER_OF_POINTS</code></a>: <a href="#Ellipse-Data-Members">Ellipse Data Members</a></li>
<li><a href="#index-depth-843"><code>depth</code></a>: <a href="#Cuboid-Data-Members">Cuboid Data Members</a></li>
<li><a href="#index-dihedral_005fangle-872"><code>dihedral_angle</code></a>: <a href="#Icosahedron-Data-Members">Icosahedron Data Members</a></li>
<li><a href="#index-dihedral_005fangle-865"><code>dihedral_angle</code></a>: <a href="#Dodecahedron-Data-Members">Dodecahedron Data Members</a></li>
<li><a href="#index-dihedral_005fangle-857"><code>dihedral_angle</code></a>: <a href="#Tetrahedron-Data-Members">Tetrahedron Data Members</a></li>
<li><a href="#index-direction-501"><code>direction</code></a>: <a href="#Line-Data-Members">Line Data Members</a></li>
<li><a href="#index-direction-475"><code>direction</code></a>: <a href="#Focus-Data-Members">Focus Data Members</a></li>
<li><a href="#index-distance-511"><code>distance</code></a>: <a href="#Planes-Data-Members">Planes Data Members</a></li>
<li><a href="#index-distance-477"><code>distance</code></a>: <a href="#Focus-Data-Members">Focus Data Members</a></li>
<li><a href="#index-do_005fhelp_005flines-542"><code>do_help_lines</code></a>: <a href="#Path-Data-Members">Path Data Members</a></li>
<li><a href="#index-do_005flabels-305"><code>do_labels</code></a>: <a href="#Picture-Data-Members">Picture Data Members</a></li>
<li><a href="#index-DO_005fLABELS-298"><code>DO_LABELS</code></a>: <a href="#Label-Data-Members">Label Data Members</a></li>
<li><a href="#index-do_005foutput-777"><code>do_output</code></a>: <a href="#Solid-Data-Members">Solid Data Members</a></li>
<li><a href="#index-do_005foutput-530"><code>do_output</code></a>: <a href="#Path-Data-Members">Path Data Members</a></li>
<li><a href="#index-do_005foutput-350"><code>do_output</code></a>: <a href="#Point-Data-Members">Point Data Members</a></li>
<li><a href="#index-Dodecahedron-864"><code>Dodecahedron</code></a>: <a href="#Dodecahedron">Dodecahedron</a></li>
<li><a href="#index-Dodecahedron-66"><code>Dodecahedron</code></a>: <a href="#Dodecahedron-Getstart">Dodecahedron Getstart</a></li>
<li><a href="#index-dot-295"><code>dot</code></a>: <a href="#Label-Data-Members">Label Data Members</a></li>
<li><a href="#index-DRAW-234"><code>DRAW</code></a>: <a href="#Shape-Data-Members">Shape Data Members</a></li>
<li><a href="#index-draw_005fcolor-532"><code>draw_color</code></a>: <a href="#Path-Data-Members">Path Data Members</a></li>
<li><a href="#index-DRAWDOT-233"><code>DRAWDOT</code></a>: <a href="#Shape-Data-Members">Shape Data Members</a></li>
<li><a href="#index-drawdot_005fcolor-347"><code>drawdot_color</code></a>: <a href="#Point-Data-Members">Point Data Members</a></li>
<li><a href="#index-drawdot_005fvalue-346"><code>drawdot_value</code></a>: <a href="#Point-Data-Members">Point Data Members</a></li>
<li><a href="#index-edge_005fradius-854"><code>edge_radius</code></a>: <a href="#Polyhedron-Data-Members">Polyhedron Data Members</a></li>
<li><a href="#index-edges-839"><code>edges</code></a>: <a href="#Solid_005fFaced-Data-Members">Solid_Faced Data Members</a></li>
<li><a href="#index-ELLIPSE-785"><code>ELLIPSE</code></a>: <a href="#Solid-Data-Members">Solid Data Members</a></li>
<li><a href="#index-Ellipse-707"><code>Ellipse</code></a>: <a href="#Ellipse-Reference">Ellipse Reference</a></li>
<li><a href="#index-Ellipse-58"><code>Ellipse</code></a>: <a href="#Plane-Figures">Plane Figures</a></li>
<li><a href="#index-ellipses-780"><code>ellipses</code></a>: <a href="#Solid-Data-Members">Solid Data Members</a></li>
<li><a href="#index-face_005fradius-853"><code>face_radius</code></a>: <a href="#Polyhedron-Data-Members">Polyhedron Data Members</a></li>
<li><a href="#index-faces-837"><code>faces</code></a>: <a href="#Solid_005fFaced-Data-Members">Solid_Faced Data Members</a></li>
<li><a href="#index-FILL-235"><code>FILL</code></a>: <a href="#Shape-Data-Members">Shape Data Members</a></li>
<li><a href="#index-fill_005fcolor-533"><code>fill_color</code></a>: <a href="#Path-Data-Members">Path Data Members</a></li>
<li><a href="#index-fill_005fdraw_005fvalue-531"><code>fill_draw_value</code></a>: <a href="#Path-Data-Members">Path Data Members</a></li>
<li><a href="#index-FILLDRAW-236"><code>FILLDRAW</code></a>: <a href="#Shape-Data-Members">Shape Data Members</a></li>
<li><a href="#index-Focus-473"><code>Focus</code></a>: <a href="#Focus-Reference">Focus Reference</a></li>
<li><a href="#index-focus-75"><code>focus</code></a>: <a href="#Focuses-Getstart">Focuses Getstart</a></li>
<li><a href="#index-focus0-708"><code>focus0</code></a>: <a href="#Ellipse-Data-Members">Ellipse Data Members</a></li>
<li><a href="#index-focus1-709"><code>focus1</code></a>: <a href="#Ellipse-Data-Members">Ellipse Data Members</a></li>
<li><a href="#index-gray-214"><code>gray</code></a>: <a href="#Namespace-Colors">Namespace Colors</a></li>
<li><a href="#index-green-198"><code>green</code></a>: <a href="#Namespace-Colors">Namespace Colors</a></li>
<li><a href="#index-green_005fpart-168"><code>green_part</code></a>: <a href="#Color-Data-Members">Color Data Members</a></li>
<li><a href="#index-green_005fyellow-206"><code>green_yellow</code></a>: <a href="#Namespace-Colors">Namespace Colors</a></li>
<li><a href="#index-height-841"><code>height</code></a>: <a href="#Cuboid-Data-Members">Cuboid Data Members</a></li>
<li><a href="#index-help_005fcolor-540"><code>help_color</code></a>: <a href="#Path-Data-Members">Path Data Members</a></li>
<li><a href="#index-help_005fcolor-219"><code>help_color</code></a>: <a href="#Namespace-Colors">Namespace Colors</a></li>
<li><a href="#index-help_005fcolor_005fvector-221"><code>help_color_vector</code></a>: <a href="#Namespace-Colors">Namespace Colors</a></li>
<li><a href="#index-help_005fdash_005fpattern-541"><code>help_dash_pattern</code></a>: <a href="#Path-Data-Members">Path Data Members</a></li>
<li><a href="#index-hexagon_005fradius-882"><code>hexagon_radius</code></a>: <a href="#Truncated-Octahedron-Data-Members">Truncated Octahedron Data Members</a></li>
<li><a href="#index-Icosahedron-871"><code>Icosahedron</code></a>: <a href="#Icosahedron">Icosahedron</a></li>
<li><a href="#index-Icosahedron-67"><code>Icosahedron</code></a>: <a href="#Icosahedron-Getstart">Icosahedron Getstart</a></li>
<li><a href="#index-IDENTITY_005fTRANSFORM-266"><code>IDENTITY_TRANSFORM</code></a>: <a href="#Transform-Global-Variables-and-Constants">Transform Global Variables and Constants</a></li>
<li><a href="#index-in_005fstream-223"><code>in_stream</code></a>: <a href="#I_002fO-Global-Variables">I/O Global Variables</a></li>
<li><a href="#index-internal_005fangle-654"><code>internal_angle</code></a>: <a href="#Regular-Polygon-Data-Members">Regular Polygon Data Members</a></li>
<li><a href="#index-INVALID_005fBOOL_005fPOINT-371"><code>INVALID_BOOL_POINT</code></a>: <a href="#Point-Global-Constants-and-Variables">Point Global Constants and Variables</a></li>
<li><a href="#index-INVALID_005fBOOL_005fPOINT_005fPAIR-372"><code>INVALID_BOOL_POINT_PAIR</code></a>: <a href="#Point-Global-Constants-and-Variables">Point Global Constants and Variables</a></li>
<li><a href="#index-INVALID_005fBOOL_005fPOINT_005fQUADRUPLE-374"><code>INVALID_BOOL_POINT_QUADRUPLE</code></a>: <a href="#Point-Global-Constants-and-Variables">Point Global Constants and Variables</a></li>
<li><a href="#index-INVALID_005fBOOL_005fREAL_005fPOINT-373"><code>INVALID_BOOL_REAL_POINT</code></a>: <a href="#Point-Global-Constants-and-Variables">Point Global Constants and Variables</a></li>
<li><a href="#index-INVALID_005fLINE-502"><code>INVALID_LINE</code></a>: <a href="#Line-Global-Constants">Line Global Constants</a></li>
<li><a href="#index-INVALID_005fPLANE-512"><code>INVALID_PLANE</code></a>: <a href="#Planes-Global-Constants">Planes Global Constants</a></li>
<li><a href="#index-INVALID_005fPOINT-369"><code>INVALID_POINT</code></a>: <a href="#Point-Global-Constants-and-Variables">Point Global Constants and Variables</a></li>
<li><a href="#index-INVALID_005fREAL-144"><code>INVALID_REAL</code></a>: <a href="#Global-Constants-and-Variables">Global Constants and Variables</a></li>
<li><a href="#index-INVALID_005fREAL_005fPAIR-145"><code>INVALID_REAL_PAIR</code></a>: <a href="#Global-Constants-and-Variables">Global Constants and Variables</a></li>
<li><a href="#index-INVALID_005fREAL_005fSHORT-146"><code>INVALID_REAL_SHORT</code></a>: <a href="#Global-Constants-and-Variables">Global Constants and Variables</a></li>
<li><a href="#index-INVALID_005fTRANSFORM-265"><code>INVALID_TRANSFORM</code></a>: <a href="#Transform-Global-Variables-and-Constants">Transform Global Variables and Constants</a></li>
<li><a href="#index-ISO-330"><code>ISO</code></a>: <a href="#Namespace-Projections">Namespace Projections</a></li>
<li><a href="#index-Label-293"><code>Label</code></a>: <a href="#Label-Reference">Label Reference</a></li>
<li><a href="#index-labels-304"><code>labels</code></a>: <a href="#Picture-Data-Members">Picture Data Members</a></li>
<li><a href="#index-ldf_005freal_005fdouble-141"><code>ldf_real_double</code></a>: <a href="#Global-Constants-and-Variables">Global Constants and Variables</a></li>
<li><a href="#index-ldf_005freal_005ffloat-140"><code>ldf_real_float</code></a>: <a href="#Global-Constants-and-Variables">Global Constants and Variables</a></li>
<li><a href="#index-light_005fgray-215"><code>light_gray</code></a>: <a href="#Namespace-Colors">Namespace Colors</a></li>
<li><a href="#index-Line-499"><code>Line</code></a>: <a href="#Line-Reference">Line Reference</a></li>
<li><a href="#index-line_005fswitch-526"><code>line_switch</code></a>: <a href="#Path-Data-Members">Path Data Members</a></li>
<li><a href="#index-linear_005feccentricity-710"><code>linear_eccentricity</code></a>: <a href="#Ellipse-Data-Members">Ellipse Data Members</a></li>
<li><a href="#index-magenta-202"><code>magenta</code></a>: <a href="#Namespace-Colors">Namespace Colors</a></li>
<li><a href="#index-matrix-263"><code>matrix</code></a>: <a href="#Transform-Data-Members">Transform Data Members</a></li>
<li><a href="#index-Matrix-136"><code>Matrix</code></a>: <a href="#Typedefs-and-Utility-Structures">Typedefs and Utility Structures</a></li>
<li><a href="#index-MAX_005fREAL-147"><code>MAX_REAL</code></a>: <a href="#Global-Constants-and-Variables">Global Constants and Variables</a></li>
<li><a href="#index-MAX_005fREAL_005fSQRT-149"><code>MAX_REAL_SQRT</code></a>: <a href="#Global-Constants-and-Variables">Global Constants and Variables</a></li>
<li><a href="#index-MAX_005fZ-332"><code>MAX_Z</code></a>: <a href="#Namespace-Sorting">Namespace Sorting</a></li>
<li><a href="#index-MEAN_005fZ-334"><code>MEAN_Z</code></a>: <a href="#Namespace-Sorting">Namespace Sorting</a></li>
<li><a href="#index-measurement_005funits-351"><code>measurement_units</code></a>: <a href="#Point-Data-Members">Point Data Members</a></li>
<li><a href="#index-measurement_005funits-_0028Point_0029-18"><code>measurement_units (Point)</code></a>: <a href="#Declaring-and-Initializing-Points">Declaring and Initializing Points</a></li>
<li><a href="#index-MIN_005fZ-333"><code>MIN_Z</code></a>: <a href="#Namespace-Sorting">Namespace Sorting</a></li>
<li><a href="#index-name-163"><code>name</code></a>: <a href="#Color-Data-Members">Color Data Members</a></li>
<li><a href="#index-NO_005fSORT-331"><code>NO_SORT</code></a>: <a href="#Namespace-Sorting">Namespace Sorting</a></li>
<li><a href="#index-normal-510"><code>normal</code></a>: <a href="#Planes-Data-Members">Planes Data Members</a></li>
<li><a href="#index-null_005fcoordinates-143"><code>null_coordinates</code></a>: <a href="#Global-Constants-and-Variables">Global Constants and Variables</a></li>
<li><a href="#index-number_005fof_005fpoints-694"><code>number_of_points</code></a>: <a href="#Regular-Closed-Plane-Curve-Data-Members">Regular Closed Plane Curve Data Members</a></li>
<li><a href="#index-number_005fof_005fpolygon_005ftypes-852"><code>number_of_polygon_types</code></a>: <a href="#Polyhedron-Data-Members">Polyhedron Data Members</a></li>
<li><a href="#index-numerical_005feccentricity-711"><code>numerical_eccentricity</code></a>: <a href="#Ellipse-Data-Members">Ellipse Data Members</a></li>
<li><a href="#index-on_005ffree_005fstore-775"><code>on_free_store</code></a>: <a href="#Solid-Data-Members">Solid Data Members</a></li>
<li><a href="#index-on_005ffree_005fstore-674"><code>on_free_store</code></a>: <a href="#Rectangle-Data-Members">Rectangle Data Members</a></li>
<li><a href="#index-on_005ffree_005fstore-657"><code>on_free_store</code></a>: <a href="#Regular-Polygon-Data-Members">Regular Polygon Data Members</a></li>
<li><a href="#index-on_005ffree_005fstore-529"><code>on_free_store</code></a>: <a href="#Path-Data-Members">Path Data Members</a></li>
<li><a href="#index-on_005ffree_005fstore-345"><code>on_free_store</code></a>: <a href="#Point-Data-Members">Point Data Members</a></li>
<li><a href="#index-on_005ffree_005fstore-166"><code>on_free_store</code></a>: <a href="#Color-Data-Members">Color Data Members</a></li>
<li><a href="#index-orange-207"><code>orange</code></a>: <a href="#Namespace-Colors">Namespace Colors</a></li>
<li><a href="#index-orange_005fred-203"><code>orange_red</code></a>: <a href="#Namespace-Colors">Namespace Colors</a></li>
<li><a href="#index-origin-370"><code>origin</code></a>: <a href="#Point-Global-Constants-and-Variables">Point Global Constants and Variables</a></li>
<li><a href="#index-out_005fstream-224"><code>out_stream</code></a>: <a href="#I_002fO-Global-Variables">I/O Global Variables</a></li>
<li><a href="#index-out_005fstream-70"><code>out_stream</code></a>: <a href="#Pictures">Pictures</a></li>
<li><a href="#index-PARALLEL_005fX_005fY-326"><code>PARALLEL_X_Y</code></a>: <a href="#Namespace-Projections">Namespace Projections</a></li>
<li><a href="#index-PARALLEL_005fX_005fZ-327"><code>PARALLEL_X_Z</code></a>: <a href="#Namespace-Projections">Namespace Projections</a></li>
<li><a href="#index-PARALLEL_005fZ_005fY-328"><code>PARALLEL_Z_Y</code></a>: <a href="#Namespace-Projections">Namespace Projections</a></li>
<li><a href="#index-PATH-786"><code>PATH</code></a>: <a href="#Solid-Data-Members">Solid Data Members</a></li>
<li><a href="#index-Path-525"><code>Path</code></a>: <a href="#Path-Reference">Path Reference</a></li>
<li><a href="#index-Path-50"><code>Path</code></a>: <a href="#Paths">Paths</a></li>
<li><a href="#index-paths-778"><code>paths</code></a>: <a href="#Solid-Data-Members">Solid Data Members</a></li>
<li><a href="#index-pen-535"><code>pen</code></a>: <a href="#Path-Data-Members">Path Data Members</a></li>
<li><a href="#index-pen-348"><code>pen</code></a>: <a href="#Point-Data-Members">Point Data Members</a></li>
<li><a href="#index-pentagon_005fradius-866"><code>pentagon_radius</code></a>: <a href="#Dodecahedron-Data-Members">Dodecahedron Data Members</a></li>
<li><a href="#index-persp-481"><code>persp</code></a>: <a href="#Focus-Data-Members">Focus Data Members</a></li>
<li><a href="#index-PERSP-325"><code>PERSP</code></a>: <a href="#Namespace-Projections">Namespace Projections</a></li>
<li><a href="#index-PI-142"><code>PI</code></a>: <a href="#Global-Constants-and-Variables">Global Constants and Variables</a></li>
<li><a href="#index-Picture-306"><code>Picture</code></a>: <a href="#Picture-Global-Variables">Picture Global Variables</a></li>
<li><a href="#index-Picture-301"><code>Picture</code></a>: <a href="#Picture-Reference">Picture Reference</a></li>
<li><a href="#index-Picture-68"><code>Picture</code></a>: <a href="#Pictures">Pictures</a></li>
<li><a href="#index-pink-205"><code>pink</code></a>: <a href="#Namespace-Colors">Namespace Colors</a></li>
<li><a href="#index-Plane-508"><code>Plane</code></a>: <a href="#Plane-Reference">Plane Reference</a></li>
<li><a href="#index-point-509"><code>point</code></a>: <a href="#Planes-Data-Members">Planes Data Members</a></li>
<li><a href="#index-Point-339"><code>Point</code></a>: <a href="#Point-Reference">Point Reference</a></li>
<li><a href="#index-Point-16"><code>Point</code></a>: <a href="#Declaring-and-Initializing-Points">Declaring and Initializing Points</a></li>
<li><a href="#index-Point_003a_003ameasurement_005funits-17"><code>Point::measurement_units</code></a>: <a href="#Declaring-and-Initializing-Points">Declaring and Initializing Points</a></li>
<li><a href="#index-Point_003a_003aprojective_005fcoordinates-25"><code>Point::projective_coordinates</code></a>: <a href="#Declaring-and-Initializing-Points">Declaring and Initializing Points</a></li>
<li><a href="#index-Point_003a_003auser_005fcoordinates-23"><code>Point::user_coordinates</code></a>: <a href="#Declaring-and-Initializing-Points">Declaring and Initializing Points</a></li>
<li><a href="#index-Point_003a_003aview_005fcoordinates-24"><code>Point::view_coordinates</code></a>: <a href="#Declaring-and-Initializing-Points">Declaring and Initializing Points</a></li>
<li><a href="#index-Point_003a_003aworld_005fcoordinates-22"><code>Point::world_coordinates</code></a>: <a href="#Declaring-and-Initializing-Points">Declaring and Initializing Points</a></li>
<li><a href="#index-point_005fpair-354"><code>point_pair</code></a>: <a href="#Point-Typedefs-and-Utility-Structures">Point Typedefs and Utility Structures</a></li>
<li><a href="#index-points-538"><code>points</code></a>: <a href="#Path-Data-Members">Path Data Members</a></li>
<li><a href="#index-Polygon-636"><code>Polygon</code></a>: <a href="#Polygon-Reference">Polygon Reference</a></li>
<li><a href="#index-Polygon-59"><code>Polygon</code></a>: <a href="#Plane-Figures">Plane Figures</a></li>
<li><a href="#index-Polyhedron-851"><code>Polyhedron</code></a>: <a href="#Polyhedron-Reference">Polyhedron Reference</a></li>
<li><a href="#index-Polyhedron-64"><code>Polyhedron</code></a>: <a href="#Polyhedron-Getstart">Polyhedron Getstart</a></li>
<li><a href="#index-position-500"><code>position</code></a>: <a href="#Line-Data-Members">Line Data Members</a></li>
<li><a href="#index-position-474"><code>position</code></a>: <a href="#Focus-Data-Members">Focus Data Members</a></li>
<li><a href="#index-position-297"><code>position</code></a>: <a href="#Label-Data-Members">Label Data Members</a></li>
<li><a href="#index-projective_005fcoordinates-341"><code>projective_coordinates</code></a>: <a href="#Point-Data-Members">Point Data Members</a></li>
<li><a href="#index-projective_005fcoordinates-_0028Point_0029-29"><code>projective_coordinates (Point)</code></a>: <a href="#Declaring-and-Initializing-Points">Declaring and Initializing Points</a></li>
<li><a href="#index-projective_005fextremes-783"><code>projective_extremes</code></a>: <a href="#Solid-Data-Members">Solid Data Members</a></li>
<li><a href="#index-projective_005fextremes-537"><code>projective_extremes</code></a>: <a href="#Path-Data-Members">Path Data Members</a></li>
<li><a href="#index-projective_005fextremes-349"><code>projective_extremes</code></a>: <a href="#Point-Data-Members">Point Data Members</a></li>
<li><a href="#index-pt-294"><code>pt</code></a>: <a href="#Label-Data-Members">Label Data Members</a></li>
<li><a href="#index-purple-209"><code>purple</code></a>: <a href="#Namespace-Colors">Namespace Colors</a></li>
<li><a href="#index-radius-760"><code>radius</code></a>: <a href="#Circle-Data-Members">Circle Data Members</a></li>
<li><a href="#index-radius-655"><code>radius</code></a>: <a href="#Regular-Polygon-Data-Members">Regular Polygon Data Members</a></li>
<li><a href="#index-real-131"><code>real</code></a>: <a href="#Typedefs-and-Utility-Structures">Typedefs and Utility Structures</a></li>
<li><a href="#index-real_005fpair-132"><code>real_pair</code></a>: <a href="#Typedefs-and-Utility-Structures">Typedefs and Utility Structures</a></li>
<li><a href="#index-real_005fshort-137"><code>real_short</code></a>: <a href="#Typedefs-and-Utility-Structures">Typedefs and Utility Structures</a></li>
<li><a href="#index-real_005ftriple-133"><code>real_triple</code></a>: <a href="#Typedefs-and-Utility-Structures">Typedefs and Utility Structures</a></li>
<li><a href="#index-RECTANGLE-787"><code>RECTANGLE</code></a>: <a href="#Solid-Data-Members">Solid Data Members</a></li>
<li><a href="#index-Rectangle-671"><code>Rectangle</code></a>: <a href="#Rectangle-Reference">Rectangle Reference</a></li>
<li><a href="#index-Rectangle-60"><code>Rectangle</code></a>: <a href="#Plane-Figures">Plane Figures</a></li>
<li><a href="#index-rectangles-782"><code>rectangles</code></a>: <a href="#Solid-Data-Members">Solid Data Members</a></li>
<li><a href="#index-red-197"><code>red</code></a>: <a href="#Namespace-Colors">Namespace Colors</a></li>
<li><a href="#index-red_005fpart-167"><code>red_part</code></a>: <a href="#Color-Data-Members">Color Data Members</a></li>
<li><a href="#index-Reg_005fCl_005fPlane_005fCurve-692"><code>Reg_Cl_Plane_Curve</code></a>: <a href="#Regular-Closed-Plane-Curve-Reference">Regular Closed Plane Curve Reference</a></li>
<li><a href="#index-Reg_005fCl_005fPlane_005fCurve-61"><code>Reg_Cl_Plane_Curve</code></a>: <a href="#Plane-Figures">Plane Figures</a></li>
<li><a href="#index-REG_005fPOLYGON-788"><code>REG_POLYGON</code></a>: <a href="#Solid-Data-Members">Solid Data Members</a></li>
<li><a href="#index-Reg_005fPolygon-653"><code>Reg_Polygon</code></a>: <a href="#Regular-Polygon-Reference">Regular Polygon Reference</a></li>
<li><a href="#index-Reg_005fPolygon-62"><code>Reg_Polygon</code></a>: <a href="#Plane-Figures">Plane Figures</a></li>
<li><a href="#index-reg_005fpolygons-781"><code>reg_polygons</code></a>: <a href="#Solid-Data-Members">Solid Data Members</a></li>
<li><a href="#index-Shape-232"><code>Shape</code></a>: <a href="#Shape-Reference">Shape Reference</a></li>
<li><a href="#index-shapes-303"><code>shapes</code></a>: <a href="#Picture-Data-Members">Picture Data Members</a></li>
<li><a href="#index-short-656"><code>short</code></a>: <a href="#Regular-Polygon-Data-Members">Regular Polygon Data Members</a></li>
<li><a href="#index-Solid-774"><code>Solid</code></a>: <a href="#Solid-Reference">Solid Reference</a></li>
<li><a href="#index-Solid_005fFaced-836"><code>Solid_Faced</code></a>: <a href="#Faced-Solid-Reference">Faced Solid Reference</a></li>
<li><a href="#index-Tetrahedron-856"><code>Tetrahedron</code></a>: <a href="#Tetrahedron">Tetrahedron</a></li>
<li><a href="#index-Tetrahedron-65"><code>Tetrahedron</code></a>: <a href="#Tetrahedron-Getstart">Tetrahedron Getstart</a></li>
<li><a href="#index-tex_005fstream-225"><code>tex_stream</code></a>: <a href="#I_002fO-Global-Variables">I/O Global Variables</a></li>
<li><a href="#index-text-296"><code>text</code></a>: <a href="#Label-Data-Members">Label Data Members</a></li>
<li><a href="#index-transform-480"><code>transform</code></a>: <a href="#Focus-Data-Members">Focus Data Members</a></li>
<li><a href="#index-transform-344"><code>transform</code></a>: <a href="#Point-Data-Members">Point Data Members</a></li>
<li><a href="#index-transform-302"><code>transform</code></a>: <a href="#Picture-Data-Members">Picture Data Members</a></li>
<li><a href="#index-Transform-262"><code>Transform</code></a>: <a href="#Transform-Reference">Transform Reference</a></li>
<li><a href="#index-Transform-35"><code>Transform</code></a>: <a href="#Transforms">Transforms</a></li>
<li><a href="#index-triangle_005fradius-873"><code>triangle_radius</code></a>: <a href="#Icosahedron-Data-Members">Icosahedron Data Members</a></li>
<li><a href="#index-triangle_005fradius-858"><code>triangle_radius</code></a>: <a href="#Tetrahedron-Data-Members">Tetrahedron Data Members</a></li>
<li><a href="#index-Trunc_005fOctahedron-878"><code>Trunc_Octahedron</code></a>: <a href="#Truncated-Octahedron">Truncated Octahedron</a></li>
<li><a href="#index-Truncated-Octahedron-879"><code>Truncated Octahedron</code></a>: <a href="#Truncated-Octahedron">Truncated Octahedron</a></li>
<li><a href="#index-UNDRAW-238"><code>UNDRAW</code></a>: <a href="#Shape-Data-Members">Shape Data Members</a></li>
<li><a href="#index-UNDRAWDOT-237"><code>UNDRAWDOT</code></a>: <a href="#Shape-Data-Members">Shape Data Members</a></li>
<li><a href="#index-UNFILL-239"><code>UNFILL</code></a>: <a href="#Shape-Data-Members">Shape Data Members</a></li>
<li><a href="#index-UNFILLDRAW-240"><code>UNFILLDRAW</code></a>: <a href="#Shape-Data-Members">Shape Data Members</a></li>
<li><a href="#index-up-476"><code>up</code></a>: <a href="#Focus-Data-Members">Focus Data Members</a></li>
<li><a href="#index-use_005fname-164"><code>use_name</code></a>: <a href="#Color-Data-Members">Color Data Members</a></li>
<li><a href="#index-user_005fcoordinates-342"><code>user_coordinates</code></a>: <a href="#Point-Data-Members">Point Data Members</a></li>
<li><a href="#index-user_005fcoordinates-_0028Point_0029-27"><code>user_coordinates (Point)</code></a>: <a href="#Declaring-and-Initializing-Points">Declaring and Initializing Points</a></li>
<li><a href="#index-user_005ftransform-264"><code>user_transform</code></a>: <a href="#Transform-Global-Variables-and-Constants">Transform Global Variables and Constants</a></li>
<li><a href="#index-vertex_005fradius-855"><code>vertex_radius</code></a>: <a href="#Polyhedron-Data-Members">Polyhedron Data Members</a></li>
<li><a href="#index-vertices-838"><code>vertices</code></a>: <a href="#Solid_005fFaced-Data-Members">Solid_Faced Data Members</a></li>
<li><a href="#index-view_005fcoordinates-343"><code>view_coordinates</code></a>: <a href="#Point-Data-Members">Point Data Members</a></li>
<li><a href="#index-view_005fcoordinates-_0028Point_0029-28"><code>view_coordinates (Point)</code></a>: <a href="#Declaring-and-Initializing-Points">Declaring and Initializing Points</a></li>
<li><a href="#index-violet-208"><code>violet</code></a>: <a href="#Namespace-Colors">Namespace Colors</a></li>
<li><a href="#index-violet_005fred-204"><code>violet_red</code></a>: <a href="#Namespace-Colors">Namespace Colors</a></li>
<li><a href="#index-white-213"><code>white</code></a>: <a href="#Namespace-Colors">Namespace Colors</a></li>
<li><a href="#index-width-842"><code>width</code></a>: <a href="#Cuboid-Data-Members">Cuboid Data Members</a></li>
<li><a href="#index-world_005fcoordinates-340"><code>world_coordinates</code></a>: <a href="#Point-Data-Members">Point Data Members</a></li>
<li><a href="#index-world_005fcoordinates-_0028Point_0029-26"><code>world_coordinates (Point)</code></a>: <a href="#Declaring-and-Initializing-Points">Declaring and Initializing Points</a></li>
<li><a href="#index-yellow-201"><code>yellow</code></a>: <a href="#Namespace-Colors">Namespace Colors</a></li>
<li><a href="#index-yellow_005fgreen-211"><code>yellow_green</code></a>: <a href="#Namespace-Colors">Namespace Colors</a></li>
   </ul><!-- funcidx.texi -->
<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
<div class="node">
<a name="Function-Index"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Concept-Index">Concept Index</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Data-Type-and-Variable-Index">Data Type and Variable Index</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="unnumbered">Function Index</h2>



<ul class="index-fn" compact>
<li><a href="#index-align_005fwith_005faxis-581"><code>align_with_axis</code></a>: <a href="#Aligning-Paths-with-an-Axis">Aligning Paths with an Axis</a></li>
<li><a href="#index-align_005fwith_005faxis-290"><code>align_with_axis</code></a>: <a href="#Alignment-with-an-Axis-for-Transforms">Alignment with an Axis for Transforms</a></li>
<li><a href="#index-angle-430"><code>angle</code></a>: <a href="#Vector-Operations">Vector Operations</a></li>
<li><a href="#index-angle_005fpoint-749"><code>angle_point</code></a>: <a href="#Returning-Elements-and-Information-for-Ellipses">Returning Elements and Information for Ellipses</a></li>
<li><a href="#index-angle_005fpoint-701"><code>angle_point</code></a>: <a href="#Querying-Regular-Closed-Plane-Curves">Querying Regular Closed Plane Curves</a></li>
<li><a href="#index-append-560"><code>append</code></a>: <a href="#Appending-to-Paths">Appending to Paths</a></li>
<li><a href="#index-apply_005ftransform-818"><code>apply_transform</code></a>: <a href="#Applying-Transformations-to-Solids">Applying Transformations to Solids</a></li>
<li><a href="#index-apply_005ftransform-584"><code>apply_transform</code></a>: <a href="#Applying-Transformations-to-Paths">Applying Transformations to Paths</a></li>
<li><a href="#index-apply_005ftransform-424"><code>apply_transform</code></a>: <a href="#Applying-Transformations-to-Points">Applying Transformations to Points</a></li>
<li><a href="#index-apply_005ftransform-249"><code>apply_transform</code></a>: <a href="#Applying-Transformations-to-Shapes">Applying Transformations to Shapes</a></li>
<li><a href="#index-beginfig-230"><code>beginfig</code></a>: <a href="#I_002fO-Functions">I/O Functions</a></li>
<li><a href="#index-bool_005fpoint-356"><code>bool_point</code></a>: <a href="#Point-Typedefs-and-Utility-Structures">Point Typedefs and Utility Structures</a></li>
<li><a href="#index-bool_005fpoint_003a_003aoperator_003d-358"><code>bool_point::operator=</code></a>: <a href="#Point-Typedefs-and-Utility-Structures">Point Typedefs and Utility Structures</a></li>
<li><a href="#index-bool_005fpoint_005fquadruple-361"><code>bool_point_quadruple</code></a>: <a href="#Point-Typedefs-and-Utility-Structures">Point Typedefs and Utility Structures</a></li>
<li><a href="#index-bool_005fpoint_005fquadruple_003a_003aoperator_003d-363"><code>bool_point_quadruple::operator=</code></a>: <a href="#Point-Typedefs-and-Utility-Structures">Point Typedefs and Utility Structures</a></li>
<li><a href="#index-bool_005freal_005fpoint-365"><code>bool_real_point</code></a>: <a href="#Point-Typedefs-and-Utility-Structures">Point Typedefs and Utility Structures</a></li>
<li><a href="#index-bool_005freal_005fpoint_003a_003aoperator_003d-368"><code>bool_real_point::operator=</code></a>: <a href="#Point-Typedefs-and-Utility-Structures">Point Typedefs and Utility Structures</a></li>
<li><a href="#index-Circle-761"><code>Circle</code></a>: <a href="#Circle-Constructors-and-Setting-Functions">Circle Constructors and Setting Functions</a></li>
<li><a href="#index-clean-413"><code>clean</code></a>: <a href="#Modifying-Points">Modifying Points</a></li>
<li><a href="#index-clean-292"><code>clean</code></a>: <a href="#Cleaning-Transforms">Cleaning Transforms</a></li>
<li><a href="#index-clear-835"><code>clear</code></a>: <a href="#Clearing-Solids">Clearing Solids</a></li>
<li><a href="#index-clear-562"><code>clear</code></a>: <a href="#Clearing-Paths">Clearing Paths</a></li>
<li><a href="#index-clear-412"><code>clear</code></a>: <a href="#Modifying-Points">Modifying Points</a></li>
<li><a href="#index-clear-319"><code>clear</code></a>: <a href="#Modifying-Pictures">Modifying Pictures</a></li>
<li><a href="#index-clear-250"><code>clear</code></a>: <a href="#Clearing-Shapes">Clearing Shapes</a></li>
<li><a href="#index-Color-170"><code>Color</code></a>: <a href="#Color-Constructors-and-Setting-Functions">Color Constructors and Setting Functions</a></li>
<li><a href="#index-convert_002deps-129"><code>convert-eps</code></a>: <a href="#Converting-EPS-Files-ELISP">Converting EPS Files ELISP</a></li>
<li><a href="#index-convert_002deps_002dloop-130"><code>convert-eps-loop</code></a>: <a href="#Converting-EPS-Files-ELISP">Converting EPS Files ELISP</a></li>
<li><a href="#index-corner-683"><code>corner</code></a>: <a href="#Returning-Points-for-Rectangles">Returning Points for Rectangles</a></li>
<li><a href="#index-create_005fnew-151"><code>create_new</code></a>: <a href="#Dynamic-Allocation-of-Shapes">Dynamic Allocation of Shapes</a></li>
<li><a href="#index-create_005fnew_003cCircle_003e-764"><code>create_new&lt;Circle&gt;</code></a>: <a href="#Circle-Constructors-and-Setting-Functions">Circle Constructors and Setting Functions</a></li>
<li><a href="#index-create_005fnew_003cColor_003e-176"><code>create_new&lt;Color&gt;</code></a>: <a href="#Color-Constructors-and-Setting-Functions">Color Constructors and Setting Functions</a></li>
<li><a href="#index-create_005fnew_003cCuboid_003e-847"><code>create_new&lt;Cuboid&gt;</code></a>: <a href="#Cuboid-Constructors-and-Setting-Functions">Cuboid Constructors and Setting Functions</a></li>
<li><a href="#index-create_005fnew_003cEllipse_003e-718"><code>create_new&lt;Ellipse&gt;</code></a>: <a href="#Ellipse-Constructors-and-Setting-Functions">Ellipse Constructors and Setting Functions</a></li>
<li><a href="#index-create_005fnew_003cPath_003e-551"><code>create_new&lt;Path&gt;</code></a>: <a href="#Path-Constructors-and-Setting-Functions">Path Constructors and Setting Functions</a></li>
<li><a href="#index-create_005fnew_003cPoint_003e-380"><code>create_new&lt;Point&gt;</code></a>: <a href="#Point-Constructors-and-Setting-Functions">Point Constructors and Setting Functions</a></li>
<li><a href="#index-create_005fnew_003cRectangle_003e-680"><code>create_new&lt;Rectangle&gt;</code></a>: <a href="#Rectangle-Constructors-and-Setting-Functions">Rectangle Constructors and Setting Functions</a></li>
<li><a href="#index-create_005fnew_003cReg_005fPolygon_003e-661"><code>create_new&lt;Reg_Polygon&gt;</code></a>: <a href="#Regular-Polygon-Constructors-and-Setting-Functions">Regular Polygon Constructors and Setting Functions</a></li>
<li><a href="#index-create_005fnew_003cSolid_003e-791"><code>create_new&lt;Solid&gt;</code></a>: <a href="#Solid-Constructors-and-Setting-Functions">Solid Constructors and Setting Functions</a></li>
<li><a href="#index-cross_005fproduct-428"><code>cross_product</code></a>: <a href="#Vector-Operations">Vector Operations</a></li>
<li><a href="#index-Cuboid-844"><code>Cuboid</code></a>: <a href="#Cuboid-Constructors-and-Setting-Functions">Cuboid Constructors and Setting Functions</a></li>
<li><a href="#index-define_005fcolor_005fmp-195"><code>define_color_mp</code></a>: <a href="#Defining-and-Initializing-Colors">Defining and Initializing Colors</a></li>
<li><a href="#index-do_005ftransform-720"><code>do_transform</code></a>: <a href="#Performing-Transformations-on-Ellipses">Performing Transformations on Ellipses</a></li>
<li><a href="#index-Dodecahedron-867"><code>Dodecahedron</code></a>: <a href="#Dodecahedron-Constructors-and-Setting-Functions">Dodecahedron Constructors and Setting Functions</a></li>
<li><a href="#index-dot_005fproduct-427"><code>dot_product</code></a>: <a href="#Vector-Operations">Vector Operations</a></li>
<li><a href="#index-dotlabel-724"><code>dotlabel</code></a>: <a href="#Labeling-Ellipses">Labeling Ellipses</a></li>
<li><a href="#index-dotlabel-604"><code>dotlabel</code></a>: <a href="#Labelling-Paths">Labelling Paths</a></li>
<li><a href="#index-dotlabel-459"><code>dotlabel</code></a>: <a href="#Labelling-Points">Labelling Points</a></li>
<li><a href="#index-draw-828"><code>draw</code></a>: <a href="#Drawing-and-Filling-Solids">Drawing and Filling Solids</a></li>
<li><a href="#index-draw-585"><code>draw</code></a>: <a href="#Drawing-and-Filling-Paths">Drawing and Filling Paths</a></li>
<li><a href="#index-draw-448"><code>draw</code></a>: <a href="#Point-Drawing-Functions">Point Drawing Functions</a></li>
<li><a href="#index-draw_005faxes-591"><code>draw_axes</code></a>: <a href="#Drawing-and-Filling-Paths">Drawing and Filling Paths</a></li>
<li><a href="#index-draw_005fhelp-587"><code>draw_help</code></a>: <a href="#Drawing-and-Filling-Paths">Drawing and Filling Paths</a></li>
<li><a href="#index-draw_005fhelp-453"><code>draw_help</code></a>: <a href="#Point-Drawing-Functions">Point Drawing Functions</a></li>
<li><a href="#index-draw_005fin_005fcircle-666"><code>draw_in_circle</code></a>: <a href="#Circles-for-Regular-Polygons">Circles for Regular Polygons</a></li>
<li><a href="#index-draw_005fin_005fellipse-691"><code>draw_in_ellipse</code></a>: <a href="#Ellipses-for-Rectangles">Ellipses for Rectangles</a></li>
<li><a href="#index-draw_005fin_005frectangle-758"><code>draw_in_rectangle</code></a>: <a href="#Rectangles-for-Ellipses">Rectangles for Ellipses</a></li>
<li><a href="#index-draw_005fnet-877"><code>draw_net</code></a>: <a href="#Icosahedron-Net">Icosahedron Net</a></li>
<li><a href="#index-draw_005fnet-870"><code>draw_net</code></a>: <a href="#Dodecahedron-Net">Dodecahedron Net</a></li>
<li><a href="#index-draw_005fnet-863"><code>draw_net</code></a>: <a href="#Tetrahedron-Net">Tetrahedron Net</a></li>
<li><a href="#index-draw_005fout_005fcircle-669"><code>draw_out_circle</code></a>: <a href="#Circles-for-Regular-Polygons">Circles for Regular Polygons</a></li>
<li><a href="#index-draw_005fout_005fellipse-690"><code>draw_out_ellipse</code></a>: <a href="#Ellipses-for-Rectangles">Ellipses for Rectangles</a></li>
<li><a href="#index-draw_005fout_005frectangle-757"><code>draw_out_rectangle</code></a>: <a href="#Rectangles-for-Ellipses">Rectangles for Ellipses</a></li>
<li><a href="#index-drawarrow-589"><code>drawarrow</code></a>: <a href="#Drawing-and-Filling-Paths">Drawing and Filling Paths</a></li>
<li><a href="#index-drawarrow-455"><code>drawarrow</code></a>: <a href="#Point-Drawing-Functions">Point Drawing Functions</a></li>
<li><a href="#index-drawdot-444"><code>drawdot</code></a>: <a href="#Point-Drawing-Functions">Point Drawing Functions</a></li>
<li><a href="#index-Ellipse-715"><code>Ellipse</code></a>: <a href="#Ellipse-Constructors-and-Setting-Functions">Ellipse Constructors and Setting Functions</a></li>
<li><a href="#index-endfig-231"><code>endfig</code></a>: <a href="#I_002fO-Functions">I/O Functions</a></li>
<li><a href="#index-epicycloid_005fpattern_005f1-773"><code>epicycloid_pattern_1</code></a>: <a href="#Epicycloids">Epicycloids</a></li>
<li><a href="#index-epsilon-410"><code>epsilon</code></a>: <a href="#Returning-Information-for-Points">Returning Information for Points</a></li>
<li><a href="#index-epsilon-280"><code>epsilon</code></a>: <a href="#Returning-Information-for-Transforms">Returning Information for Transforms</a></li>
<li><a href="#index-extract-822"><code>extract</code></a>: <a href="#Outputting-Solids">Outputting Solids</a></li>
<li><a href="#index-extract-626"><code>extract</code></a>: <a href="#Outputting-Paths">Outputting Paths</a></li>
<li><a href="#index-extract-467"><code>extract</code></a>: <a href="#Outputting-Points">Outputting Points</a></li>
<li><a href="#index-extract-254"><code>extract</code></a>: <a href="#Outputting-Shapes">Outputting Shapes</a></li>
<li><a href="#index-fill-829"><code>fill</code></a>: <a href="#Drawing-and-Filling-Solids">Drawing and Filling Solids</a></li>
<li><a href="#index-fill-593"><code>fill</code></a>: <a href="#Drawing-and-Filling-Paths">Drawing and Filling Paths</a></li>
<li><a href="#index-filldraw-830"><code>filldraw</code></a>: <a href="#Drawing-and-Filling-Solids">Drawing and Filling Solids</a></li>
<li><a href="#index-filldraw-595"><code>filldraw</code></a>: <a href="#Drawing-and-Filling-Paths">Drawing and Filling Paths</a></li>
<li><a href="#index-Focus-483"><code>Focus</code></a>: <a href="#Focus-Constructors-and-Setting-Functions">Focus Constructors and Setting Functions</a></li>
<li><a href="#index-get_005fall_005fcoords-404"><code>get_all_coords</code></a>: <a href="#Returning-Coordinates">Returning Coordinates</a></li>
<li><a href="#index-get_005faxis_005fh-746"><code>get_axis_h</code></a>: <a href="#Returning-Elements-and-Information-for-Ellipses">Returning Elements and Information for Ellipses</a></li>
<li><a href="#index-get_005faxis_005fh-685"><code>get_axis_h</code></a>: <a href="#Querying-Rectangles">Querying Rectangles</a></li>
<li><a href="#index-get_005faxis_005fv-744"><code>get_axis_v</code></a>: <a href="#Returning-Elements-and-Information-for-Ellipses">Returning Elements and Information for Ellipses</a></li>
<li><a href="#index-get_005faxis_005fv-686"><code>get_axis_v</code></a>: <a href="#Querying-Rectangles">Querying Rectangles</a></li>
<li><a href="#index-get_005fblue_005fpart-192"><code>get_blue_part</code></a>: <a href="#Querying-Colors">Querying Colors</a></li>
<li><a href="#index-get_005fcenter-799"><code>get_center</code></a>: <a href="#Returning-Elements-and-Information-Solids">Returning Elements and Information Solids</a></li>
<li><a href="#index-get_005fcenter-738"><code>get_center</code></a>: <a href="#Returning-Elements-and-Information-for-Ellipses">Returning Elements and Information for Ellipses</a></li>
<li><a href="#index-get_005fcenter-639"><code>get_center</code></a>: <a href="#Querying-Polygons">Querying Polygons</a></li>
<li><a href="#index-get_005fcircle_005fcenter-801"><code>get_circle_center</code></a>: <a href="#Getting-Shape-Centers-Solids">Getting Shape Centers Solids</a></li>
<li><a href="#index-get_005fcircle_005fptr-806"><code>get_circle_ptr</code></a>: <a href="#Getting-Shapes-Solids">Getting Shapes Solids</a></li>
<li><a href="#index-get_005fcoefficients-754"><code>get_coefficients</code></a>: <a href="#Solving-Ellipses">Solving Ellipses</a></li>
<li><a href="#index-get_005fcoefficients-698"><code>get_coefficients</code></a>: <a href="#Querying-Regular-Closed-Plane-Curves">Querying Regular Closed Plane Curves</a></li>
<li><a href="#index-get_005fcoord-405"><code>get_coord</code></a>: <a href="#Returning-Coordinates">Returning Coordinates</a></li>
<li><a href="#index-get_005fcopy-796"><code>get_copy</code></a>: <a href="#Copying-Solids">Copying Solids</a></li>
<li><a href="#index-get_005fcopy-561"><code>get_copy</code></a>: <a href="#Copying-Paths">Copying Paths</a></li>
<li><a href="#index-get_005fcopy-398"><code>get_copy</code></a>: <a href="#Copying-Points">Copying Points</a></li>
<li><a href="#index-get_005fcopy-299"><code>get_copy</code></a>: <a href="#Copying-Labels">Copying Labels</a></li>
<li><a href="#index-get_005fcopy-242"><code>get_copy</code></a>: <a href="#Copying-Shapes">Copying Shapes</a></li>
<li><a href="#index-get_005fdiameter-770"><code>get_diameter</code></a>: <a href="#Querying-Circles">Querying Circles</a></li>
<li><a href="#index-get_005fdirection-491"><code>get_direction</code></a>: <a href="#Querying-Focuses">Querying Focuses</a></li>
<li><a href="#index-get_005fdistance-519"><code>get_distance</code></a>: <a href="#Planes-Returning-Information">Planes Returning Information</a></li>
<li><a href="#index-get_005fdistance-492"><code>get_distance</code></a>: <a href="#Querying-Focuses">Querying Focuses</a></li>
<li><a href="#index-get_005felement-279"><code>get_element</code></a>: <a href="#Querying-Transforms">Querying Transforms</a></li>
<li><a href="#index-get_005fellipse_005fcenter-802"><code>get_ellipse_center</code></a>: <a href="#Getting-Shape-Centers-Solids">Getting Shape Centers Solids</a></li>
<li><a href="#index-get_005fellipse_005fptr-807"><code>get_ellipse_ptr</code></a>: <a href="#Getting-Shapes-Solids">Getting Shapes Solids</a></li>
<li><a href="#index-get_005fendianness-153"><code>get_endianness</code></a>: <a href="#Endianness">Endianness</a></li>
<li><a href="#index-get_005fextremes-824"><code>get_extremes</code></a>: <a href="#Outputting-Solids">Outputting Solids</a></li>
<li><a href="#index-get_005fextremes-628"><code>get_extremes</code></a>: <a href="#Outputting-Paths">Outputting Paths</a></li>
<li><a href="#index-get_005fextremes-469"><code>get_extremes</code></a>: <a href="#Outputting-Points">Outputting Points</a></li>
<li><a href="#index-get_005fextremes-259"><code>get_extremes</code></a>: <a href="#Outputting-Shapes">Outputting Shapes</a></li>
<li><a href="#index-get_005ffocus-740"><code>get_focus</code></a>: <a href="#Returning-Elements-and-Information-for-Ellipses">Returning Elements and Information for Ellipses</a></li>
<li><a href="#index-get_005fgreen_005fpart-191"><code>get_green_part</code></a>: <a href="#Querying-Colors">Querying Colors</a></li>
<li><a href="#index-get_005flast_005fpoint-617"><code>get_last_point</code></a>: <a href="#Querying-Paths">Querying Paths</a></li>
<li><a href="#index-get_005fline-619"><code>get_line</code></a>: <a href="#Querying-Paths">Querying Paths</a></li>
<li><a href="#index-get_005fline-433"><code>get_line</code></a>: <a href="#Points-and-Lines">Points and Lines</a></li>
<li><a href="#index-get_005fline_005fswitch-613"><code>get_line_switch</code></a>: <a href="#Querying-Paths">Querying Paths</a></li>
<li><a href="#index-get_005flinear_005feccentricity-742"><code>get_linear_eccentricity</code></a>: <a href="#Returning-Elements-and-Information-for-Ellipses">Returning Elements and Information for Ellipses</a></li>
<li><a href="#index-get_005fmaximum_005fz-826"><code>get_maximum_z</code></a>: <a href="#Outputting-Solids">Outputting Solids</a></li>
<li><a href="#index-get_005fmaximum_005fz-631"><code>get_maximum_z</code></a>: <a href="#Outputting-Paths">Outputting Paths</a></li>
<li><a href="#index-get_005fmaximum_005fz-471"><code>get_maximum_z</code></a>: <a href="#Outputting-Points">Outputting Points</a></li>
<li><a href="#index-get_005fmaximum_005fz-257"><code>get_maximum_z</code></a>: <a href="#Outputting-Shapes">Outputting Shapes</a></li>
<li><a href="#index-get_005fmean_005fz-827"><code>get_mean_z</code></a>: <a href="#Outputting-Solids">Outputting Solids</a></li>
<li><a href="#index-get_005fmean_005fz-630"><code>get_mean_z</code></a>: <a href="#Outputting-Paths">Outputting Paths</a></li>
<li><a href="#index-get_005fmean_005fz-472"><code>get_mean_z</code></a>: <a href="#Outputting-Points">Outputting Points</a></li>
<li><a href="#index-get_005fmean_005fz-258"><code>get_mean_z</code></a>: <a href="#Outputting-Shapes">Outputting Shapes</a></li>
<li><a href="#index-get_005fminimum_005fz-825"><code>get_minimum_z</code></a>: <a href="#Outputting-Solids">Outputting Solids</a></li>
<li><a href="#index-get_005fminimum_005fz-629"><code>get_minimum_z</code></a>: <a href="#Outputting-Paths">Outputting Paths</a></li>
<li><a href="#index-get_005fminimum_005fz-470"><code>get_minimum_z</code></a>: <a href="#Outputting-Points">Outputting Points</a></li>
<li><a href="#index-get_005fminimum_005fz-256"><code>get_minimum_z</code></a>: <a href="#Outputting-Shapes">Outputting Shapes</a></li>
<li><a href="#index-get_005fname-194"><code>get_name</code></a>: <a href="#Querying-Colors">Querying Colors</a></li>
<li><a href="#index-get_005fnet-885"><code>get_net</code></a>: <a href="#Truncated-Octahedron-Net">Truncated Octahedron Net</a></li>
<li><a href="#index-get_005fnet-876"><code>get_net</code></a>: <a href="#Icosahedron-Net">Icosahedron Net</a></li>
<li><a href="#index-get_005fnet-869"><code>get_net</code></a>: <a href="#Dodecahedron-Net">Dodecahedron Net</a></li>
<li><a href="#index-get_005fnet-862"><code>get_net</code></a>: <a href="#Tetrahedron-Net">Tetrahedron Net</a></li>
<li><a href="#index-get_005fnormal-620"><code>get_normal</code></a>: <a href="#Querying-Paths">Querying Paths</a></li>
<li><a href="#index-get_005fnumerical_005feccentricity-743"><code>get_numerical_eccentricity</code></a>: <a href="#Returning-Elements-and-Information-for-Ellipses">Returning Elements and Information for Ellipses</a></li>
<li><a href="#index-get_005fpath-506"><code>get_path</code></a>: <a href="#Get-Path">Get Path</a></li>
<li><a href="#index-get_005fpath_005fptr-808"><code>get_path_ptr</code></a>: <a href="#Getting-Shapes-Solids">Getting Shapes Solids</a></li>
<li><a href="#index-get_005fpersp-496"><code>get_persp</code></a>: <a href="#Querying-Focuses">Querying Focuses</a></li>
<li><a href="#index-get_005fpersp_005felement-497"><code>get_persp_element</code></a>: <a href="#Querying-Focuses">Querying Focuses</a></li>
<li><a href="#index-get_005fplane-621"><code>get_plane</code></a>: <a href="#Querying-Paths">Querying Paths</a></li>
<li><a href="#index-get_005fpoint-616"><code>get_point</code></a>: <a href="#Querying-Paths">Querying Paths</a></li>
<li><a href="#index-get_005fposition-490"><code>get_position</code></a>: <a href="#Querying-Focuses">Querying Focuses</a></li>
<li><a href="#index-get_005fradius-769"><code>get_radius</code></a>: <a href="#Querying-Circles">Querying Circles</a></li>
<li><a href="#index-get_005fradius-664"><code>get_radius</code></a>: <a href="#Querying-Regular-Polygons">Querying Regular Polygons</a></li>
<li><a href="#index-get_005frectangle_005fcenter-803"><code>get_rectangle_center</code></a>: <a href="#Getting-Shape-Centers-Solids">Getting Shape Centers Solids</a></li>
<li><a href="#index-get_005frectangle_005fptr-809"><code>get_rectangle_ptr</code></a>: <a href="#Getting-Shapes-Solids">Getting Shapes Solids</a></li>
<li><a href="#index-get_005fred_005fpart-190"><code>get_red_part</code></a>: <a href="#Querying-Colors">Querying Colors</a></li>
<li><a href="#index-get_005freg_005fpolygon_005fcenter-804"><code>get_reg_polygon_center</code></a>: <a href="#Getting-Shape-Centers-Solids">Getting Shape Centers Solids</a></li>
<li><a href="#index-get_005freg_005fpolygon_005fptr-810"><code>get_reg_polygon_ptr</code></a>: <a href="#Getting-Shapes-Solids">Getting Shapes Solids</a></li>
<li><a href="#index-get_005fregister_005fwidth-156"><code>get_register_width</code></a>: <a href="#Register-Width">Register Width</a></li>
<li><a href="#index-get_005fsecond_005flargest-159"><code>get_second_largest</code></a>: <a href="#Get-Second-Largest-Real">Get Second Largest Real</a></li>
<li><a href="#index-get_005fshape_005fcenter-800"><code>get_shape_center</code></a>: <a href="#Getting-Shape-Centers-Solids">Getting Shape Centers Solids</a></li>
<li><a href="#index-get_005fshape_005fptr-805"><code>get_shape_ptr</code></a>: <a href="#Getting-Shapes-Solids">Getting Shapes Solids</a></li>
<li><a href="#index-get_005fsize-618"><code>get_size</code></a>: <a href="#Querying-Paths">Querying Paths</a></li>
<li><a href="#index-get_005ftransform-494"><code>get_transform</code></a>: <a href="#Querying-Focuses">Querying Focuses</a></li>
<li><a href="#index-get_005ftransform-400"><code>get_transform</code></a>: <a href="#Querying-Points">Querying Points</a></li>
<li><a href="#index-get_005ftransform_005felement-495"><code>get_transform_element</code></a>: <a href="#Querying-Focuses">Querying Focuses</a></li>
<li><a href="#index-get_005fup-493"><code>get_up</code></a>: <a href="#Querying-Focuses">Querying Focuses</a></li>
<li><a href="#index-get_005fuse_005fname-193"><code>get_use_name</code></a>: <a href="#Querying-Colors">Querying Colors</a></li>
<li><a href="#index-get_005fw-409"><code>get_w</code></a>: <a href="#Returning-Coordinates">Returning Coordinates</a></li>
<li><a href="#index-get_005fx-406"><code>get_x</code></a>: <a href="#Returning-Coordinates">Returning Coordinates</a></li>
<li><a href="#index-get_005fy-407"><code>get_y</code></a>: <a href="#Returning-Coordinates">Returning Coordinates</a></li>
<li><a href="#index-get_005fz-408"><code>get_z</code></a>: <a href="#Returning-Coordinates">Returning Coordinates</a></li>
<li><a href="#index-half-705"><code>half</code></a>: <a href="#Regular-Closed-Plane-Curve-Segments">Regular Closed Plane Curve Segments</a></li>
<li><a href="#index-hex_005fpattern_005f1-772"><code>hex_pattern_1</code></a>: <a href="#Plane-Tesselations">Plane Tesselations</a></li>
<li><a href="#index-Icosahedron-874"><code>Icosahedron</code></a>: <a href="#Icosahedron-Constructors-and-Setting-Functions">Icosahedron Constructors and Setting Functions</a></li>
<li><a href="#index-in_005fcircle-665"><code>in_circle</code></a>: <a href="#Circles-for-Regular-Polygons">Circles for Regular Polygons</a></li>
<li><a href="#index-in_005fellipse-689"><code>in_ellipse</code></a>: <a href="#Ellipses-for-Rectangles">Ellipses for Rectangles</a></li>
<li><a href="#index-in_005frectangle-756"><code>in_rectangle</code></a>: <a href="#Rectangles-for-Ellipses">Rectangles for Ellipses</a></li>
<li><a href="#index-initialize_005fcolors-196"><code>initialize_colors</code></a>: <a href="#Defining-and-Initializing-Colors">Defining and Initializing Colors</a></li>
<li><a href="#index-initialize_005fio-226"><code>initialize_io</code></a>: <a href="#I_002fO-Functions">I/O Functions</a></li>
<li><a href="#index-intersection_005fline-523"><code>intersection_line</code></a>: <a href="#Plane-Intersections">Plane Intersections</a></li>
<li><a href="#index-intersection_005fpoint-635"><code>intersection_point</code></a>: <a href="#Path-Intersections">Path Intersections</a></li>
<li><a href="#index-intersection_005fpoint-521"><code>intersection_point</code></a>: <a href="#Plane-Intersections">Plane Intersections</a></li>
<li><a href="#index-intersection_005fpoint-439"><code>intersection_point</code></a>: <a href="#Point-Intersections">Point Intersections</a></li>
<li><a href="#index-intersection_005fpoints-771"><code>intersection_points</code></a>: <a href="#Circle-Intersections">Circle Intersections</a></li>
<li><a href="#index-intersection_005fpoints-750"><code>intersection_points</code></a>: <a href="#Ellipse-Intersections">Ellipse Intersections</a></li>
<li><a href="#index-intersection_005fpoints-702"><code>intersection_points</code></a>: <a href="#Regular-Closed-Plane-Curve-Intersections">Regular Closed Plane Curve Intersections</a></li>
<li><a href="#index-intersection_005fpoints-650"><code>intersection_points</code></a>: <a href="#Polygon-Intersections">Polygon Intersections</a></li>
<li><a href="#index-inverse-275"><code>inverse</code></a>: <a href="#Matrix-Inversion">Matrix Inversion</a></li>
<li><a href="#index-is_005f32_005fbit-157"><code>is_32_bit</code></a>: <a href="#Register-Width">Register Width</a></li>
<li><a href="#index-is_005f64_005fbit-158"><code>is_64_bit</code></a>: <a href="#Register-Width">Register Width</a></li>
<li><a href="#index-is_005fbig_005fendian-154"><code>is_big_endian</code></a>: <a href="#Endianness">Endianness</a></li>
<li><a href="#index-is_005fcircular-768"><code>is_circular</code></a>: <a href="#Querying-Circles">Querying Circles</a></li>
<li><a href="#index-is_005fcubic-736"><code>is_cubic</code></a>: <a href="#Querying-Ellipses">Querying Ellipses</a></li>
<li><a href="#index-is_005fcubic-696"><code>is_cubic</code></a>: <a href="#Querying-Regular-Closed-Plane-Curves">Querying Regular Closed Plane Curves</a></li>
<li><a href="#index-is_005fcycle-611"><code>is_cycle</code></a>: <a href="#Querying-Paths">Querying Paths</a></li>
<li><a href="#index-is_005felliptical-734"><code>is_elliptical</code></a>: <a href="#Querying-Ellipses">Querying Ellipses</a></li>
<li><a href="#index-is_005fidentity-399"><code>is_identity</code></a>: <a href="#Querying-Points">Querying Points</a></li>
<li><a href="#index-is_005fidentity-278"><code>is_identity</code></a>: <a href="#Querying-Transforms">Querying Transforms</a></li>
<li><a href="#index-is_005fin_005ftriangle-403"><code>is_in_triangle</code></a>: <a href="#Querying-Points">Querying Points</a></li>
<li><a href="#index-is_005flinear-610"><code>is_linear</code></a>: <a href="#Querying-Paths">Querying Paths</a></li>
<li><a href="#index-is_005flittle_005fendian-155"><code>is_little_endian</code></a>: <a href="#Endianness">Endianness</a></li>
<li><a href="#index-is_005fon_005ffree_005fstore-798"><code>is_on_free_store</code></a>: <a href="#Querying-Solids">Querying Solids</a></li>
<li><a href="#index-is_005fon_005ffree_005fstore-608"><code>is_on_free_store</code></a>: <a href="#Querying-Paths">Querying Paths</a></li>
<li><a href="#index-is_005fon_005ffree_005fstore-401"><code>is_on_free_store</code></a>: <a href="#Querying-Points">Querying Points</a></li>
<li><a href="#index-is_005fon_005ffree_005fstore-251"><code>is_on_free_store</code></a>: <a href="#Querying-Shapes">Querying Shapes</a></li>
<li><a href="#index-is_005fon_005ffree_005fstore-189"><code>is_on_free_store</code></a>: <a href="#Querying-Colors">Querying Colors</a></li>
<li><a href="#index-is_005fon_005fline-437"><code>is_on_line</code></a>: <a href="#Points-and-Lines">Points and Lines</a></li>
<li><a href="#index-is_005fon_005fplane-402"><code>is_on_plane</code></a>: <a href="#Querying-Points">Querying Points</a></li>
<li><a href="#index-is_005fon_005fsegment-435"><code>is_on_segment</code></a>: <a href="#Points-and-Lines">Points and Lines</a></li>
<li><a href="#index-is_005fplanar-609"><code>is_planar</code></a>: <a href="#Querying-Paths">Querying Paths</a></li>
<li><a href="#index-is_005fquadratic-735"><code>is_quadratic</code></a>: <a href="#Querying-Ellipses">Querying Ellipses</a></li>
<li><a href="#index-is_005fquadratic-695"><code>is_quadratic</code></a>: <a href="#Querying-Regular-Closed-Plane-Curves">Querying Regular Closed Plane Curves</a></li>
<li><a href="#index-is_005fquartic-737"><code>is_quartic</code></a>: <a href="#Querying-Ellipses">Querying Ellipses</a></li>
<li><a href="#index-is_005fquartic-697"><code>is_quartic</code></a>: <a href="#Querying-Regular-Closed-Plane-Curves">Querying Regular Closed Plane Curves</a></li>
<li><a href="#index-is_005frectangular-687"><code>is_rectangular</code></a>: <a href="#Querying-Rectangles">Querying Rectangles</a></li>
<li><a href="#index-kill_005flabels-322"><code>kill_labels</code></a>: <a href="#Modifying-Pictures">Modifying Pictures</a></li>
<li><a href="#index-label-723"><code>label</code></a>: <a href="#Labeling-Ellipses">Labeling Ellipses</a></li>
<li><a href="#index-label-602"><code>label</code></a>: <a href="#Labelling-Paths">Labelling Paths</a></li>
<li><a href="#index-label-457"><code>label</code></a>: <a href="#Labelling-Points">Labelling Points</a></li>
<li><a href="#index-Line-503"><code>Line</code></a>: <a href="#Line-Constructors">Line Constructors</a></li>
<li><a href="#index-location-748"><code>location</code></a>: <a href="#Returning-Elements-and-Information-for-Ellipses">Returning Elements and Information for Ellipses</a></li>
<li><a href="#index-location-700"><code>location</code></a>: <a href="#Querying-Regular-Closed-Plane-Curves">Querying Regular Closed Plane Curves</a></li>
<li><a href="#index-magnitude-429"><code>magnitude</code></a>: <a href="#Vector-Operations">Vector Operations</a></li>
<li><a href="#index-mediate-438"><code>mediate</code></a>: <a href="#Points-and-Lines">Points and Lines</a></li>
<li><a href="#index-mid_005fpoint-684"><code>mid_point</code></a>: <a href="#Returning-Points-for-Rectangles">Returning Points for Rectangles</a></li>
<li><a href="#index-modify-184"><code>modify</code></a>: <a href="#Modifying-Colors">Modifying Colors</a></li>
<li><a href="#index-operator_0021_003d-518"><code>operator!=</code></a>: <a href="#Planes-Operators">Planes Operators</a></li>
<li><a href="#index-operator_0021_003d-397"><code>operator!=</code></a>: <a href="#Point-Operators">Point Operators</a></li>
<li><a href="#index-operator_0021_003d-180"><code>operator!=</code></a>: <a href="#Color-Operators">Color Operators</a></li>
<li><a href="#index-operator_0026-558"><code>operator&amp;</code></a>: <a href="#Path-Operators">Path Operators</a></li>
<li><a href="#index-operator_0026_003d-557"><code>operator&amp;=</code></a>: <a href="#Path-Operators">Path Operators</a></li>
<li><a href="#index-operator_002a-390"><code>operator*</code></a>: <a href="#Point-Operators">Point Operators</a></li>
<li><a href="#index-operator_002a-272"><code>operator*</code></a>: <a href="#Transform-Operators">Transform Operators</a></li>
<li><a href="#index-operator_002a_003d-795"><code>operator*=</code></a>: <a href="#Solid-Operators">Solid Operators</a></li>
<li><a href="#index-operator_002a_003d-722"><code>operator*=</code></a>: <a href="#Ellipse-Operators">Ellipse Operators</a></li>
<li><a href="#index-operator_002a_003d-638"><code>operator*=</code></a>: <a href="#Polygon-Operators">Polygon Operators</a></li>
<li><a href="#index-operator_002a_003d-554"><code>operator*=</code></a>: <a href="#Path-Operators">Path Operators</a></li>
<li><a href="#index-operator_002a_003d-384"><code>operator*=</code></a>: <a href="#Point-Operators">Point Operators</a></li>
<li><a href="#index-operator_002a_003d-313"><code>operator*=</code></a>: <a href="#Picture-Operators">Picture Operators</a></li>
<li><a href="#index-operator_002a_003d-271"><code>operator*=</code></a>: <a href="#Transform-Operators">Transform Operators</a></li>
<li><a href="#index-operator_002a_003d-241"><code>operator*=</code></a>: <a href="#Shape-Operators">Shape Operators</a></li>
<li><a href="#index-operator_002b-556"><code>operator+</code></a>: <a href="#Path-Operators">Path Operators</a></li>
<li><a href="#index-operator_002b-385"><code>operator+</code></a>: <a href="#Point-Operators">Point Operators</a></li>
<li><a href="#index-operator_002b_003d-555"><code>operator+=</code></a>: <a href="#Path-Operators">Path Operators</a></li>
<li><a href="#index-operator_002b_003d-386"><code>operator+=</code></a>: <a href="#Point-Operators">Point Operators</a></li>
<li><a href="#index-operator_002b_003d-310"><code>operator+=</code></a>: <a href="#Picture-Operators">Picture Operators</a></li>
<li><a href="#index-operator_002d-387"><code>operator-</code></a>: <a href="#Point-Operators">Point Operators</a></li>
<li><a href="#index-operator_002d_003d-388"><code>operator-=</code></a>: <a href="#Point-Operators">Point Operators</a></li>
<li><a href="#index-operator_002f-394"><code>operator/</code></a>: <a href="#Point-Operators">Point Operators</a></li>
<li><a href="#index-operator_002f_003d-393"><code>operator/=</code></a>: <a href="#Point-Operators">Point Operators</a></li>
<li><a href="#index-operator_003c_003c-463"><code>operator&lt;&lt;</code></a>: <a href="#Outputting-Points">Outputting Points</a></li>
<li><a href="#index-operator_003c_003c-181"><code>operator&lt;&lt;</code></a>: <a href="#Color-Operators">Color Operators</a></li>
<li><a href="#index-operator_003d-850"><code>operator=</code></a>: <a href="#Cuboid-Operators">Cuboid Operators</a></li>
<li><a href="#index-operator_003d-794"><code>operator=</code></a>: <a href="#Solid-Operators">Solid Operators</a></li>
<li><a href="#index-operator_003d-766"><code>operator=</code></a>: <a href="#Circle-Operators">Circle Operators</a></li>
<li><a href="#index-operator_003d-721"><code>operator=</code></a>: <a href="#Ellipse-Operators">Ellipse Operators</a></li>
<li><a href="#index-operator_003d-682"><code>operator=</code></a>: <a href="#Rectangle-Operators">Rectangle Operators</a></li>
<li><a href="#index-operator_003d-663"><code>operator=</code></a>: <a href="#Regular-Polygon-Operators">Regular Polygon Operators</a></li>
<li><a href="#index-operator_003d-516"><code>operator=</code></a>: <a href="#Planes-Operators">Planes Operators</a></li>
<li><a href="#index-operator_003d-505"><code>operator=</code></a>: <a href="#Line-Operators">Line Operators</a></li>
<li><a href="#index-operator_003d-488"><code>operator=</code></a>: <a href="#Focus-Operators">Focus Operators</a></li>
<li><a href="#index-operator_003d-383"><code>operator=</code></a>: <a href="#Point-Operators">Point Operators</a></li>
<li><a href="#index-operator_003d-309"><code>operator=</code></a>: <a href="#Picture-Operators">Picture Operators</a></li>
<li><a href="#index-operator_003d-270"><code>operator=</code></a>: <a href="#Transform-Operators">Transform Operators</a></li>
<li><a href="#index-operator_003d-178"><code>operator=</code></a>: <a href="#Color-Operators">Color Operators</a></li>
<li><a href="#index-operator_003d-_0028for-Points_0029-31"><code>operator= (for Points)</code></a>: <a href="#Setting-and-Assigning-to-Points">Setting and Assigning to Points</a></li>
<li><a href="#index-operator_003d_003d-517"><code>operator==</code></a>: <a href="#Planes-Operators">Planes Operators</a></li>
<li><a href="#index-operator_003d_003d-395"><code>operator==</code></a>: <a href="#Point-Operators">Point Operators</a></li>
<li><a href="#index-operator_003d_003d-179"><code>operator==</code></a>: <a href="#Color-Operators">Color Operators</a></li>
<li><a href="#index-out_005fcircle-668"><code>out_circle</code></a>: <a href="#Circles-for-Regular-Polygons">Circles for Regular Polygons</a></li>
<li><a href="#index-out_005fellipse-688"><code>out_ellipse</code></a>: <a href="#Ellipses-for-Rectangles">Ellipses for Rectangles</a></li>
<li><a href="#index-out_005frectangle-755"><code>out_rectangle</code></a>: <a href="#Rectangles-for-Ellipses">Rectangles for Ellipses</a></li>
<li><a href="#index-output-819"><code>output</code></a>: <a href="#Outputting-Solids">Outputting Solids</a></li>
<li><a href="#index-output-634"><code>output</code></a>: <a href="#Outputting-Paths">Outputting Paths</a></li>
<li><a href="#index-output-464"><code>output</code></a>: <a href="#Outputting-Points">Outputting Points</a></li>
<li><a href="#index-output-335"><code>output</code></a>: <a href="#Picture-Output-Functions">Picture Output Functions</a></li>
<li><a href="#index-output-300"><code>output</code></a>: <a href="#Outputting-Labels">Outputting Labels</a></li>
<li><a href="#index-output-253"><code>output</code></a>: <a href="#Outputting-Shapes">Outputting Shapes</a></li>
<li><a href="#index-Path-543"><code>Path</code></a>: <a href="#Path-Constructors-and-Setting-Functions">Path Constructors and Setting Functions</a></li>
<li><a href="#index-persp_005f0-889"><code>persp_0</code></a>: <a href="#Perspective-Functions">Perspective Functions</a></li>
<li><a href="#index-Picture-307"><code>Picture</code></a>: <a href="#Picture-Constructors">Picture Constructors</a></li>
<li><a href="#index-Plane-513"><code>Plane</code></a>: <a href="#Planes-Constructors">Planes Constructors</a></li>
<li><a href="#index-Point-375"><code>Point</code></a>: <a href="#Point-Constructors-and-Setting-Functions">Point Constructors and Setting Functions</a></li>
<li><a href="#index-Point_003a_003aintersection_005fpoints-96"><code>Point::intersection_points</code></a>: <a href="#Intersections">Intersections</a></li>
<li><a href="#index-Point_003a_003aoperator_003d-30"><code>Point::operator=</code></a>: <a href="#Setting-and-Assigning-to-Points">Setting and Assigning to Points</a></li>
<li><a href="#index-Point_003a_003aset-32"><code>Point::set</code></a>: <a href="#Setting-and-Assigning-to-Points">Setting and Assigning to Points</a></li>
<li><a href="#index-project-625"><code>project</code></a>: <a href="#Outputting-Paths">Outputting Paths</a></li>
<li><a href="#index-project-425"><code>project</code></a>: <a href="#Projecting-Points">Projecting Points</a></li>
<li><a href="#index-quarter-706"><code>quarter</code></a>: <a href="#Regular-Closed-Plane-Curve-Segments">Regular Closed Plane Curve Segments</a></li>
<li><a href="#index-real_005ftriple-134"><code>real_triple</code></a>: <a href="#Typedefs-and-Utility-Structures">Typedefs and Utility Structures</a></li>
<li><a href="#index-Rectangle-675"><code>Rectangle</code></a>: <a href="#Rectangle-Constructors-and-Setting-Functions">Rectangle Constructors and Setting Functions</a></li>
<li><a href="#index-Reg_005fPolygon-658"><code>Reg_Polygon</code></a>: <a href="#Regular-Polygon-Constructors-and-Setting-Functions">Regular Polygon Constructors and Setting Functions</a></li>
<li><a href="#index-reset-291"><code>reset</code></a>: <a href="#Resetting-Transforms">Resetting Transforms</a></li>
<li><a href="#index-reset_005fangle-489"><code>reset_angle</code></a>: <a href="#Modifying-Focuses">Modifying Focuses</a></li>
<li><a href="#index-reset_005ftransform-414"><code>reset_transform</code></a>: <a href="#Modifying-Points">Modifying Points</a></li>
<li><a href="#index-reset_005ftransform-320"><code>reset_transform</code></a>: <a href="#Modifying-Pictures">Modifying Pictures</a></li>
<li><a href="#index-reverse-623"><code>reverse</code></a>: <a href="#Querying-Paths">Querying Paths</a></li>
<li><a href="#index-rotate-816"><code>rotate</code></a>: <a href="#Affine-Transformations-for-Solids">Affine Transformations for Solids</a></li>
<li><a href="#index-rotate-725"><code>rotate</code></a>: <a href="#Affine-Transformations-for-Ellipses">Affine Transformations for Ellipses</a></li>
<li><a href="#index-rotate-641"><code>rotate</code></a>: <a href="#Affine-Transformations-for-Polygons">Affine Transformations for Polygons</a></li>
<li><a href="#index-rotate-572"><code>rotate</code></a>: <a href="#Affine-Transformations-for-Paths">Affine Transformations for Paths</a></li>
<li><a href="#index-rotate-415"><code>rotate</code></a>: <a href="#Affine-Transformations-for-Points">Affine Transformations for Points</a></li>
<li><a href="#index-rotate-317"><code>rotate</code></a>: <a href="#Affine-Transformations-for-Pictures">Affine Transformations for Pictures</a></li>
<li><a href="#index-rotate-287"><code>rotate</code></a>: <a href="#Affine-Transformations-for-Transforms">Affine Transformations for Transforms</a></li>
<li><a href="#index-rotate-244"><code>rotate</code></a>: <a href="#Affine-Transformations-for-Shapes">Affine Transformations for Shapes</a></li>
<li><a href="#index-scale-812"><code>scale</code></a>: <a href="#Affine-Transformations-for-Solids">Affine Transformations for Solids</a></li>
<li><a href="#index-scale-728"><code>scale</code></a>: <a href="#Affine-Transformations-for-Ellipses">Affine Transformations for Ellipses</a></li>
<li><a href="#index-scale-644"><code>scale</code></a>: <a href="#Affine-Transformations-for-Polygons">Affine Transformations for Polygons</a></li>
<li><a href="#index-scale-573"><code>scale</code></a>: <a href="#Affine-Transformations-for-Paths">Affine Transformations for Paths</a></li>
<li><a href="#index-scale-418"><code>scale</code></a>: <a href="#Affine-Transformations-for-Points">Affine Transformations for Points</a></li>
<li><a href="#index-scale-314"><code>scale</code></a>: <a href="#Affine-Transformations-for-Pictures">Affine Transformations for Pictures</a></li>
<li><a href="#index-scale-282"><code>scale</code></a>: <a href="#Affine-Transformations-for-Transforms">Affine Transformations for Transforms</a></li>
<li><a href="#index-scale-245"><code>scale</code></a>: <a href="#Affine-Transformations-for-Shapes">Affine Transformations for Shapes</a></li>
<li><a href="#index-segment-704"><code>segment</code></a>: <a href="#Regular-Closed-Plane-Curve-Segments">Regular Closed Plane Curve Segments</a></li>
<li><a href="#index-set-861"><code>set</code></a>: <a href="#Tetrahedron-Constructors-and-Setting-Functions">Tetrahedron Constructors and Setting Functions</a></li>
<li><a href="#index-set-763"><code>set</code></a>: <a href="#Circle-Constructors-and-Setting-Functions">Circle Constructors and Setting Functions</a></li>
<li><a href="#index-set-717"><code>set</code></a>: <a href="#Ellipse-Constructors-and-Setting-Functions">Ellipse Constructors and Setting Functions</a></li>
<li><a href="#index-set-677"><code>set</code></a>: <a href="#Rectangle-Constructors-and-Setting-Functions">Rectangle Constructors and Setting Functions</a></li>
<li><a href="#index-set-660"><code>set</code></a>: <a href="#Regular-Polygon-Constructors-and-Setting-Functions">Regular Polygon Constructors and Setting Functions</a></li>
<li><a href="#index-set-545"><code>set</code></a>: <a href="#Path-Constructors-and-Setting-Functions">Path Constructors and Setting Functions</a></li>
<li><a href="#index-set-485"><code>set</code></a>: <a href="#Focus-Constructors-and-Setting-Functions">Focus Constructors and Setting Functions</a></li>
<li><a href="#index-set-377"><code>set</code></a>: <a href="#Point-Constructors-and-Setting-Functions">Point Constructors and Setting Functions</a></li>
<li><a href="#index-set-173"><code>set</code></a>: <a href="#Color-Constructors-and-Setting-Functions">Color Constructors and Setting Functions</a></li>
<li><a href="#index-set-_0028for-Points_0029-33"><code>set (for Points)</code></a>: <a href="#Setting-and-Assigning-to-Points">Setting and Assigning to Points</a></li>
<li><a href="#index-set_005fblue_005fpart-187"><code>set_blue_part</code></a>: <a href="#Modifying-Colors">Modifying Colors</a></li>
<li><a href="#index-set_005fconnectors-571"><code>set_connectors</code></a>: <a href="#Modifying-Paths">Modifying Paths</a></li>
<li><a href="#index-set_005fcycle-622"><code>set_cycle</code></a>: <a href="#Querying-Paths">Querying Paths</a></li>
<li><a href="#index-set_005fdash_005fpattern-569"><code>set_dash_pattern</code></a>: <a href="#Modifying-Paths">Modifying Paths</a></li>
<li><a href="#index-set_005fdraw_005fcolor-565"><code>set_draw_color</code></a>: <a href="#Modifying-Paths">Modifying Paths</a></li>
<li><a href="#index-set_005felement-277"><code>set_element</code></a>: <a href="#Setting-Values-Transforms">Setting Values Transforms</a></li>
<li><a href="#index-set_005fextremes-823"><code>set_extremes</code></a>: <a href="#Outputting-Solids">Outputting Solids</a></li>
<li><a href="#index-set_005fextremes-627"><code>set_extremes</code></a>: <a href="#Outputting-Paths">Outputting Paths</a></li>
<li><a href="#index-set_005fextremes-468"><code>set_extremes</code></a>: <a href="#Outputting-Points">Outputting Points</a></li>
<li><a href="#index-set_005fextremes-255"><code>set_extremes</code></a>: <a href="#Outputting-Shapes">Outputting Shapes</a></li>
<li><a href="#index-set_005ffill_005fcolor-567"><code>set_fill_color</code></a>: <a href="#Modifying-Paths">Modifying Paths</a></li>
<li><a href="#index-set_005ffill_005fdraw_005fvalue-564"><code>set_fill_draw_value</code></a>: <a href="#Modifying-Paths">Modifying Paths</a></li>
<li><a href="#index-set_005fgreen_005fpart-186"><code>set_green_part</code></a>: <a href="#Modifying-Colors">Modifying Colors</a></li>
<li><a href="#index-set_005fname-182"><code>set_name</code></a>: <a href="#Modifying-Colors">Modifying Colors</a></li>
<li><a href="#index-set_005fon_005ffree_005fstore-797"><code>set_on_free_store</code></a>: <a href="#Setting-Solid-Members">Setting Solid Members</a></li>
<li><a href="#index-set_005fon_005ffree_005fstore-563"><code>set_on_free_store</code></a>: <a href="#Modifying-Paths">Modifying Paths</a></li>
<li><a href="#index-set_005fon_005ffree_005fstore-411"><code>set_on_free_store</code></a>: <a href="#Modifying-Points">Modifying Points</a></li>
<li><a href="#index-set_005fon_005ffree_005fstore-243"><code>set_on_free_store</code></a>: <a href="#Modifying-Shapes">Modifying Shapes</a></li>
<li><a href="#index-set_005fpen-570"><code>set_pen</code></a>: <a href="#Modifying-Paths">Modifying Paths</a></li>
<li><a href="#index-set_005fred_005fpart-185"><code>set_red_part</code></a>: <a href="#Modifying-Colors">Modifying Colors</a></li>
<li><a href="#index-set_005ftransform-321"><code>set_transform</code></a>: <a href="#Modifying-Pictures">Modifying Pictures</a></li>
<li><a href="#index-set_005fuse_005fname-183"><code>set_use_name</code></a>: <a href="#Modifying-Colors">Modifying Colors</a></li>
<li><a href="#index-shear-813"><code>shear</code></a>: <a href="#Affine-Transformations-for-Solids">Affine Transformations for Solids</a></li>
<li><a href="#index-shear-729"><code>shear</code></a>: <a href="#Affine-Transformations-for-Ellipses">Affine Transformations for Ellipses</a></li>
<li><a href="#index-shear-645"><code>shear</code></a>: <a href="#Affine-Transformations-for-Polygons">Affine Transformations for Polygons</a></li>
<li><a href="#index-shear-574"><code>shear</code></a>: <a href="#Affine-Transformations-for-Paths">Affine Transformations for Paths</a></li>
<li><a href="#index-shear-419"><code>shear</code></a>: <a href="#Affine-Transformations-for-Points">Affine Transformations for Points</a></li>
<li><a href="#index-shear-283"><code>shear</code></a>: <a href="#Affine-Transformations-for-Transforms">Affine Transformations for Transforms</a></li>
<li><a href="#index-shear-246"><code>shear</code></a>: <a href="#Affine-Transformations-for-Shapes">Affine Transformations for Shapes</a></li>
<li><a href="#index-shift-814"><code>shift</code></a>: <a href="#Affine-Transformations-for-Solids">Affine Transformations for Solids</a></li>
<li><a href="#index-shift-730"><code>shift</code></a>: <a href="#Affine-Transformations-for-Ellipses">Affine Transformations for Ellipses</a></li>
<li><a href="#index-shift-646"><code>shift</code></a>: <a href="#Affine-Transformations-for-Polygons">Affine Transformations for Polygons</a></li>
<li><a href="#index-shift-575"><code>shift</code></a>: <a href="#Affine-Transformations-for-Paths">Affine Transformations for Paths</a></li>
<li><a href="#index-shift-420"><code>shift</code></a>: <a href="#Affine-Transformations-for-Points">Affine Transformations for Points</a></li>
<li><a href="#index-shift-315"><code>shift</code></a>: <a href="#Affine-Transformations-for-Pictures">Affine Transformations for Pictures</a></li>
<li><a href="#index-shift-284"><code>shift</code></a>: <a href="#Affine-Transformations-for-Transforms">Affine Transformations for Transforms</a></li>
<li><a href="#index-shift-247"><code>shift</code></a>: <a href="#Affine-Transformations-for-Shapes">Affine Transformations for Shapes</a></li>
<li><a href="#index-shift_005ftimes-732"><code>shift_times</code></a>: <a href="#Affine-Transformations-for-Ellipses">Affine Transformations for Ellipses</a></li>
<li><a href="#index-shift_005ftimes-648"><code>shift_times</code></a>: <a href="#Affine-Transformations-for-Polygons">Affine Transformations for Polygons</a></li>
<li><a href="#index-shift_005ftimes-577"><code>shift_times</code></a>: <a href="#Affine-Transformations-for-Paths">Affine Transformations for Paths</a></li>
<li><a href="#index-shift_005ftimes-422"><code>shift_times</code></a>: <a href="#Affine-Transformations-for-Points">Affine Transformations for Points</a></li>
<li><a href="#index-shift_005ftimes-286"><code>shift_times</code></a>: <a href="#Affine-Transformations-for-Transforms">Affine Transformations for Transforms</a></li>
<li><a href="#index-show-811"><code>show</code></a>: <a href="#Showing-Solids">Showing Solids</a></li>
<li><a href="#index-show-606"><code>show</code></a>: <a href="#Showing-Paths">Showing Paths</a></li>
<li><a href="#index-show-524"><code>show</code></a>: <a href="#Planes-Showing">Planes Showing</a></li>
<li><a href="#index-show-507"><code>show</code></a>: <a href="#Showing">Showing</a></li>
<li><a href="#index-show-498"><code>show</code></a>: <a href="#Showing-Focuses">Showing Focuses</a></li>
<li><a href="#index-show-461"><code>show</code></a>: <a href="#Showing-Points">Showing Points</a></li>
<li><a href="#index-show-323"><code>show</code></a>: <a href="#Showing-Pictures">Showing Pictures</a></li>
<li><a href="#index-show-281"><code>show</code></a>: <a href="#Showing-Transforms">Showing Transforms</a></li>
<li><a href="#index-show-252"><code>show</code></a>: <a href="#Showing-Shapes">Showing Shapes</a></li>
<li><a href="#index-show-188"><code>show</code></a>: <a href="#Showing-Colors">Showing Colors</a></li>
<li><a href="#index-show_005fcolors-607"><code>show_colors</code></a>: <a href="#Showing-Paths">Showing Paths</a></li>
<li><a href="#index-show_005ftransform-462"><code>show_transform</code></a>: <a href="#Showing-Points">Showing Points</a></li>
<li><a href="#index-show_005ftransform-324"><code>show_transform</code></a>: <a href="#Showing-Pictures">Showing Pictures</a></li>
<li><a href="#index-size-612"><code>size</code></a>: <a href="#Querying-Paths">Querying Paths</a></li>
<li><a href="#index-slope-614"><code>slope</code></a>: <a href="#Querying-Paths">Querying Paths</a></li>
<li><a href="#index-slope-434"><code>slope</code></a>: <a href="#Points-and-Lines">Points and Lines</a></li>
<li><a href="#index-Solid-789"><code>Solid</code></a>: <a href="#Solid-Constructors-and-Setting-Functions">Solid Constructors and Setting Functions</a></li>
<li><a href="#index-solve-753"><code>solve</code></a>: <a href="#Solving-Ellipses">Solving Ellipses</a></li>
<li><a href="#index-solve-699"><code>solve</code></a>: <a href="#Querying-Regular-Closed-Plane-Curves">Querying Regular Closed Plane Curves</a></li>
<li><a href="#index-solve_005fquadratic-888"><code>solve_quadratic</code></a>: <a href="#Utility-Functions">Utility Functions</a></li>
<li><a href="#index-subpath-615"><code>subpath</code></a>: <a href="#Querying-Paths">Querying Paths</a></li>
<li><a href="#index-suppress_005flabels-337"><code>suppress_labels</code></a>: <a href="#Picture-Output-Functions">Picture Output Functions</a></li>
<li><a href="#index-suppress_005foutput-820"><code>suppress_output</code></a>: <a href="#Outputting-Solids">Outputting Solids</a></li>
<li><a href="#index-suppress_005foutput-632"><code>suppress_output</code></a>: <a href="#Outputting-Paths">Outputting Paths</a></li>
<li><a href="#index-suppress_005foutput-465"><code>suppress_output</code></a>: <a href="#Outputting-Points">Outputting Points</a></li>
<li><a href="#index-suppress_005foutput-260"><code>suppress_output</code></a>: <a href="#Outputting-Shapes">Outputting Shapes</a></li>
<li><a href="#index-Tetrahedron-859"><code>Tetrahedron</code></a>: <a href="#Tetrahedron-Constructors-and-Setting-Functions">Tetrahedron Constructors and Setting Functions</a></li>
<li><a href="#index-Transform-267"><code>Transform</code></a>: <a href="#Transform-Constructors">Transform Constructors</a></li>
<li><a href="#index-trunc-886"><code>trunc</code></a>: <a href="#Utility-Functions">Utility Functions</a></li>
<li><a href="#index-Trunc_005fOctahedron-883"><code>Trunc_Octahedron</code></a>: <a href="#Truncated-Octahedron-Constructors-and-Setting-Functions">Truncated Octahedron Constructors and Setting Functions</a></li>
<li><a href="#index-undraw-831"><code>undraw</code></a>: <a href="#Drawing-and-Filling-Solids">Drawing and Filling Solids</a></li>
<li><a href="#index-undraw-597"><code>undraw</code></a>: <a href="#Drawing-and-Filling-Paths">Drawing and Filling Paths</a></li>
<li><a href="#index-undraw-450"><code>undraw</code></a>: <a href="#Point-Drawing-Functions">Point Drawing Functions</a></li>
<li><a href="#index-undrawdot-446"><code>undrawdot</code></a>: <a href="#Point-Drawing-Functions">Point Drawing Functions</a></li>
<li><a href="#index-unfill-832"><code>unfill</code></a>: <a href="#Drawing-and-Filling-Solids">Drawing and Filling Solids</a></li>
<li><a href="#index-unfill-599"><code>unfill</code></a>: <a href="#Drawing-and-Filling-Paths">Drawing and Filling Paths</a></li>
<li><a href="#index-unfilldraw-833"><code>unfilldraw</code></a>: <a href="#Drawing-and-Filling-Solids">Drawing and Filling Solids</a></li>
<li><a href="#index-unfilldraw-600"><code>unfilldraw</code></a>: <a href="#Drawing-and-Filling-Paths">Drawing and Filling Paths</a></li>
<li><a href="#index-unit_005fvector-431"><code>unit_vector</code></a>: <a href="#Vector-Operations">Vector Operations</a></li>
<li><a href="#index-unsuppress_005flabels-338"><code>unsuppress_labels</code></a>: <a href="#Picture-Output-Functions">Picture Output Functions</a></li>
<li><a href="#index-unsuppress_005foutput-821"><code>unsuppress_output</code></a>: <a href="#Outputting-Solids">Outputting Solids</a></li>
<li><a href="#index-unsuppress_005foutput-633"><code>unsuppress_output</code></a>: <a href="#Outputting-Paths">Outputting Paths</a></li>
<li><a href="#index-unsuppress_005foutput-261"><code>unsuppress_output</code></a>: <a href="#Outputting-Shapes">Outputting Shapes</a></li>
<li><a href="#index-void-466"><code>void</code></a>: <a href="#Outputting-Points">Outputting Points</a></li>
<li><a href="#index-write_005ffooters-227"><code>write_footers</code></a>: <a href="#I_002fO-Functions">I/O Functions</a></li>
<li><a href="#index-g_t_007eCuboid-849"><code>~Cuboid</code></a>: <a href="#Cuboid-Constructors-and-Setting-Functions">Cuboid Constructors and Setting Functions</a></li>
<li><a href="#index-g_t_007ePath-553"><code>~Path</code></a>: <a href="#Path-Destructor">Path Destructor</a></li>
<li><a href="#index-g_t_007ePoint-382"><code>~Point</code></a>: <a href="#Point-Destructor">Point Destructor</a></li>
<li><a href="#index-g_t_007eSolid-793"><code>~Solid</code></a>: <a href="#Solid-Destructor">Solid Destructor</a></li>
   </ul><!-- concidx.texi -->
<!-- This file is part of the 3DLDF User and Reference Manual. -->
<!-- Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013 The Free Software Foundation -->
<!-- See the section "GNU Free Documentation License" in the file -->
<!-- fdl.texi for copying conditions. -->
<div class="node">
<a name="Concept-Index"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Function-Index">Function Index</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="unnumbered">Concept Index</h2>



<ul class="index-cp" compact>
<li><a href="#index-animation-76">animation</a>: <a href="#Focuses-Getstart">Focuses Getstart</a></li>
<li><a href="#index-arbitrary-Path-85">arbitrary Path</a>: <a href="#Intersections">Intersections</a></li>
<li><a href="#index-B_002dsplines-896">B-splines</a>: <a href="#Curves-and-Surfaces">Curves and Surfaces</a></li>
<li><a href="#index-B_0040_0027ezier-curves-895">B&eacute;zier curves</a>: <a href="#Curves-and-Surfaces">Curves and Surfaces</a></li>
<li><a href="#index-bugs-34">bugs</a>: <a href="#Rotating-Points">Rotating Points</a></li>
<li><a href="#index-CD_002dR-_0028Compact-Disk_002c-Recordable_0029-118">CD-R (Compact Disk, Recordable)</a>: <a href="#Converting-EPS-Files">Converting EPS Files</a></li>
<li><a href="#index-Compact-Disk_002c-Recordable-_0028CD_002dR_0029-119">Compact Disk, Recordable (CD-R)</a>: <a href="#Converting-EPS-Files">Converting EPS Files</a></li>
<li><a href="#index-Comprehensive-_0040TeX_007b_007d-Archive-Network-_0028CTAN_0029-2">Comprehensive TeX Archive Network (CTAN)</a>: <a href="#Sources-of-Information">Sources of Information</a></li>
<li><a href="#index-connecting-_0040code_007bPoints_007d-48">connecting <code>Points</code></a>: <a href="#Drawing-Points-Intro">Drawing Points Intro</a></li>
<li><a href="#index-connectors-90">connectors</a>: <a href="#Intersections">Intersections</a></li>
<li><a href="#index-connectors-52">connectors</a>: <a href="#Paths">Paths</a></li>
<li><a href="#index-contributing-to-3DLDF-100">contributing to 3DLDF</a>: <a href="#Intersections">Intersections</a></li>
<li><a href="#index-control-points-56">control points</a>: <a href="#Paths">Paths</a></li>
<li><a href="#index-controls-55">controls</a>: <a href="#Paths">Paths</a></li>
<li><a href="#index-convert-_0028ImageMagick_0029-106">convert (ImageMagick)</a>: <a href="#Converting-EPS-Files">Converting EPS Files</a></li>
<li><a href="#index-CTAN-_0028Comprehensive-_0040TeX_007b_007d-Archive-Network_0029-1">CTAN (Comprehensive TeX Archive Network)</a>: <a href="#Sources-of-Information">Sources of Information</a></li>
<li><a href="#index-curl-53">curl</a>: <a href="#Paths">Paths</a></li>
<li><a href="#index-derivation-892">derivation</a>: <a href="#Geometry">Geometry</a></li>
<li><a href="#index-derived-classes-891">derived classes</a>: <a href="#Geometry">Geometry</a></li>
<li><a href="#index-display-_0028ImageMagick_0029-117">display (ImageMagick)</a>: <a href="#Converting-EPS-Files">Converting EPS Files</a></li>
<li><a href="#index-drawing-and-filling-44">drawing and filling</a>: <a href="#Drawing-Points-Intro">Drawing Points Intro</a></li>
<li><a href="#index-Emacs-229">Emacs</a>: <a href="#I_002fO-Functions">I/O Functions</a></li>
<li><a href="#index-Emacs_002dLisp-128">Emacs-Lisp</a>: <a href="#Converting-EPS-Files-ELISP">Converting EPS Files ELISP</a></li>
<li><a href="#index-Encapsulated-PostScript-_0028EPS_0029-127">Encapsulated PostScript (EPS)</a>: <a href="#Converting-EPS-Files-ELISP">Converting EPS Files ELISP</a></li>
<li><a href="#index-Encapsulated-PostScript-_0028EPS_0029-114">Encapsulated PostScript (EPS)</a>: <a href="#Converting-EPS-Files">Converting EPS Files</a></li>
<li><a href="#index-Encapsulated-PostScript-_0028EPS_0029-15">Encapsulated PostScript (EPS)</a>: <a href="#Metafont-and-MetaPost">Metafont and MetaPost</a></li>
<li><a href="#index-Encapsulated-PostScript-_0028EPS_0029-11">Encapsulated PostScript (EPS)</a>: <a href="#Illustrations">Illustrations</a></li>
<li><a href="#index-EPS-_0028Encapsulated-PostScript_0029-126">EPS (Encapsulated PostScript)</a>: <a href="#Converting-EPS-Files-ELISP">Converting EPS Files ELISP</a></li>
<li><a href="#index-EPS-_0028Encapsulated-PostScript_0029-113">EPS (Encapsulated PostScript)</a>: <a href="#Converting-EPS-Files">Converting EPS Files</a></li>
<li><a href="#index-EPS-_0028Encapsulated-PostScript_0029-14">EPS (Encapsulated PostScript)</a>: <a href="#Metafont-and-MetaPost">Metafont and MetaPost</a></li>
<li><a href="#index-EPS-_0028Encapsulated-PostScript_0029-10">EPS (Encapsulated PostScript)</a>: <a href="#Illustrations">Illustrations</a></li>
<li><a href="#index-file_002c-output-442">file, output</a>: <a href="#Point-Drawing-Functions">Point Drawing Functions</a></li>
<li><a href="#index-function-templates-103">function templates</a>: <a href="#Template-Functions">Template Functions</a></li>
<li><a href="#index-function_002c-member-4">function, member</a>: <a href="#Manual-Conventions">Manual Conventions</a></li>
<li><a href="#index-future-plans-99">future plans</a>: <a href="#Intersections">Intersections</a></li>
<li><a href="#index-help-lines-452">help lines</a>: <a href="#Point-Drawing-Functions">Point Drawing Functions</a></li>
<li><a href="#index-hidden-surface-algorithm-79">hidden surface algorithm</a>: <a href="#Surface-Hiding">Surface Hiding</a></li>
<li><a href="#index-homogeneous-coordinates-36">homogeneous coordinates</a>: <a href="#Transforms">Transforms</a></li>
<li><a href="#index-identity-matrix-38">identity matrix</a>: <a href="#Transforms">Transforms</a></li>
<li><a href="#index-ImageMagick-104">ImageMagick</a>: <a href="#Converting-EPS-Files">Converting EPS Files</a></li>
<li><a href="#index-ImageMagick-convert-105">ImageMagick convert</a>: <a href="#Converting-EPS-Files">Converting EPS Files</a></li>
<li><a href="#index-ImageMagick-display-116">ImageMagick display</a>: <a href="#Converting-EPS-Files">Converting EPS Files</a></li>
<li><a href="#index-input-routine-21">input routine</a>: <a href="#Declaring-and-Initializing-Points">Declaring and Initializing Points</a></li>
<li><a href="#index-intersection-81">intersection</a>: <a href="#Intersections">Intersections</a></li>
<li><a href="#index-intersection-points-82">intersection points</a>: <a href="#Intersections">Intersections</a></li>
<li><a href="#index-intersection-theory-97">intersection theory</a>: <a href="#Intersections">Intersections</a></li>
<li><a href="#index-invariance_002c-projective-902">invariance, projective</a>: <a href="#Curves-and-Surfaces">Curves and Surfaces</a></li>
<li><a href="#index-inversion-43">inversion</a>: <a href="#Inverting-Transforms">Inverting Transforms</a></li>
<li><a href="#index-kludge-887">kludge</a>: <a href="#Utility-Functions">Utility Functions</a></li>
<li><a href="#index-linear-_0040code_007bPaths_007d-527">linear <code>Paths</code></a>: <a href="#Path-Data-Members">Path Data Members</a></li>
<li><a href="#index-lines_002c-drawing-47">lines, drawing</a>: <a href="#Drawing-Points-Intro">Drawing Points Intro</a></li>
<li><a href="#index-local-variable-lists-228">local variable lists</a>: <a href="#I_002fO-Functions">I/O Functions</a></li>
<li><a href="#index-matrix-inversion-42">matrix inversion</a>: <a href="#Inverting-Transforms">Inverting Transforms</a></li>
<li><a href="#index-matrix-operations-40">matrix operations</a>: <a href="#Transforms">Transforms</a></li>
<li><a href="#index-matrix_002c-identity-39">matrix, identity</a>: <a href="#Transforms">Transforms</a></li>
<li><a href="#index-measurement-units-19">measurement units</a>: <a href="#Declaring-and-Initializing-Points">Declaring and Initializing Points</a></li>
<li><a href="#index-member-function-3">member function</a>: <a href="#Manual-Conventions">Manual Conventions</a></li>
<li><a href="#index-Metafont-12">Metafont</a>: <a href="#Metafont-and-MetaPost">Metafont and MetaPost</a></li>
<li><a href="#index-MetaPost-13">MetaPost</a>: <a href="#Metafont-and-MetaPost">Metafont and MetaPost</a></li>
<li><a href="#index-multi_002dthreading-910">multi-threading</a>: <a href="#Multi_002dThreading">Multi-Threading</a></li>
<li><a href="#index-multiple-inheritance-890">multiple inheritance</a>: <a href="#Geometry">Geometry</a></li>
<li><a href="#index-non_002darbitrary-Path-92">non-arbitrary Path</a>: <a href="#Intersections">Intersections</a></li>
<li><a href="#index-non_002duniform-rational-B_002dsplines-_0028NURBS_0029-898">non-uniform rational B-splines (NURBS)</a>: <a href="#Curves-and-Surfaces">Curves and Surfaces</a></li>
<li><a href="#index-NURBS-_0028non_002duniform-rational-B_002dsplines_0029-897">NURBS (non-uniform rational B-splines)</a>: <a href="#Curves-and-Surfaces">Curves and Surfaces</a></li>
<li><a href="#index-operations_002c-matrix-41">operations, matrix</a>: <a href="#Transforms">Transforms</a></li>
<li><a href="#index-output-file-441">output file</a>: <a href="#Point-Drawing-Functions">Point Drawing Functions</a></li>
<li><a href="#index-output-file-84">output file</a>: <a href="#Intersections">Intersections</a></li>
<li><a href="#index-output-file-69">output file</a>: <a href="#Pictures">Pictures</a></li>
<li><a href="#index-output-files-72">output files</a>: <a href="#Pictures">Pictures</a></li>
<li><a href="#index-painter_0027s-algorithm-80">painter's algorithm</a>: <a href="#Surface-Hiding">Surface Hiding</a></li>
<li><a href="#index-patches-899">patches</a>: <a href="#Curves-and-Surfaces">Curves and Surfaces</a></li>
<li><a href="#index-Path-connectors-91">Path connectors</a>: <a href="#Intersections">Intersections</a></li>
<li><a href="#index-Path-intersections-83">Path intersections</a>: <a href="#Intersections">Intersections</a></li>
<li><a href="#index-paths-51">paths</a>: <a href="#Paths">Paths</a></li>
<li><a href="#index-pen-expression-443">pen expression</a>: <a href="#Point-Drawing-Functions">Point Drawing Functions</a></li>
<li><a href="#index-pens-45">pens</a>: <a href="#Drawing-Points-Intro">Drawing Points Intro</a></li>
<li><a href="#index-PNG-_0028Portable-Network-Graphics_0029-911">PNG (Portable Network Graphics)</a>: <a href="#Changes-in-3DLDF-1_002e1_002e5_002e1">Changes in 3DLDF 1.1.5.1</a></li>
<li><a href="#index-PNG-_0028Portable-Network-Graphics_0029-120">PNG (Portable Network Graphics)</a>: <a href="#Converting-EPS-Files-ELISP">Converting EPS Files ELISP</a></li>
<li><a href="#index-PNG-_0028Portable-Network-Graphics_0029-107">PNG (Portable Network Graphics)</a>: <a href="#Converting-EPS-Files">Converting EPS Files</a></li>
<li><a href="#index-PNG-_0028Portable-Network-Graphics_0029-6">PNG (Portable Network Graphics)</a>: <a href="#Illustrations">Illustrations</a></li>
<li><a href="#index-g_t_0040code_007bPoints_007d_002c-connecting-49"><code>Points</code>, connecting</a>: <a href="#Drawing-Points-Intro">Drawing Points Intro</a></li>
<li><a href="#index-Portable-Network-Graphics-_0028PNG_0029-912">Portable Network Graphics (PNG)</a>: <a href="#Changes-in-3DLDF-1_002e1_002e5_002e1">Changes in 3DLDF 1.1.5.1</a></li>
<li><a href="#index-Portable-Network-Graphics-_0028PNG_0029-121">Portable Network Graphics (PNG)</a>: <a href="#Converting-EPS-Files-ELISP">Converting EPS Files ELISP</a></li>
<li><a href="#index-Portable-Network-Graphics-_0028PNG_0029-108">Portable Network Graphics (PNG)</a>: <a href="#Converting-EPS-Files">Converting EPS Files</a></li>
<li><a href="#index-Portable-Network-Graphics-_0028PNG_0029-7">Portable Network Graphics (PNG)</a>: <a href="#Illustrations">Illustrations</a></li>
<li><a href="#index-PostScript-_0028PS_0029-123">PostScript (PS)</a>: <a href="#Converting-EPS-Files-ELISP">Converting EPS Files ELISP</a></li>
<li><a href="#index-PostScript-_0028PS_0029-110">PostScript (PS)</a>: <a href="#Converting-EPS-Files">Converting EPS Files</a></li>
<li><a href="#index-PostScript-_0028PS_0029-9">PostScript (PS)</a>: <a href="#Illustrations">Illustrations</a></li>
<li><a href="#index-PostScript_002c-structured-125">PostScript, structured</a>: <a href="#Converting-EPS-Files-ELISP">Converting EPS Files ELISP</a></li>
<li><a href="#index-PostScript_002c-structured-112">PostScript, structured</a>: <a href="#Converting-EPS-Files">Converting EPS Files</a></li>
<li><a href="#index-projective-invariance-901">projective invariance</a>: <a href="#Curves-and-Surfaces">Curves and Surfaces</a></li>
<li><a href="#index-PS-_0028PostScript_0029-122">PS (PostScript)</a>: <a href="#Converting-EPS-Files-ELISP">Converting EPS Files ELISP</a></li>
<li><a href="#index-PS-_0028PostScript_0029-109">PS (PostScript)</a>: <a href="#Converting-EPS-Files">Converting EPS Files</a></li>
<li><a href="#index-PS-_0028PostScript_0029-8">PS (PostScript)</a>: <a href="#Illustrations">Illustrations</a></li>
<li><a href="#index-raw-MetaPost-code-73">raw MetaPost code</a>: <a href="#Pictures">Pictures</a></li>
<li><a href="#index-reflections-908">reflections</a>: <a href="#Shadows">Shadows</a></li>
<li><a href="#index-RGB-_0028red_002dgreen_002dblue_0029-165">RGB (red-green-blue)</a>: <a href="#Color-Data-Members">Color Data Members</a></li>
<li><a href="#index-shading-909">shading</a>: <a href="#Shadows">Shadows</a></li>
<li><a href="#index-shadows-907">shadows</a>: <a href="#Shadows">Shadows</a></li>
<li><a href="#index-spline-curves-894">spline curves</a>: <a href="#Curves-and-Surfaces">Curves and Surfaces</a></li>
<li><a href="#index-splines-893">splines</a>: <a href="#Curves-and-Surfaces">Curves and Surfaces</a></li>
<li><a href="#index-structured-PostScript-124">structured PostScript</a>: <a href="#Converting-EPS-Files-ELISP">Converting EPS Files ELISP</a></li>
<li><a href="#index-structured-PostScript-111">structured PostScript</a>: <a href="#Converting-EPS-Files">Converting EPS Files</a></li>
<li><a href="#index-surface-hiding-78">surface hiding</a>: <a href="#Surface-Hiding">Surface Hiding</a></li>
<li><a href="#index-surface-patches-900">surface patches</a>: <a href="#Curves-and-Surfaces">Curves and Surfaces</a></li>
<li><a href="#index-symbols-5">symbols</a>: <a href="#Manual-Conventions">Manual Conventions</a></li>
<li><a href="#index-system-dependencies-148">system dependencies</a>: <a href="#Global-Constants-and-Variables">Global Constants and Variables</a></li>
<li><a href="#index-template-functions-102">template functions</a>: <a href="#Template-Functions">Template Functions</a></li>
<li><a href="#index-templates-101">templates</a>: <a href="#Template-Functions">Template Functions</a></li>
<li><a href="#index-tension-54">tension</a>: <a href="#Paths">Paths</a></li>
<li><a href="#index-theory-of-intersection-98">theory of intersection</a>: <a href="#Intersections">Intersections</a></li>
<li><a href="#index-TO-DO-150">TO DO</a>: <a href="#Global-Constants-and-Variables">Global Constants and Variables</a></li>
<li><a href="#index-TO-DO-74">TO DO</a>: <a href="#Projections">Projections</a></li>
<li><a href="#index-units-of-measurement-20">units of measurement</a>: <a href="#Declaring-and-Initializing-Points">Declaring and Initializing Points</a></li>
   </ul><div class="footnote">
<hr>
<a name="texinfo-footnotes-in-document"></a><h4>Footnotes</h4><p class="footnote"><small>[<a name="fn-1" href="#fnd-1">1</a>]</small> <samp><span class="command">ctangle</span></samp> creates
<samp><span class="file">&lt;</span><i>filename</i><span class="file">&gt;.c</span></samp> from
<samp><i>&lt;filename&gt;</i><span class="file">.web</span></samp>,
so the compiler must compile the C++
 files
using the <samp><span class="option">-x c++</span></samp> option.  Otherwise, it would handle them as if
they contained C code.</p>

   <p class="footnote"><small>[<a name="fn-2" href="#fnd-2">2</a>]</small> If you want to try generating the illustrations yourself, you
can save a little run-time by calling <samp><span class="command">tex 3DLDF.texi</span></samp> the
first time, rather than <samp><span class="command">texi2dvi</span></samp>.  The latter program runs
TeX twice, because it needs two passes in order to generate the
contents, indexing, and cross reference information (and maybe some
other things, too).</p>

   <p class="footnote"><small>[<a name="fn-3" href="#fnd-3">3</a>]</small> Knuth, Donald E. <em>The
TeXbook</em>. Computers and Typesetting; A. 
Addison-Wesley Publishing Company. Reading, Massachusetts 1986.</p>

   <p class="footnote"><small>[<a name="fn-4" href="#fnd-4">4</a>]</small> Rokicki, Tomas. <em>Dvips: A
DVI-to-PostScript Translator</em> February 1997.  Available from CTAN. 
See <a href="#Sources-of-Information">Sources of Information</a>.</p>

   <p class="footnote"><small>[<a name="fn-5" href="#fnd-5">5</a>]</small> &ldquo;&lt;<small class="dots">...</small>&gt;
METAFONT deals only with numbers in a limited
range:  A numeric token must be less than 4096, and its value is always
rounded to the nearest  multiple of
1 / 65536.&rdquo;  Knuth, The METAFONTbook, p. 50. 
</p>

   <p class="footnote"><small>[<a name="fn-6" href="#fnd-6">6</a>]</small> <dfn>Scan conversion</dfn> is the process of digitizing geometric
data.  The ultimate result is a
2 X 2
map of pixels, which can be used for printing or representing the projection on a
computer screen.  The number of pixels per a given unit of measurement
is the <dfn>resolution</dfn> of a given output device, e.g., 300 pixels per inch.</p>

   <p class="footnote"><small>[<a name="fn-7" href="#fnd-7">7</a>]</small> Knuth, <cite>The METAFONTbook</cite>, Chapter 14, p. 127.</p>

   <p class="footnote"><small>[<a name="fn-8" href="#fnd-8">8</a>]</small> Flex is a program for generating text scanners and Bison is a
parser generator.  They are available from
<a href="http://www.gnu.org">http://www.gnu.org</a>.</p>

   <p class="footnote"><small>[<a name="fn-9" href="#fnd-9">9</a>]</small> <dfn>Affine transformations</dfn> are operations
that have the property that parallelity of
lines is maintained.  That is, if two lines (each determined by two
points) are parallel before the transformation, they will also be
parallel after
the transformation.  Affine transformations are discussed in many books
about computer graphics and geometry.  For 3DLDF, I've mostly used
Jones, <cite>Computer Graphics through Key Mathematics</cite>  and Salomon,
<cite>Computer Graphics and Geometric Modeling</cite>.</p>

   <p class="footnote"><small>[<a name="fn-10" href="#fnd-10">10</a>]</small> I try to avoid the use of
preprocessor macros as much as possible, for the reasons given by
Stroustrup in the <cite>The C++
 Programming Language</cite>,
section
7.8,
pp. 160&ndash;163, and
<cite>Design and Evolution of C++
</cite>, Chapter 18, pp. 423&ndash;426. 
However, conditional compilation is one of
the tasks that only the preprocessor can perform.</p>

   <p class="footnote"><small>[<a name="fn-11" href="#fnd-11">11</a>]</small> It is unfortunate that
the terms &ldquo;array&rdquo;, &ldquo;matrix&rdquo;, and &ldquo;vector&rdquo; have different meanings
in C++
 and in normal mathematical usage. However, in practice, these
discrepancies turn out not to cause many problems.  Stroustrup,
<cite>The C++
 Programming Language</cite>, section
 22.4, p. 662.</p>

   <p class="footnote"><small>[<a name="fn-12" href="#fnd-12">12</a>]</small> In fact, none of the operations for
transformations require all of the elements of a
4 X 4
matrix.  In many
3D graphics programs, the matrix operations are modified to use smaller
transformation matrices, which reduces the storage requirements of the
program.  This is a bit tricky, because the affine transformations and
the perspective transformation use different elements of the matrix.  I
consider that the risk of something going wrong, possibly producing
hard-to-find bugs, outweighs any benefits from saving memory (which
is usually no longer at a premium, anyway).  In addition, there may be
some interesting non-affine transformations that would be worth
implementing.  Therefore, I've decided to
use full
4 X 4
matrices in 3DLDF.</p>

   <p class="footnote"><small>[<a name="fn-13" href="#fnd-13">13</a>]</small> Pens are a concept from Metafont.  In 3DLDF,
there is currently no type &ldquo;<code>Pen</code>&rdquo;.  Pen arguments to functions
are simply <code>strings</code>, and are written unaltered to <code>out_stream</code>. 
For more information about
Metafont's <code>pens</code>, see
Knuth, <cite>The Metafontbook</cite>, Chapter 4.</p>

   <p class="footnote"><small>[<a name="fn-14" href="#fnd-14">14</a>]</small> <code>Colors</code> are declared in the
namespace <code>Colors</code>, so if you have
a &ldquo;<code>using</code>&rdquo; declaration in the function where you use
<code>drawdot()</code>, you can write &ldquo;<code>black</code>&rdquo; instead of
&ldquo;<code>Colors::black</code>&rdquo;.  For more information about namespaces, see
Stroustrup,  <cite>The C++
 Programming Language</cite>, Chapter 8.</p>

   <p class="footnote"><small>[<a name="fn-15" href="#fnd-15">15</a>]</small> &ldquo;A <dfn>reference</dfn> is an alternative name for an object.  The
main use of references is for specifying arguments and return values for
functions in general and for overloaded operators (Chapter 11) in
particular.&rdquo;  Stroustrup, <cite>The C++
 Programming Language</cite>,
section
5.5, p. 97.</p>

   <p class="footnote"><small>[<a name="fn-16" href="#fnd-16">16</a>]</small> I believe that
counter-examples could probably constructed, but for the most common
cases, the principle applies.</p>

   <p class="footnote"><small>[<a name="fn-17" href="#fnd-17">17</a>]</small> It's easy to forget to use <code>Point*</code> arguments, rather
than plain <code>Point</code> arguments, and to forget to end the list of
arguments with 0.  If plain <code>Point</code> arguments are used, compilation
fails with GCC.  With the DEC compiler, compilation succeeds, but a
memory fault error occurs at run-time.  If the argument list doesn't end
in 0, neither compiler signals an error, but a memory fault error always
occurs at run-time.</p>

   <p class="footnote"><small>[<a name="fn-18" href="#fnd-18">18</a>]</small> Knuth, <cite>The METAFONTbook</cite>, Chapter 14, p. 127.</p>

   <p class="footnote"><small>[<a name="fn-19" href="#fnd-19">19</a>]</small> Namespaces are described in
Stroustrup, <cite>The C++
 Programming Language</cite>, Chapter 8.</p>

   <p class="footnote"><small>[<a name="fn-20" href="#fnd-20">20</a>]</small> There are many books on linear perspective for artists. 
I've found Gwen White's <cite>Perspective.  A Guide for Artists,
Architects and Designers</cite> to be particularly good.  Vredeman de Vries,
<cite>Perspective</cite> contains beautiful examples of perspective
constructions.</p>

   <p class="footnote"><small>[<a name="fn-21" href="#fnd-21">21</a>]</small> (I believe the following to be correct, but I'm not entirely sure.) 
Let vector v be the line of sight.  By definition, the plane of
projection will be a plane p, such that vector v is normal to
p.  Let q_0 and q_1 be planes such that
q_0 == q_1 or q_0 || q_1, and  q_0 is
perpendicular to p. 
It follows that q_1 is perpendicular to p. 
Let l_0 and l_1 be lines, such that l_0 != l_1,
l_0 || l_1, l_0 lies within q_0, l_1 lies
within q_1,
l_0 is perpendicular to vector v, and l_1 is perpendicular
to vector v. 
Under these circumstances, the projections of l_0 and l_1
in p will also be parallel. 
</p>

   <p class="footnote"><small>[<a name="fn-22" href="#fnd-22">22</a>]</small> I believe this
to be true, but I'm not
certain.</p>

   <p class="footnote"><small>[<a name="fn-23" href="#fnd-23">23</a>]</small> The books on computer graphics and the fairly elementary
mathematics books that I own or have referred to don't go into
intersections very deeply.  One that does is
Fischer, Gerd.  <cite>Ebene Algebraische Kurven</cite>, which is a bit over my
head.</p>

   <p class="footnote"><small>[<a name="fn-24" href="#fnd-24">24</a>]</small> Stallman, Richard M. <cite>Using and Porting the GNU Compiler
Collection</cite>, p.&nbsp;<!-- /@w -->285.</p>

   <p class="footnote"><small>[<a name="fn-25" href="#fnd-25">25</a>]</small> Hobby, <cite>A User's Manual for MetaPost</cite>, pp.&nbsp;<!-- /@w -->21&ndash;22.</p>

   <p class="footnote"><small>[<a name="fn-26" href="#fnd-26">26</a>]</small> Rokicki, <cite>Dvips: A DVI-to-PostScript Translator</cite>, p.&nbsp;<!-- /@w -->24.</p>

   <p class="footnote"><small>[<a name="fn-27" href="#fnd-27">27</a>]</small> Knuth, Donald E. <cite>The Metafontbook</cite>, p. 66.</p>

   <p class="footnote"><small>[<a name="fn-28" href="#fnd-28">28</a>]</small> If your system supplies an unsigned integer type with the same
length as <code>long double</code>, then you can instantiate
<code>get_second_largest&lt;long double&gt;()</code> and call
&lsquo;<samp><span class="samp">get_second_largest&lt;long double&gt;(LDBL_MAX)</span></samp>&rsquo;.  However, I doubt
that this amount of precision would be worthwhile.  If it ever were
required, 3DLDF would have to be changed in other ways, too.  In
particular, it would have to use more precise trigonometric functions
for rotations.  See <a href="#Accuracy">Accuracy</a>.</p>

   <p class="footnote"><small>[<a name="fn-29" href="#fnd-29">29</a>]</small> For that matter, I haven't really tested whether 0.00001 is a
good value when <code>real</code> is <code>float</code>.</p>

   <p class="footnote"><small>[<a name="fn-30" href="#fnd-30">30</a>]</small> For a person, not in the sense of the program behaving
unpredictably.</p>

   <p class="footnote"><small>[<a name="fn-31" href="#fnd-31">31</a>]</small> <code>label()</code> and <code>dotlabel()</code>
are currently only defined for <code>Point</code> and <code>Path</code> (and the
latter's derived classes), i.e., not for <code>Solid</code> and its derived
classes.</p>

   <p class="footnote"><small>[<a name="fn-32" href="#fnd-32">32</a>]</small> Actually, it's printed to standard output
even if it is the empty string, you just don't see it.</p>

   <p class="footnote"><small>[<a name="fn-33" href="#fnd-33">33</a>]</small> It's unlikely that <code>Points</code> will lie on a <code>Plane</code>,
unless the user constructs the case specially. 
In [next figure]
, the coordinates for B and C were found by using
<code>Plane::intersection_point()</code>. 
See <a href="#Plane-Intersections">Planes; Intersections</a>.</p>

   <p class="footnote"><small>[<a name="fn-34" href="#fnd-34">34</a>]</small> For that matter, I haven't really tested whether 0.00001 is a
good value when <code>real</code> is <code>float</code>.</p>

   <p class="footnote"><small>[<a name="fn-35" href="#fnd-35">35</a>]</small> Stroustrup, <cite>The C++
 Programming Language</cite>, p.&nbsp;<!-- /@w -->96.</p>

   <p class="footnote"><small>[<a name="fn-36" href="#fnd-36">36</a>]</small> It isn't sufficient to check whether a
<code>Path</code> consists of only two <code>Points</code> to determine whether it
is a line or not, since a connector with &ldquo;<code>curl</code>&rdquo; could cause it
to be non-linear.  On the other hand, <code>Paths</code> containing only
colinear <code>Points</code> and the connector <code>"--"</code> are perfectly
legitimate lines.  I'm in the process of changing all of the code that
tests for linearity by checking the value of <code>line_switch</code>, so that
it uses <code>is_linear()</code> instead.  When I've done this, it may be
possible to eliminate <code>line_switch</code>. 
See <a href="#Path-Data-Members">Path Reference; Data Members</a>, and
<a href="#Querying-Paths">Path Reference; Querying</a>.</p>

   <p class="footnote"><small>[<a name="fn-37" href="#fnd-37">37</a>]</small> Stroustrup, <cite>The C++
 Programming Language</cite>, p.&nbsp;<!-- /@w -->88.</p>

   <p class="footnote"><small>[<a name="fn-38" href="#fnd-38">38</a>]</small> Where possible, I prefer to use the C++
 data
type <code>string</code> rather than <code>char*</code>, however it was necessary to
use <code>char*</code> here because 0 is not a valid <code>string</code>, even
though <code>string</code> may be implemented as <code>char*</code>,
and 0 must be a valid argument, since it is needed to indicate the end
of the argument list.</p>

   <p class="footnote"><small>[<a name="fn-39" href="#fnd-39">39</a>]</small> Hobby, <cite>A User's Manual for MetaPost</cite>, p.&nbsp;<!-- /@w -->32.</p>

   <p class="footnote"><small>[<a name="fn-40" href="#fnd-40">40</a>]</small> Knuth, <cite>The METAFONTbook</cite>, Chapter 4, p.&nbsp;<!-- /@w -->21ff. 
Hobby, <cite>A User's Manual for MetaPost</cite>, p.&nbsp;<!-- /@w -->32.</p>

   <p class="footnote"><small>[<a name="fn-41" href="#fnd-41">41</a>]</small> The usual interpretation of <code>""</code> as a
position argument to a
labelling command would be to put it directly onto <code>*(Label.pt)</code>,
which in this case would put it onto the arrowhead.  Since this
will probably never be desirable, I've decided to use <code>""</code> to
suppress drawing axes.  Formerly, <code>draw_axes()</code> used three
additional arguments for this purpose.</p>

   <p class="footnote"><small>[<a name="fn-42" href="#fnd-42">42</a>]</small> The following example shows only one <code>Point</code> per
line.  In actual use, two <code>Points</code> are shown, but this causes
overfull boxes in Texinfo.</p>

   <p class="footnote"><small>[<a name="fn-43" href="#fnd-43">43</a>]</small> <code>Reg_Polygon</code> and <code>Rectangle</code> are currently the only
classes derived from <code>Polygon</code>.</p>

   <p class="footnote"><small>[<a name="fn-44" href="#fnd-44">44</a>]</small> If you don't
know what &ldquo;overfull boxes&rdquo; are, don't worry about it.  It has to do with
TeX's line and page breaking algorithms.  If you want to know more,
see Knuth, Donald E., <cite>The TeXbook</cite>.</p>

   <p class="footnote"><small>[<a name="fn-45" href="#fnd-45">45</a>]</small> Albrecht D&uuml;rer invented this method of constructing polyhedra. 
<!-- !! TO DO:  Find citation! -->
</p>

   <p class="footnote"><small>[<a name="fn-46" href="#fnd-46">46</a>]</small> The GNU Coding Standards are available at
<a href="http://www.gnu.org/prep/standards_toc.html">http://www.gnu.org/prep/standards_toc.html</a>.</p>

   <p class="footnote"><small>[<a name="fn-47" href="#fnd-47">47</a>]</small> Automake is available for downloading from
<a href="http://ftp.gnu.org/gnu/automake/">http://ftp.gnu.org/gnu/automake/</a>.  The Automake website is at
<a href="http://www.gnu.org/software/automake/">http://www.gnu.org/software/automake/</a>.</p>

   <p class="footnote"><small>[<a name="fn-48" href="#fnd-48">48</a>]</small> Stroustrup, <cite>The C++
 Programming Language</cite>,
&amp;sect;15.2
&ldquo;Multiple Inheritance&rdquo;, pp.&nbsp;<!-- /@w -->390&ndash;92.</p>

   <p class="footnote"><small>[<a name="fn-49" href="#fnd-49">49</a>]</small> Cundy and Rollet, <cite>Mathematical Models</cite>, Chapter 3,
&ldquo;Polyhedra&rdquo;, pp. 76&ndash;160.</p>

   <p class="footnote"><small>[<a name="fn-50" href="#fnd-50">50</a>]</small> Huw Jones,
<i>Computer Graphics through Key Mathematics</i>, and
David Salomon,
<i>Computer Graphics and Geometric Modeling</i>, are my main sources of
information about spline curves.</p>

   <p class="footnote"><small>[<a name="fn-51" href="#fnd-51">51</a>]</small> Jones, Huw. 
<i>Computer Graphics through Key Mathematics</i>, p.&nbsp;<!-- /@w -->282.</p>

   <p class="footnote"><small>[<a name="fn-52" href="#fnd-52">52</a>]</small> Knuth, Donald Ervin. 
<i>The METAFONTbook</i>, p.&nbsp;<!-- /@w -->130, and
Hobby, John D. 
<i>Smooth, Easy to Compute Interpolating Splines</i>. 
Discrete and Computational Geometery 1(2).</p>

   <hr></div>

</body></html>

