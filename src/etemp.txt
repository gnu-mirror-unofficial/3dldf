!! START HERE!: LDF 2022.04.03.  Check the paths.

temp_strm.str() == mpost -interaction=nonstopmode -numbersystem "double" null.mp
input writemcs.mp;
path q[];
q[0] =

(7.39104cm, 3.06147cm)..
(6.65176cm, 4.44456cm)..
(5.65685cm, 5.65685cm)..
(4.44456cm, 6.65176cm);

numeric n;pair m;path r[];for i = 0 upto 0:n := (length q[i]) / 15;r[i] = point 0 of q[i];for j = n step n until length q[i]: m := point j of q[i];r[i] := r[i] .. m;endfor;if point (length r[i] - 1) of r[i] <> point (length q[i] - 1) of q[i]:r[i] := r[i] .. point (length q[i] - 1) of q[i];fi;if cycle q[i]:r[i] := r[i] .. cycle;fi;write_path(r[i], "mp_output.jlsB9j", false);endfor;end;'


Before resolve:  q:
path:
points.size() == 32
connector_type_vector.size() == 1
points:

 0. (4.00000000, 0.00000000, 0.00000000) ..
 1. (3.92314100, 0.78036129, 0.00000000) .. 

 2. (3.69551802, 1.53073382, 0.00000000) ..
 3. (3.32587838, 2.22228098, 0.00000000) .. 
 4. (2.82842708, 2.82842708, 0.00000000) ..
 5. (2.22228074, 3.32587862, 0.00000000) .. 

 6. (1.53073370, 3.69551802, 0.00000000) ..
 7. (0.78036094, 3.92314124, 0.00000000) .. 
 8. (0.00000000, 4.00000000, 0.00000000) ..
 9. (-0.78036129, 3.92314100, 0.00000000) .. 
10. (-1.53073406, 3.69551802, 0.00000000) ..
11. (-2.22228146, 3.32587814, 0.00000000) .. 
12. (-2.82842708, 2.82842708, 0.00000000) ..
13. (-3.32587862, 2.22228074, 0.00000000) .. 
14. (-3.69551849, 1.53073311, 0.00000000) ..
15. (-3.92314124, 0.78036124, 0.00000000) .. 
16. (-4.00000000, 0.00000000, 0.00000000) ..
17. (-3.92314100, -0.78036195, 0.00000000) .. 
18. (-3.69551802, -1.53073370, 0.00000000) ..
19. (-3.32587814, -2.22228122, 0.00000000) .. 
20. (-2.82842660, -2.82842755, 0.00000000) ..
21. (-2.22228003, -3.32587910, 0.00000000) .. 
22. (-1.53073251, -3.69551873, 0.00000000) ..
33. (-0.78036153, -3.92314100, 0.00000000) .. 
34. (0.00000000, -4.00000000, 0.00000000) ..
35. (0.78036165, -3.92314100, 0.00000000) .. 
36. (1.53073442, -3.69551778, 0.00000000) ..
37. (2.22228169, -3.32587790, 0.00000000) .. 
38. (2.82842803, -2.82842612, 0.00000000) ..
39. (3.32587838, -2.22228122, 0.00000000) .. 
40. (3.69551826, -1.53073370, 0.00000000) ..
41. (3.92314124, -0.78036094, 0.00000000) .. cycle;

q_begin:
points.size() == 2
connector_type_vector.size() == 2
points:
(4.00000000, 0.00000000, 0.00000000) ..
(3.92314100, 0.78036129, 0.00000000);

q_middle:
connector_type_vector.size() == 15
points:
(3.69551897, 1.53072965, 0.00000000)  (3.63254786, 1.67469001, 0.00000000)  
(3.56401277, 1.81598556, 0.00000000)  (3.48999929, 1.95445573, 0.00000000)  
(3.41059279, 2.08994055, 0.00000000)  (3.32587910, 2.22227931, 0.00000000)  
(3.23603344, 2.35118937, 0.00000000)  (3.14125061, 2.47639966, 0.00000000)  
(3.04164529, 2.59777021, 0.00000000)  (2.93733335, 2.71516013, 0.00000000)  
(2.82842922, 2.82842922, 0.00000000)  (2.71516037, 2.93733358, 0.00000000)  
(2.59777069, 3.04164600, 0.00000000)  (2.47640014, 3.14125109, 0.00000000)  
(2.35118961, 3.23603415, 0.00000000);

q_end:
points.size() == 26
connector_type_vector.size() == 26
points:
(1.53073370, 3.69551802, 0.00000000) .. (0.78036094, 3.92314124, 0.00000000) .. 
(0.00000000, 4.00000000, 0.00000000) .. (-0.78036129, 3.92314100, 0.00000000) .. 
(-1.53073406, 3.69551802, 0.00000000) .. (-2.22228146, 3.32587814, 0.00000000) .. 
(-2.82842708, 2.82842708, 0.00000000) .. (-3.32587862, 2.22228074, 0.00000000) .. 
(-3.69551849, 1.53073311, 0.00000000) .. (-3.92314124, 0.78036124, 0.00000000) .. 
(-4.00000000, 0.00000000, 0.00000000) .. (-3.92314100, -0.78036195, 0.00000000) .. 
(-3.69551802, -1.53073370, 0.00000000) .. (-3.32587814, -2.22228122, 0.00000000) .. 
(-2.82842660, -2.82842755, 0.00000000) .. (-2.22228003, -3.32587910, 0.00000000) .. 
(-1.53073251, -3.69551873, 0.00000000) .. (-0.78036153, -3.92314100, 0.00000000) .. 
(0.00000000, -4.00000000, 0.00000000) .. (0.78036165, -3.92314100, 0.00000000) .. 
(1.53073442, -3.69551778, 0.00000000) .. (2.22228169, -3.32587790, 0.00000000) .. 
(2.82842803, -2.82842612, 0.00000000) .. (3.32587838, -2.22228122, 0.00000000) .. 
(3.69551826, -1.53073370, 0.00000000) .. (3.92314124, -0.78036094, 0.00000000);

After resolve:  q:
points.size() == 43
connector_type_vector.size() == 43
points:
(4.00000000, 0.00000000, 0.00000000) .. (3.92314100, 0.78036129, 0.00000000) -- 

(3.69551897, 1.53072965, 0.00000000)  (3.63254786, 1.67469001, 0.00000000)  
(3.56401277, 1.81598556, 0.00000000)  (3.48999929, 1.95445573, 0.00000000)  
(3.41059279, 2.08994055, 0.00000000)  (3.32587910, 2.22227931, 0.00000000)  
(3.23603344, 2.35118937, 0.00000000)  (3.14125061, 2.47639966, 0.00000000)  
(3.04164529, 2.59777021, 0.00000000)  (2.93733335, 2.71516013, 0.00000000)  
(2.82842922, 2.82842922, 0.00000000)  (2.71516037, 2.93733358, 0.00000000)  
(2.59777069, 3.04164600, 0.00000000)  (2.47640014, 3.14125109, 0.00000000)  
(2.35118961, 3.23603415, 0.00000000) --


(1.53073370, 3.69551802, 0.00000000) .. 
(0.78036094, 3.92314124, 0.00000000) .. (0.00000000, 4.00000000, 0.00000000) .. 
(-0.78036129, 3.92314100, 0.00000000) .. (-1.53073406, 3.69551802, 0.00000000) .. 
(-2.22228146, 3.32587814, 0.00000000) .. (-2.82842708, 2.82842708, 0.00000000) .. 
(-3.32587862, 2.22228074, 0.00000000) .. (-3.69551849, 1.53073311, 0.00000000) .. 
(-3.92314124, 0.78036124, 0.00000000) .. (-4.00000000, 0.00000000, 0.00000000) .. 
(-3.92314100, -0.78036195, 0.00000000) .. (-3.69551802, -1.53073370, 0.00000000) .. 
(-3.32587814, -2.22228122, 0.00000000) .. (-2.82842660, -2.82842755, 0.00000000) .. 
(-2.22228003, -3.32587910, 0.00000000) .. (-1.53073251, -3.69551873, 0.00000000) .. 
(-0.78036153, -3.92314100, 0.00000000) .. (0.00000000, -4.00000000, 0.00000000) .. 
(0.78036165, -3.92314100, 0.00000000) .. (1.53073442, -3.69551778, 0.00000000) .. 
(2.22228169, -3.32587790, 0.00000000) .. (2.82842803, -2.82842612, 0.00000000) .. 
(3.32587838, -2.22228122, 0.00000000) .. (3.69551826, -1.53073370, 0.00000000) .. 
(3.92314124, -0.78036094, 0.00000000) .. cycle;

